(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{46207:function(e,s,t){Promise.resolve().then(t.bind(t,59394))},59394:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return aP}});var a=t(42140),r=t(16392),i=t(21096),n=t(70347),l=t(94240),c=t(72230);function d(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,c.m6)((0,l.W)(s))}let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function m(e){let{className:s,variant:t,size:r,asChild:n=!1,...l}=e,c=n?i.g7:"button";return(0,a.jsx)(c,{"data-slot":"button",className:d(o({variant:t,size:r,className:s})),...l})}let x=(0,n.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function h(e){let{className:s,variant:t,asChild:r=!1,...n}=e,l=r?i.g7:"span";return(0,a.jsx)(l,{"data-slot":"badge",className:d(x({variant:t}),s),...n})}var u=t(92380);function j(e){let{className:s,...t}=e;return(0,a.jsx)(u.fC,{"data-slot":"tabs",className:d("flex flex-col gap-2",s),...t})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(u.aV,{"data-slot":"tabs-list",className:d("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function g(e){let{className:s,...t}=e;return(0,a.jsx)(u.xz,{"data-slot":"tabs-trigger",className:d("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function v(e){let{className:s,...t}=e;return(0,a.jsx)(u.VY,{"data-slot":"tabs-content",className:d("flex-1 outline-none",s),...t})}var f=t(97973),N=t(78545),y=t(64528),b=t(82439),w=t(92047),S=t(31263);function k(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:d("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function R(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:d("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function C(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:d("leading-none font-semibold",s),...t})}function D(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:d("text-muted-foreground text-sm",s),...t})}function M(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:d("px-6",s),...t})}var T=t(83996),A=t(26661),I=t(4694),Z=t(17406),L=t(96439),F=t(67901),P=t(70485),z=t(40073),E=t(42997);function O(e){let{...s}=e;return(0,a.jsx)(z.fC,{"data-slot":"dialog",...s})}function q(e){let{...s}=e;return(0,a.jsx)(z.xz,{"data-slot":"dialog-trigger",...s})}function K(e){let{...s}=e;return(0,a.jsx)(z.h_,{"data-slot":"dialog-portal",...s})}function V(e){let{className:s,...t}=e;return(0,a.jsx)(z.aV,{"data-slot":"dialog-overlay",className:d("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function B(e){let{className:s,children:t,showCloseButton:r=!0,...i}=e;return(0,a.jsxs)(K,{"data-slot":"dialog-portal",children:[(0,a.jsx)(V,{}),(0,a.jsxs)(z.VY,{"data-slot":"dialog-content",className:d("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...i,children:[t,r&&(0,a.jsxs)(z.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(E.Z,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function U(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:d("flex flex-col gap-2 text-center sm:text-left",s),...t})}function W(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:d("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function _(e){let{className:s,...t}=e;return(0,a.jsx)(z.Dx,{"data-slot":"dialog-title",className:d("text-lg leading-none font-semibold",s),...t})}function H(e){let{className:s,...t}=e;return(0,a.jsx)(z.dk,{"data-slot":"dialog-description",className:d("text-muted-foreground text-sm",s),...t})}var Q=t(73483),J=t(92292),G=t(40375),Y=t(14273);function $(e){let{...s}=e;return(0,a.jsx)(Q.fC,{"data-slot":"select",...s})}function X(e){let{...s}=e;return(0,a.jsx)(Q.B4,{"data-slot":"select-value",...s})}function ee(e){let{className:s,size:t="default",children:r,...i}=e;return(0,a.jsxs)(Q.xz,{"data-slot":"select-trigger","data-size":t,className:d("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i,children:[r,(0,a.jsx)(Q.JO,{asChild:!0,children:(0,a.jsx)(J.Z,{className:"size-4 opacity-50"})})]})}function es(e){let{className:s,children:t,position:r="popper",...i}=e;return(0,a.jsx)(Q.h_,{children:(0,a.jsxs)(Q.VY,{"data-slot":"select-content",className:d("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...i,children:[(0,a.jsx)(ea,{}),(0,a.jsx)(Q.l_,{className:d("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(er,{})]})})}function et(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(Q.ck,{"data-slot":"select-item",className:d("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(Q.wU,{children:(0,a.jsx)(G.Z,{className:"size-4"})})}),(0,a.jsx)(Q.eT,{children:t})]})}function ea(e){let{className:s,...t}=e;return(0,a.jsx)(Q.u_,{"data-slot":"select-scroll-up-button",className:d("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(Y.Z,{className:"size-4"})})}function er(e){let{className:s,...t}=e;return(0,a.jsx)(Q.$G,{"data-slot":"select-scroll-down-button",className:d("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(J.Z,{className:"size-4"})})}var ei=t(38950);function en(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(ei.fC,{"data-slot":"scroll-area",className:d("relative",s),...r,children:[(0,a.jsx)(ei.l_,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),(0,a.jsx)(el,{}),(0,a.jsx)(ei.Ns,{})]})}function el(e){let{className:s,orientation:t="vertical",...r}=e;return(0,a.jsx)(ei.gb,{"data-slot":"scroll-area-scrollbar",orientation:t,className:d("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",s),...r,children:(0,a.jsx)(ei.q4,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var ec=t(63743);function ed(e){let{className:s,value:t,...r}=e;return(0,a.jsx)(ec.fC,{"data-slot":"progress",className:d("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...r,children:(0,a.jsx)(ec.z$,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}var eo=t(84105),em=t(72856),ex=t(33512),eh=t(58629),eu=t(95613),ej=t(43355),ep=t(86765),eg=t(13019),ev=t(55896),ef=t(32546),eN=t(65159),ey=t(83648),eb=t(34886),ew=t(21301),eS=t(92589),ek=t(69564),eR=t(88914),eC=t(57304),eD=t(16913),eM=t(60011),eT=t(42907);let eA=()=>[{name:"Main Database Server",type:"database",location:"Delhi Data Center"},{name:"Analytics Engine",type:"application",location:"Mumbai Cloud"},{name:"QR Code Scanner API",type:"application",location:"Chennai Server"},{name:"Predictive AI System",type:"application",location:"Bangalore Cloud"},{name:"Network Gateway",type:"network",location:"Kolkata Hub"},{name:"Backup Database",type:"database",location:"Hyderabad DC"},{name:"Mobile App Backend",type:"server",location:"Pune Cloud"},{name:"IoT Sensor Network",type:"sensor",location:"Multi-Zone"},{name:"Web Dashboard",type:"application",location:"Delhi Cloud"},{name:"Authentication Service",type:"server",location:"Mumbai DC"},{name:"File Storage System",type:"database",location:"Chennai Cloud"},{name:"Notification Service",type:"application",location:"Bangalore Server"}].map((e,s)=>{let t=["operational","warning","critical","maintenance"],a=[.8,.15,.03,.02],r="operational",i=Math.random(),n=0;for(let e=0;e<t.length;e++)if(i<(n+=a[e])){r=t[e];break}let l="critical"===r?60*Math.random()+40:"warning"===r?10*Math.random()+85:"maintenance"===r?20*Math.random()+75:5*Math.random()+95,c="critical"===r?30*Math.random()+20:"warning"===r?20*Math.random()+60:"maintenance"===r?30*Math.random()+40:15*Math.random()+85,d="operational"!==r?["High response time detected","Memory usage above threshold","Network latency increased","Disk space running low","SSL certificate expiring soon"].slice(0,Math.floor(2*Math.random()+1)):void 0;return{id:"SYS-".concat(String(s+1).padStart(3,"0")),name:e.name,status:r,uptime:Math.round(100*l)/100,lastCheck:new Date(Date.now()-36e5*Math.random()).toISOString(),location:e.location,type:e.type,performance:Math.round(100*c)/100,issues:d}}),eI=()=>{let e=[],s=new Date;for(let t=23;t>=0;t--){let a=new Date(s.getTime()-36e5*t);e.push({timestamp:a.toISOString(),cpu:40*Math.random()+30,memory:30*Math.random()+40,network:50*Math.random()+25,response:200*Math.random()+100,availability:5*Math.random()+95})}return e};function eZ(e){switch(e){case"operational":return"bg-green-500/10 text-green-500 border-green-500";case"warning":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"critical":return"bg-red-500/10 text-red-500 border-red-500";case"maintenance":return"bg-blue-500/10 text-blue-500 border-blue-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}function eL(e){switch(e){case"operational":return(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"});case"warning":return(0,a.jsx)(ek.Z,{className:"h-4 w-4 text-yellow-500"});case"critical":return(0,a.jsx)(ek.Z,{className:"h-4 w-4 text-red-500"});case"maintenance":return(0,a.jsx)(P.Z,{className:"h-4 w-4 text-blue-500"});default:return(0,a.jsx)(eR.Z,{className:"h-4 w-4 text-gray-400"})}}function eF(e){let{open:s,onOpenChange:t}=e,[i]=(0,r.useState)(()=>eA()),[n]=(0,r.useState)(()=>eI()),[l,c]=(0,r.useState)("all"),[d,o]=(0,r.useState)("all"),x=(0,r.useMemo)(()=>i.filter(e=>{let s="all"===l||e.status===l,t="all"===d||e.type===d;return s&&t}),[i,l,d]),u=(0,r.useMemo)(()=>{let e=i.filter(e=>"operational"===e.status).length,s=i.filter(e=>"warning"===e.status).length,t=i.filter(e=>"critical"===e.status).length;return{operational:e,warning:s,critical:t,maintenance:i.filter(e=>"maintenance"===e.status).length,avgUptime:i.reduce((e,s)=>e+s.uptime,0)/i.length,avgPerformance:i.reduce((e,s)=>e+s.performance,0)/i.length}},[i]),f=[{name:"Operational",value:u.operational,color:"#22c55e"},{name:"Warning",value:u.warning,color:"#eab308"},{name:"Critical",value:u.critical,color:"#ef4444"},{name:"Maintenance",value:u.maintenance,color:"#3b82f6"}];return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[1200px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{children:"System Health Overview"})]}),(0,a.jsx)(H,{children:"Comprehensive monitoring of all railway infrastructure systems"})]}),(0,a.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"overview",children:"Overview"}),(0,a.jsx)(g,{value:"components",children:"Components"}),(0,a.jsx)(g,{value:"performance",children:"Performance"}),(0,a.jsx)(g,{value:"alerts",children:"Alerts"})]}),(0,a.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:u.operational}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Operational"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:u.warning}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Warning"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500",children:u.critical}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Critical"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:u.maintenance}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Maintenance"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"System Status Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:f,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",nameKey:"name",children:f.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{formatter:e=>[e,"Systems"]})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Key Metrics"})}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"Overall Uptime"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[u.avgUptime.toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:u.avgUptime,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"Average Performance"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[u.avgPerformance.toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:u.avgPerformance,className:"h-2"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-primary",children:"12"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Total Systems"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-green-500",children:"98.6%"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Health Score"})]})]})]})]})]})]}),(0,a.jsxs)(v,{value:"components",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)($,{value:l,onValueChange:c,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Status"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Status"}),(0,a.jsx)(et,{value:"operational",children:"Operational"}),(0,a.jsx)(et,{value:"warning",children:"Warning"}),(0,a.jsx)(et,{value:"critical",children:"Critical"}),(0,a.jsx)(et,{value:"maintenance",children:"Maintenance"})]})]}),(0,a.jsxs)($,{value:d,onValueChange:o,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Type"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Types"}),(0,a.jsx)(et,{value:"server",children:"Server"}),(0,a.jsx)(et,{value:"database",children:"Database"}),(0,a.jsx)(et,{value:"network",children:"Network"}),(0,a.jsx)(et,{value:"sensor",children:"Sensor"}),(0,a.jsx)(et,{value:"application",children:"Application"})]})]})]}),(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-3",children:x.map(e=>(0,a.jsx)(k,{className:"hover:shadow-md transition-shadow",children:(0,a.jsxs)(M,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[function(e){switch(e){case"server":return(0,a.jsx)(eC.Z,{className:"h-4 w-4"});case"database":return(0,a.jsx)(eD.Z,{className:"h-4 w-4"});case"network":return(0,a.jsx)(eM.Z,{className:"h-4 w-4"});case"sensor":return(0,a.jsx)(eT.Z,{className:"h-4 w-4"});case"application":return(0,a.jsx)(eR.Z,{className:"h-4 w-4"});default:return(0,a.jsx)(A.Z,{className:"h-4 w-4"})}}(e.type),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.location})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[eL(e.status),(0,a.jsx)(h,{className:eZ(e.status),children:e.status.toUpperCase()})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Uptime"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.uptime,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Performance"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.performance,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Last Check"}),(0,a.jsx)("div",{className:"font-medium",children:new Date(e.lastCheck).toLocaleTimeString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Type"}),(0,a.jsx)("div",{className:"font-medium capitalize",children:e.type})]})]}),e.issues&&e.issues.length>0&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-yellow-500/10 border-l-4 border-yellow-500 rounded",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-yellow-500 mb-1",children:"Active Issues"}),(0,a.jsx)("div",{className:"text-sm space-y-1",children:e.issues.map((e,s)=>(0,a.jsxs)("div",{children:["• ",e]},s))})]})]})},e.id))})})]}),(0,a.jsxs)(v,{value:"performance",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"System Availability (24h)"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(ej.T,{data:n,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"timestamp",tickFormatter:e=>new Date(e).getHours()+":00"}),(0,a.jsx)(ev.B,{domain:[90,100]}),(0,a.jsx)(eu.u,{labelFormatter:e=>new Date(e).toLocaleTimeString(),formatter:e=>["".concat(e.toFixed(1),"%"),"Availability"]}),(0,a.jsx)(ef.u,{type:"monotone",dataKey:"availability",stroke:"#22c55e",fill:"#22c55e",fillOpacity:.3})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Resource Usage (24h)"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(eN.w,{data:n,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"timestamp",tickFormatter:e=>new Date(e).getHours()+":00"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{labelFormatter:e=>new Date(e).toLocaleTimeString(),formatter:(e,s)=>["".concat(e.toFixed(1),"%"),s.toUpperCase()]}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"cpu",stroke:"#ef4444",strokeWidth:2}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"memory",stroke:"#3b82f6",strokeWidth:2}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"network",stroke:"#8b5cf6",strokeWidth:2})]})})})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Response Time Trends"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(eb.v,{data:n.slice(-12),children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"timestamp",tickFormatter:e=>new Date(e).getHours()+":00"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{labelFormatter:e=>new Date(e).toLocaleTimeString(),formatter:e=>["".concat(e.toFixed(0),"ms"),"Response Time"]}),(0,a.jsx)(ew.$,{dataKey:"response",fill:"#f97316"})]})})})]})]}),(0,a.jsx)(v,{value:"alerts",className:"space-y-4",children:(0,a.jsx)("div",{className:"grid gap-4",children:i.filter(e=>"operational"!==e.status).map(e=>(0,a.jsx)(k,{className:"border-l-4 ".concat("critical"===e.status?"border-red-500":"warning"===e.status?"border-yellow-500":"border-blue-500"),children:(0,a.jsxs)(M,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[eL(e.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.location})]})]}),(0,a.jsx)(h,{className:eZ(e.status),children:e.status.toUpperCase()})]}),e.issues&&(0,a.jsx)("div",{className:"mt-3 space-y-1",children:e.issues.map((e,s)=>(0,a.jsxs)("div",{className:"text-sm flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-current mt-2 flex-shrink-0"}),(0,a.jsx)("span",{children:e})]},s))}),(0,a.jsx)("div",{className:"mt-3 flex justify-end",children:(0,a.jsx)(m,{size:"sm",variant:"outline",children:"View Details"})})]})},e.id))})})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}function eP(e){let{className:s,type:t,...r}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:d("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}function ez(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:d("w-full caption-bottom text-sm",s),...t})})}function eE(e){let{className:s,...t}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:d("[&_tr]:border-b",s),...t})}function eO(e){let{className:s,...t}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:d("[&_tr:last-child]:border-0",s),...t})}function eq(e){let{className:s,...t}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:d("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...t})}function eK(e){let{className:s,...t}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:d("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function eV(e){let{className:s,...t}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:d("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}var eB=t(76994),eU=t(59337),eW=t(41697);let e_=()=>{let e=["Rail Joints","Fish Plates","Sleepers","Fasteners","Switches","Crossings","Rails","Ballast","Signaling Equipment","Power Supply","Cables","Transformers","Control Systems","Sensors","Monitors"],s=["RailTech Industries","Indian Railway Components","Steel Masters Ltd","Junction Works","Metro Supply Co","Track Solutions","SafeRail Systems","Railway Infrastructure Ltd","Premium Rail Components","Eastern Suppliers"],t=["Northern Railway","Western Railway","Eastern Railway","Southern Railway","Central Railway","South Central Railway","Northeast Frontier Railway","North Central Railway","South East Central Railway","East Central Railway","North Western Railway","South Western Railway"];return Array.from({length:150},(a,r)=>{let i=e[Math.floor(Math.random()*e.length)],n=s[Math.floor(Math.random()*s.length)],l=t[Math.floor(Math.random()*t.length)],c=new Date(Date.now()-126144e6*Math.random()),d=new Date(c.getTime()+2592e6*Math.random()),o=new Date(d.getTime()+31536e6*Math.floor(3*Math.random()+2)),m=new Date,x=Math.floor((o.getTime()-m.getTime())/864e5),h="active";x<0?h="expired":x<90?h="expiring":Math.random()>.9&&(h="extended");let u=["full","partial","labor_only"],j=u[Math.floor(Math.random()*u.length)];return{id:"WTY-".concat(String(r+1).padStart(4,"0")),component:i,vendor:n,purchaseDate:c.toISOString().split("T")[0],warrantyStart:d.toISOString().split("T")[0],warrantyEnd:o.toISOString().split("T")[0],status:h,coverage:j,zone:l,location:"Section ".concat(String.fromCharCode(65+Math.floor(5*Math.random())),", Track ").concat(Math.floor(4*Math.random())+1),value:Math.floor(5e5*Math.random()+5e4),claimsUsed:Math.floor(3*Math.random()),maxClaims:Math.floor(3*Math.random()+3)}})},eH=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(e=>({month:e,active:Math.floor(50*Math.random()+120),expiring:Math.floor(20*Math.random()+10),expired:Math.floor(15*Math.random()+5),renewed:Math.floor(25*Math.random()+15)}));function eQ(e){switch(e){case"full":return"bg-green-500/10 text-green-500 border-green-500";case"partial":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"labor_only":return"bg-orange-500/10 text-orange-500 border-orange-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}function eJ(e){let s=new Date;return Math.floor((new Date(e).getTime()-s.getTime())/864e5)}function eG(e){let{open:s,onOpenChange:t}=e,[i]=(0,r.useState)(()=>e_()),[n]=(0,r.useState)(()=>eH()),[l,c]=(0,r.useState)(""),[d,o]=(0,r.useState)("all"),[x,u]=(0,r.useState)("all"),[f,N]=(0,r.useState)("all"),y=(0,r.useMemo)(()=>i.filter(e=>{let s=e.component.toLowerCase().includes(l.toLowerCase())||e.vendor.toLowerCase().includes(l.toLowerCase())||e.id.toLowerCase().includes(l.toLowerCase()),t="all"===d||e.status===d,a="all"===x||e.zone===x,r="all"===f||e.coverage===f;return s&&t&&a&&r}),[i,l,d,x,f]),w=(0,r.useMemo)(()=>{let e=i.filter(e=>"active"===e.status).length,s=i.filter(e=>"expiring"===e.status).length,t=i.filter(e=>"expired"===e.status).length,a=i.filter(e=>"extended"===e.status).length,r=i.reduce((e,s)=>e+s.value,0),n=(e+s+a)/i.length*100;return{active:e,expiring:s,expired:t,extended:a,totalValue:r,coveragePercentage:n}},[i]),S=[{name:"Active",value:w.active,color:"#22c55e"},{name:"Expiring",value:w.expiring,color:"#eab308"},{name:"Expired",value:w.expired,color:"#ef4444"},{name:"Extended",value:w.extended,color:"#3b82f6"}],T=Array.from(new Set(i.map(e=>e.zone))).sort();return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[1200px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(I.Z,{className:"h-5 w-5 text-blue-500"}),(0,a.jsx)("span",{children:"Warranty Coverage Overview"})]}),(0,a.jsx)(H,{children:"Comprehensive warranty management for 3.2M railway fittings across all zones"})]}),(0,a.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"overview",children:"Overview"}),(0,a.jsx)(g,{value:"warranties",children:"Warranties"}),(0,a.jsx)(g,{value:"expiring",children:"Expiring Soon"}),(0,a.jsx)(g,{value:"analytics",children:"Analytics"})]}),(0,a.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:w.active}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Active Warranties"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:w.expiring}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Expiring Soon"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500",children:w.expired}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Expired"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:w.extended}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Extended"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Warranty Status Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:S,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",nameKey:"name",children:S.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{formatter:e=>[e,"Items"]})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Coverage Metrics"})}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"Coverage Percentage"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[w.coveragePercentage.toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:w.coveragePercentage,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Total Coverage Value"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:["₹",(w.totalValue/1e7).toFixed(1),"Cr"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Average Warranty Period"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"3.2 years"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Renewal Rate"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"87%"})]})]})]})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Monthly Warranty Trends"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(eN.w,{data:n,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"month"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"active",stroke:"#22c55e",strokeWidth:2,name:"Active"}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"expiring",stroke:"#eab308",strokeWidth:2,name:"Expiring"}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"renewed",stroke:"#3b82f6",strokeWidth:2,name:"Renewed"})]})})})]})]}),(0,a.jsxs)(v,{value:"warranties",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eB.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(eP,{placeholder:"Search warranties...",value:l,onChange:e=>c(e.target.value),className:"pl-10"})]}),(0,a.jsxs)($,{value:d,onValueChange:o,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Status"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Status"}),(0,a.jsx)(et,{value:"active",children:"Active"}),(0,a.jsx)(et,{value:"expiring",children:"Expiring"}),(0,a.jsx)(et,{value:"expired",children:"Expired"}),(0,a.jsx)(et,{value:"extended",children:"Extended"})]})]}),(0,a.jsxs)($,{value:x,onValueChange:u,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Zone"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Zones"}),T.map(e=>(0,a.jsx)(et,{value:e,children:e},e))]})]}),(0,a.jsxs)($,{value:f,onValueChange:N,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Coverage"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Coverage"}),(0,a.jsx)(et,{value:"full",children:"Full Coverage"}),(0,a.jsx)(et,{value:"partial",children:"Partial Coverage"}),(0,a.jsx)(et,{value:"labor_only",children:"Labor Only"})]})]}),(0,a.jsxs)(m,{variant:"outline",children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 mr-2"}),"Export"]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",y.length," of ",i.length," warranty items"]}),(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsxs)(ez,{children:[(0,a.jsx)(eE,{children:(0,a.jsxs)(eq,{children:[(0,a.jsx)(eK,{children:"Component"}),(0,a.jsx)(eK,{children:"Vendor"}),(0,a.jsx)(eK,{children:"Status"}),(0,a.jsx)(eK,{children:"Coverage"}),(0,a.jsx)(eK,{children:"Expires"}),(0,a.jsx)(eK,{children:"Zone"}),(0,a.jsx)(eK,{children:"Value"}),(0,a.jsx)(eK,{children:"Claims"})]})}),(0,a.jsx)(eO,{children:y.map(e=>{let s=eJ(e.warrantyEnd);return(0,a.jsxs)(eq,{children:[(0,a.jsx)(eV,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.component}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.id})]})}),(0,a.jsx)(eV,{children:e.vendor}),(0,a.jsx)(eV,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[function(e){switch(e){case"active":return(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"});case"expiring":return(0,a.jsx)(P.Z,{className:"h-4 w-4 text-yellow-500"});case"expired":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-red-500"});case"extended":return(0,a.jsx)(I.Z,{className:"h-4 w-4 text-blue-500"});default:return(0,a.jsx)(b.Z,{className:"h-4 w-4 text-gray-400"})}}(e.status),(0,a.jsx)(h,{className:function(e){switch(e){case"active":return"bg-green-500/10 text-green-500 border-green-500";case"expiring":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"expired":return"bg-red-500/10 text-red-500 border-red-500";case"extended":return"bg-blue-500/10 text-blue-500 border-blue-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}(e.status),children:e.status.replace("_"," ").toUpperCase()})]})}),(0,a.jsx)(eV,{children:(0,a.jsx)(h,{className:eQ(e.coverage),children:e.coverage.replace("_"," ").toUpperCase()})}),(0,a.jsx)(eV,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:new Date(e.warrantyEnd).toLocaleDateString()}),(0,a.jsx)("div",{className:"text-sm ".concat(s<0?"text-red-500":s<90?"text-yellow-500":"text-muted-foreground"),children:s<0?"".concat(Math.abs(s)," days ago"):0===s?"Today":"".concat(s," days left")})]})}),(0,a.jsx)(eV,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.zone}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.location})]})}),(0,a.jsxs)(eV,{children:["₹",e.value.toLocaleString()]}),(0,a.jsx)(eV,{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.claimsUsed,"/",e.maxClaims]}),(0,a.jsx)(ed,{value:e.claimsUsed/e.maxClaims*100,className:"h-1 mt-1"})]})})]},e.id)})})]})})]}),(0,a.jsx)(v,{value:"expiring",className:"space-y-4",children:(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base text-yellow-500",children:"Warranties Expiring Soon (Next 90 Days)"}),(0,a.jsx)(D,{children:"Immediate attention required for renewal planning"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-3",children:i.filter(e=>{let s=eJ(e.warrantyEnd);return s>=0&&s<=90}).sort((e,s)=>eJ(e.warrantyEnd)-eJ(s.warrantyEnd)).map(e=>{let s=eJ(e.warrantyEnd);return(0,a.jsx)(k,{className:"border-l-4 border-yellow-500",children:(0,a.jsxs)(M,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.component}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.vendor," • ",e.zone]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-medium ".concat(s<=30?"text-red-500":"text-yellow-500"),children:[s," days left"]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Expires: ",new Date(e.warrantyEnd).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex justify-between items-center",children:[(0,a.jsx)(h,{className:eQ(e.coverage),children:e.coverage.replace("_"," ").toUpperCase()}),(0,a.jsxs)("div",{className:"space-x-2",children:[(0,a.jsxs)(m,{size:"sm",variant:"outline",children:[(0,a.jsx)(eW.Z,{className:"h-4 w-4 mr-2"}),"View Contract"]}),(0,a.jsx)(m,{size:"sm",className:"bg-yellow-500 hover:bg-yellow-600",children:"Renew Now"})]})]})]})},e.id)})})})})]})}),(0,a.jsx)(v,{value:"analytics",className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Coverage by Zone"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(eb.v,{data:T.slice(0,6).map(e=>({zone:e.replace("Railway","").trim(),active:i.filter(s=>s.zone===e&&"active"===s.status).length,expiring:i.filter(s=>s.zone===e&&"expiring"===s.status).length,expired:i.filter(s=>s.zone===e&&"expired"===s.status).length})),children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"zone"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{}),(0,a.jsx)(ew.$,{dataKey:"active",fill:"#22c55e",name:"Active"}),(0,a.jsx)(ew.$,{dataKey:"expiring",fill:"#eab308",name:"Expiring"}),(0,a.jsx)(ew.$,{dataKey:"expired",fill:"#ef4444",name:"Expired"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Financial Impact"})}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-green-500/10 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-green-500",children:["₹",(w.totalValue/1e7).toFixed(1),"Cr"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Coverage Value"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-500/10 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-blue-500",children:["₹",(.15*w.totalValue/1e7).toFixed(1),"Cr"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Potential Savings"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Active Coverage Value"}),(0,a.jsxs)("span",{className:"font-medium",children:["₹",(.7*w.totalValue/1e7).toFixed(1),"Cr"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Expiring Coverage Value"}),(0,a.jsxs)("span",{className:"font-medium text-yellow-500",children:["₹",(.15*w.totalValue/1e7).toFixed(1),"Cr"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Claims Utilization Rate"}),(0,a.jsx)("span",{className:"font-medium",children:"23%"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Average Claim Value"}),(0,a.jsx)("span",{className:"font-medium",children:"₹45,000"})]})]})]})]})]})})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}var eY=t(33063),e$=t(33560),eX=t(67109),e0=t(98740);let e2=()=>{let e=["Northern Railway","Western Railway","Eastern Railway","Southern Railway","Central Railway","South Central Railway","Northeast Frontier Railway","North Central Railway","South East Central Railway","East Central Railway"],s=["Rail Joints","Fish Plates","Fasteners","Sleepers","Switches","Crossings","Rails","Ballast","Signaling Equipment","Power Lines"],t=["Section A","Section B","Section C","Section D","Section E","Junction Point","Station Area","Bridge Section","Tunnel Entry","Maintenance Yard"],a=["High traffic load","Extreme weather exposure","Aging infrastructure","Delayed maintenance","Material fatigue","Vibration stress","Temperature fluctuations","Moisture damage","Electrical interference","Heavy freight loads","Subsidence issues","Corrosion buildup"];return Array.from({length:159e3},(r,i)=>{let n=100*Math.random(),l="low";n>=80?l="critical":n>=60?l="high":n>=40&&(l="medium");let c=new Date(Date.now()+864e5*Math.floor(365*Math.random()+30)),d=a.sort(()=>.5-Math.random()).slice(0,Math.floor(4*Math.random()+2));return{id:"RSK-".concat(String(i+1).padStart(6,"0")),location:"".concat(t[Math.floor(Math.random()*t.length)],", Track ").concat(Math.floor(4*Math.random())+1),zone:e[Math.floor(Math.random()*e.length)],component:s[Math.floor(Math.random()*s.length)],riskScore:Math.round(100*n)/100,riskLevel:l,predictedFailureDate:c.toISOString().split("T")[0],confidence:Math.floor(30*Math.random()+70),factors:d,maintenanceHistory:Math.floor(24*Math.random()),lastInspection:new Date(Date.now()-7776e6*Math.random()).toISOString().split("T")[0],trafficLoad:Math.floor(100*Math.random()),weatherExposure:Math.floor(100*Math.random()),age:Math.floor(50*Math.random()+5)}}).filter((e,s)=>s<500)},e5=()=>[{factor:"Traffic Load",weight:25,impact:85,trend:"increasing"},{factor:"Weather Conditions",weight:20,impact:72,trend:"increasing"},{factor:"Infrastructure Age",weight:18,impact:68,trend:"increasing"},{factor:"Maintenance Delays",weight:15,impact:78,trend:"stable"},{factor:"Material Quality",weight:12,impact:45,trend:"decreasing"},{factor:"Environmental Factors",weight:10,impact:62,trend:"increasing"}],e1=()=>[{name:"Northern Railway",lat:28.6139,lng:77.209},{name:"Western Railway",lat:19.076,lng:72.8777},{name:"Eastern Railway",lat:22.5726,lng:88.3639},{name:"Southern Railway",lat:13.0827,lng:80.2707},{name:"Central Railway",lat:19.076,lng:72.8777},{name:"South Central Railway",lat:17.385,lng:78.4867}].map(e=>({zone:e.name,latitude:e.lat,longitude:e.lng,riskLevel:80*Math.random()+20,fittingsCount:Math.floor(5e4*Math.random()+2e4),criticalCount:Math.floor(5e3*Math.random()+1e3)}));function e4(e){let{open:s,onOpenChange:t}=e,[i]=(0,r.useState)(()=>e2()),[n]=(0,r.useState)(()=>e5()),[l]=(0,r.useState)(()=>e1()),[c,d]=(0,r.useState)("all"),[o,x]=(0,r.useState)("all"),[u,f]=(0,r.useState)("30"),N=(0,r.useMemo)(()=>i.filter(e=>{let s="all"===c||e.riskLevel===c,t="all"===o||e.zone===o,a=Math.floor((new Date(e.predictedFailureDate).getTime()-Date.now())/864e5),r="all"===u||a<=parseInt(u);return s&&t&&r}),[i,c,o,u]),y=(0,r.useMemo)(()=>{let e=i.filter(e=>"critical"===e.riskLevel).length,s=i.filter(e=>"high"===e.riskLevel).length,t=i.filter(e=>"medium"===e.riskLevel).length;return{critical:e,high:s,medium:t,low:i.filter(e=>"low"===e.riskLevel).length,avgRiskScore:i.reduce((e,s)=>e+s.riskScore,0)/i.length,avgConfidence:i.reduce((e,s)=>e+s.confidence,0)/i.length}},[i]),b=[{name:"Critical",value:y.critical,color:"#ef4444"},{name:"High",value:y.high,color:"#f97316"},{name:"Medium",value:y.medium,color:"#eab308"},{name:"Low",value:y.low,color:"#22c55e"}],S=(0,r.useMemo)(()=>{let e=i.filter(e=>{let s=Math.floor((new Date(e.predictedFailureDate).getTime()-Date.now())/864e5);return s>=0&&s<=30}).length;return[{period:"30 Days",count:e,color:"#ef4444"},{period:"90 Days",count:i.filter(e=>{let s=Math.floor((new Date(e.predictedFailureDate).getTime()-Date.now())/864e5);return s>=0&&s<=90}).length,color:"#f97316"},{period:"180 Days",count:i.filter(e=>{let s=Math.floor((new Date(e.predictedFailureDate).getTime()-Date.now())/864e5);return s>=0&&s<=180}).length,color:"#eab308"},{period:"365 Days",count:i.filter(e=>{let s=Math.floor((new Date(e.predictedFailureDate).getTime()-Date.now())/864e5);return s>=0&&s<=365}).length,color:"#22c55e"}]},[i]),T=Array.from(new Set(i.map(e=>e.zone))).sort();return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[1200px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-yellow-500"}),(0,a.jsx)("span",{children:"Predicted Risk Analysis"})]}),(0,a.jsx)(H,{children:"AI-powered risk assessment for 159K railway fittings across all zones"})]}),(0,a.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"overview",children:"Overview"}),(0,a.jsx)(g,{value:"predictions",children:"Risk Predictions"}),(0,a.jsx)(g,{value:"factors",children:"Risk Factors"}),(0,a.jsx)(g,{value:"geographic",children:"Geographic View"})]}),(0,a.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500",children:y.critical}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Critical Risk"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:y.high}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"High Risk"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:y.medium}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Medium Risk"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:y.low}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Low Risk"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:b,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",nameKey:"name",children:b.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{formatter:e=>[e,"Fittings"]})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Key Metrics"})}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"Average Risk Score"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[y.avgRiskScore.toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:y.avgRiskScore,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"Prediction Confidence"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[y.avgConfidence.toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:y.avgConfidence,className:"h-2"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-primary",children:"159K"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Total Assessed"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-yellow-500",children:"3.8%"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Overall Risk"})]})]})]})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Failure Timeline Predictions"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(eb.v,{data:S,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"period"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{formatter:e=>[e,"Predicted Failures"]}),(0,a.jsx)(ew.$,{dataKey:"count",fill:"#f97316"})]})})})]})]}),(0,a.jsxs)(v,{value:"predictions",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)($,{value:c,onValueChange:d,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Risk Level"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Levels"}),(0,a.jsx)(et,{value:"critical",children:"Critical"}),(0,a.jsx)(et,{value:"high",children:"High"}),(0,a.jsx)(et,{value:"medium",children:"Medium"}),(0,a.jsx)(et,{value:"low",children:"Low"})]})]}),(0,a.jsxs)($,{value:o,onValueChange:x,children:[(0,a.jsx)(ee,{className:"w-full sm:w-60",children:(0,a.jsx)(X,{placeholder:"Zone"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Zones"}),T.map(e=>(0,a.jsx)(et,{value:e,children:e},e))]})]}),(0,a.jsxs)($,{value:u,onValueChange:f,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Time Range"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Time"}),(0,a.jsx)(et,{value:"30",children:"Next 30 Days"}),(0,a.jsx)(et,{value:"90",children:"Next 90 Days"}),(0,a.jsx)(et,{value:"180",children:"Next 6 Months"}),(0,a.jsx)(et,{value:"365",children:"Next Year"})]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",N.length," of ",i.length," risk predictions"]}),(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-3",children:N.slice(0,50).map(e=>{let s=Math.floor((new Date(e.predictedFailureDate).getTime()-Date.now())/864e5);return(0,a.jsx)(k,{className:"hover:shadow-md transition-shadow",children:(0,a.jsxs)(M,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-red-500/20 to-orange-500/20 flex items-center justify-center",children:(0,a.jsx)(Z.Z,{className:"h-6 w-6 ".concat("critical"===e.riskLevel?"text-red-500":"high"===e.riskLevel?"text-orange-500":"medium"===e.riskLevel?"text-yellow-500":"text-green-500")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.component}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.location}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.zone})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)(h,{className:function(e){switch(e){case"critical":return"bg-red-500/10 text-red-500 border-red-500";case"high":return"bg-orange-500/10 text-orange-500 border-orange-500";case"medium":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"low":return"bg-green-500/10 text-green-500 border-green-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}(e.riskLevel),children:e.riskLevel.toUpperCase()}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:[e.confidence,"% confidence"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Risk Score"}),(0,a.jsxs)("div",{className:"font-medium text-lg",children:[e.riskScore.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Predicted Failure"}),(0,a.jsx)("div",{className:"font-medium",children:s>0?"".concat(s," days"):"Overdue"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Traffic Load"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.trafficLoad,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Age"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.age," years"]})]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-2",children:"Risk Factors:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.factors.map((e,s)=>(0,a.jsx)(h,{variant:"outline",className:"text-xs",children:e},s))})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(m,{size:"sm",variant:"outline",children:[(0,a.jsx)(eY.Z,{className:"h-4 w-4 mr-2"}),"Schedule Inspection"]})})]})},e.id)})})})]}),(0,a.jsxs)(v,{value:"factors",className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Primary Risk Factors"}),(0,a.jsx)(D,{children:"Key factors contributing to railway infrastructure risk"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4",children:n.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"font-medium",children:e.factor}),function(e){switch(e){case"increasing":return(0,a.jsx)(w.Z,{className:"h-4 w-4 text-red-500"});case"decreasing":return(0,a.jsx)(w.Z,{className:"h-4 w-4 text-green-500 transform rotate-180"});case"stable":return(0,a.jsx)(A.Z,{className:"h-4 w-4 text-yellow-500"})}}(e.trend)]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,a.jsxs)("span",{children:["Weight: ",e.weight,"%"]}),(0,a.jsxs)("span",{children:["Impact: ",e.impact,"%"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Weight"}),(0,a.jsx)(ed,{value:4*e.weight,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Impact"}),(0,a.jsx)(ed,{value:e.impact,className:"h-2"})]})]})]},s))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Environmental Factors"})}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e$.Z,{className:"h-4 w-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Temperature Stress"})]}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"High Impact"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eX.Z,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Weather Exposure"})]}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Medium Impact"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e0.Z,{className:"h-4 w-4 text-purple-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Load Stress"})]}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"High Impact"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Age Factor"})]}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Very High Impact"})]})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Mitigation Strategies"})}),(0,a.jsxs)(M,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Predictive Maintenance"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Scheduled based on AI predictions"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Enhanced Monitoring"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"IoT sensors for real-time data"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Material Upgrades"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Better quality components"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Load Management"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Optimized traffic distribution"})]})]})]})]})]})]}),(0,a.jsxs)(v,{value:"geographic",className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Zone-wise Risk Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:300,children:(0,a.jsxs)(eb.v,{data:l,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"zone",angle:-45,textAnchor:"end",height:80,tickFormatter:e=>e.replace("Railway","").trim()}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{formatter:(e,s)=>["riskLevel"===s?"".concat(e.toFixed(1),"%"):e.toLocaleString(),"riskLevel"===s?"Risk Level":"fittingsCount"===s?"Total Fittings":"Critical Count"]}),(0,a.jsx)(ew.$,{dataKey:"riskLevel",fill:"#f97316",name:"Risk Level"})]})})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map((e,s)=>(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:e.zone})}),(0,a.jsxs)(M,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Risk Level"}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(e.riskLevel>=70?"text-red-500":e.riskLevel>=50?"text-orange-500":e.riskLevel>=30?"text-yellow-500":"text-green-500"),children:[e.riskLevel.toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:e.riskLevel,className:"h-2"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Total Fittings"}),(0,a.jsx)("div",{className:"font-medium",children:e.fittingsCount.toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Critical Count"}),(0,a.jsx)("div",{className:"font-medium text-red-500",children:e.criticalCount.toLocaleString()})]})]})]})]},s))})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}var e3=t(81883),e8=t(91149);let e6=()=>{let e=["Northern Railway","Western Railway","Eastern Railway","Southern Railway","Central Railway","South Central Railway"],s=["Rail Joint","Fish Plate","Fastener","Sleeper","Switch","Crossing","Signal Box","Power Line","Track Bolt","Clamp"],t=["Platform 1","Track Junction","Signal Box","Maintenance Yard","Bridge Section","Tunnel Entry","Station Approach","Goods Yard"],a=[{id:"EMP001",name:"Rajesh Kumar",dept:"Track Maintenance"},{id:"EMP002",name:"Priya Sharma",dept:"Signal & Telecom"},{id:"EMP003",name:"Amit Singh",dept:"Electrical"},{id:"EMP004",name:"Sunita Patel",dept:"Civil Engineering"},{id:"EMP005",name:"Vikram Rao",dept:"Rolling Stock"},{id:"EMP006",name:"Kavita Desai",dept:"Safety"},{id:"EMP007",name:"Arjun Mehta",dept:"Operations"},{id:"EMP008",name:"Deepika Joshi",dept:"Quality Control"}],r=["inspection","maintenance","inventory","verification"],i=["mobile","tablet","scanner"];return Array.from({length:12457},(n,l)=>{let c=a[Math.floor(Math.random()*a.length)],d=s[Math.floor(Math.random()*s.length)],o=t[Math.floor(Math.random()*t.length)],m=e[Math.floor(Math.random()*e.length)],x=new Date(Date.now()-6048e5*Math.random()),h="success",u=Math.random();return u<.05?h="failed":u<.15&&(h="partial"),{id:"SCN-".concat(String(l+1).padStart(6,"0")),timestamp:x.toISOString(),userId:c.id,userName:c.name,qrCode:"QR-".concat(d.replace(" ","").toUpperCase(),"-").concat(String(Math.floor(9999*Math.random())+1).padStart(4,"0")),component:d,location:"".concat(o,", ").concat(m),zone:m,scanType:r[Math.floor(Math.random()*r.length)],deviceType:i[Math.floor(Math.random()*i.length)],duration:Math.floor(180*Math.random()+15),status:h,dataQuality:"success"===h?15*Math.random()+85:"partial"===h?30*Math.random()+50:40*Math.random()+10}}).sort((e,s)=>new Date(s.timestamp).getTime()-new Date(e.timestamp).getTime())},e9=e=>{let s={};return e.forEach(e=>{let t=new Date(e.timestamp).getHours(),a="".concat(t.toString().padStart(2,"0"),":00");s[a]||(s[a]={scans:0,users:new Set,successful:0}),s[a].scans++,s[a].users.add(e.userId),"success"===e.status&&s[a].successful++}),Array.from({length:24},(e,t)=>{let a="".concat(t.toString().padStart(2,"0"),":00"),r=s[a]||{scans:0,users:new Set,successful:0};return{hour:a,scans:r.scans,users:r.users.size,success_rate:r.scans>0?r.successful/r.scans*100:0}})};function e7(e){let{open:s,onOpenChange:t}=e,[i]=(0,r.useState)(()=>e6()),[n,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)("all"),[o,x]=(0,r.useState)("all"),u=(0,r.useMemo)(()=>e9(i),[i]),f=(0,r.useMemo)(()=>i.filter(e=>{let s="all"===n||e.scanType===n,t="all"===c||e.status===c,a="all"===o||e.zone===o;return s&&t&&a}),[i,n,c,o]),N=(0,r.useMemo)(()=>{let e=i.length,s=i.filter(e=>"success"===e.status).length,t=i.filter(e=>"failed"===e.status).length,a=i.filter(e=>"partial"===e.status).length;return{total:e,successful:s,failed:t,partial:a,uniqueUsers:new Set(i.map(e=>e.userId)).size,avgDuration:i.reduce((e,s)=>e+s.duration,0)/i.length,avgQuality:i.reduce((e,s)=>e+s.dataQuality,0)/i.length}},[i]),b=(0,r.useMemo)(()=>{let e={};return i.forEach(s=>{e[s.userId]||(e[s.userId]={userId:s.userId,userName:s.userName,department:"Track Maintenance",totalScans:0,successRate:0,avgDuration:0,lastActive:s.timestamp});let t=e[s.userId];t.totalScans++,t.avgDuration=(t.avgDuration*(t.totalScans-1)+s.duration)/t.totalScans,new Date(s.timestamp)>new Date(t.lastActive)&&(t.lastActive=s.timestamp)}),Object.values(e).forEach(e=>{let s=i.filter(s=>s.userId===e.userId),t=s.filter(e=>"success"===e.status).length;e.successRate=t/s.length*100}),Object.values(e).sort((e,s)=>s.totalScans-e.totalScans)},[i]),w=(0,r.useMemo)(()=>{let e={};return i.forEach(s=>{e[s.location]||(e[s.location]={location:s.location,zone:s.zone,scanCount:0,uniqueUsers:0,avgQuality:0}),e[s.location].scanCount++}),Object.keys(e).forEach(s=>{let t=i.filter(e=>e.location===s),a=new Set(t.map(e=>e.userId)).size,r=t.reduce((e,s)=>e+s.dataQuality,0)/t.length;e[s].uniqueUsers=a,e[s].avgQuality=r}),Object.values(e).sort((e,s)=>s.scanCount-e.scanCount)},[i]),S=[{name:"Inspection",value:i.filter(e=>"inspection"===e.scanType).length,color:"#3b82f6"},{name:"Maintenance",value:i.filter(e=>"maintenance"===e.scanType).length,color:"#f97316"},{name:"Inventory",value:i.filter(e=>"inventory"===e.scanType).length,color:"#22c55e"},{name:"Verification",value:i.filter(e=>"verification"===e.scanType).length,color:"#8b5cf6"}],T=Array.from(new Set(i.map(e=>e.zone))).sort();return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[1200px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Scan Activity Analytics (7 Days)"})]}),(0,a.jsx)(H,{children:"Comprehensive analysis of QR code scanning activity across all railway zones"})]}),(0,a.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"overview",children:"Overview"}),(0,a.jsx)(g,{value:"activity",children:"Recent Activity"}),(0,a.jsx)(g,{value:"users",children:"User Analytics"}),(0,a.jsx)(g,{value:"locations",children:"Location Analytics"})]}),(0,a.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:N.total.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Scans"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:N.successful.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Successful"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:N.uniqueUsers}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Active Users"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-orange-500",children:[N.avgDuration.toFixed(0),"s"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Duration"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Hourly Activity Pattern"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(ej.T,{data:u,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"hour"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{formatter:(e,s)=>["success_rate"===s?"".concat(e.toFixed(1),"%"):e,"scans"===s?"Scans":"users"===s?"Users":"Success Rate"]}),(0,a.jsx)(ef.u,{type:"monotone",dataKey:"scans",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Scan Type Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:S,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",nameKey:"name",children:S.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{formatter:e=>[e,"Scans"]})]})})})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Success Rate Trends"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(eN.w,{data:u,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"hour"}),(0,a.jsx)(ev.B,{domain:[70,100]}),(0,a.jsx)(eu.u,{formatter:e=>["".concat(e.toFixed(1),"%"),"Success Rate"]}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"success_rate",stroke:"#22c55e",strokeWidth:2})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-green-500",children:[(N.successful/N.total*100).toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-blue-500",children:[N.avgQuality.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Data Quality"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-purple-500",children:(N.total/7).toFixed(0)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Daily Average"})]})})})]})]}),(0,a.jsxs)(v,{value:"activity",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)($,{value:n,onValueChange:l,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Scan Type"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Types"}),(0,a.jsx)(et,{value:"inspection",children:"Inspection"}),(0,a.jsx)(et,{value:"maintenance",children:"Maintenance"}),(0,a.jsx)(et,{value:"inventory",children:"Inventory"}),(0,a.jsx)(et,{value:"verification",children:"Verification"})]})]}),(0,a.jsxs)($,{value:c,onValueChange:d,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Status"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Status"}),(0,a.jsx)(et,{value:"success",children:"Success"}),(0,a.jsx)(et,{value:"partial",children:"Partial"}),(0,a.jsx)(et,{value:"failed",children:"Failed"})]})]}),(0,a.jsxs)($,{value:o,onValueChange:x,children:[(0,a.jsx)(ee,{className:"w-full sm:w-60",children:(0,a.jsx)(X,{placeholder:"Zone"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Zones"}),T.map(e=>(0,a.jsx)(et,{value:e,children:e},e))]})]}),(0,a.jsxs)(m,{variant:"outline",children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 mr-2"}),"Export"]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",f.length," of ",i.length," scan records"]}),(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-3",children:f.slice(0,100).map(e=>(0,a.jsx)(k,{className:"hover:shadow-md transition-shadow",children:(0,a.jsxs)(M,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:function(e){switch(e){case"mobile":case"tablet":return(0,a.jsx)(e3.Z,{className:"h-4 w-4"});case"scanner":return(0,a.jsx)(y.Z,{className:"h-4 w-4"});default:return(0,a.jsx)(A.Z,{className:"h-4 w-4"})}}(e.deviceType)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.component}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.qrCode}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.location})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[function(e){switch(e){case"success":return(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"});case"partial":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-yellow-500"});case"failed":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(A.Z,{className:"h-4 w-4 text-gray-400"})}}(e.status),(0,a.jsx)(h,{className:function(e){switch(e){case"success":return"bg-green-500/10 text-green-500 border-green-500";case"partial":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"failed":return"bg-red-500/10 text-red-500 border-red-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}(e.status),children:e.status.toUpperCase()})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:new Date(e.timestamp).toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"User"}),(0,a.jsx)("div",{className:"font-medium",children:e.userName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Type"}),(0,a.jsx)(h,{className:function(e){switch(e){case"inspection":return"bg-blue-500/10 text-blue-500 border-blue-500";case"maintenance":return"bg-orange-500/10 text-orange-500 border-orange-500";case"inventory":return"bg-green-500/10 text-green-500 border-green-500";case"verification":return"bg-purple-500/10 text-purple-500 border-purple-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}(e.scanType),children:e.scanType.toUpperCase()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Duration"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.duration,"s"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Quality"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.dataQuality.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Device"}),(0,a.jsx)("div",{className:"font-medium capitalize",children:e.deviceType})]})]})]})},e.id))})})]}),(0,a.jsx)(v,{value:"users",className:"space-y-4",children:(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Top Active Users"}),(0,a.jsx)(D,{children:"User performance over the last 7 days"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-3",children:b.slice(0,20).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsx)(e8.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.userName}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.department})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-6 text-center text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.totalScans}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"Scans"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium ".concat(e.successRate>=90?"text-green-500":e.successRate>=80?"text-yellow-500":"text-red-500"),children:[e.successRate.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"Success"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.avgDuration.toFixed(0),"s"]}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"Avg Time"})]})]})]},e.userId))})})})]})}),(0,a.jsx)(v,{value:"locations",className:"space-y-4",children:(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Most Active Locations"}),(0,a.jsx)(D,{children:"Scanning activity by location over the last 7 days"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-3",children:w.slice(0,20).map((e,s)=>(0,a.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsx)(F.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.location}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.zone})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium text-lg",children:e.scanCount}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Scans"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Active Users:"}),(0,a.jsx)("span",{className:"font-medium",children:e.uniqueUsers})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Avg Quality:"}),(0,a.jsxs)("span",{className:"font-medium ".concat(e.avgQuality>=90?"text-green-500":e.avgQuality>=80?"text-yellow-500":"text-red-500"),children:[e.avgQuality.toFixed(1),"%"]})]})]})]},e.location))})})})]})})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}var se=t(76508),ss=t(28634),st=t(33062);let sa=()=>{let e=["Track Components","Signaling Equipment","Electrical Systems","Rolling Stock Parts","Safety Equipment","Communication Systems","Power Systems","Civil Infrastructure","Maintenance Tools","Technology"],s=["Mumbai","Delhi","Kolkata","Chennai","Bangalore","Hyderabad","Pune","Ahmedabad","Surat","Lucknow","Kanpur","Nagpur"],t=["Northern Railway","Western Railway","Eastern Railway","Southern Railway","Central Railway","South Central Railway","East Central Railway","North Central Railway","Northeast Frontier Railway","South Eastern Railway","South East Central Railway","West Central Railway"],a=["ISO 9001","ISO 14001","OHSAS 18001","RDSO Approved","BIS Certified","Railway Safety Certified","Quality Assured"],r=["Rail Infrastructure Ltd","Track Solutions Pvt","Signal Tech Industries","Metro Rail Components","Indian Railway Parts","Power Systems Corp","Safety Equipment Co","Communication Networks","Electronic Systems Ltd","Mechanical Works Pvt","Steel Rail Industries","Fastener Technologies","Switch & Crossing Co","Bridge Components Ltd","Tunnel Equipment Corp","Station Infrastructure","Maintenance Solutions","Quality Assurance Co","Testing Services Ltd","Inspection Technologies","Digital Rail Systems","Smart Infrastructure","Green Energy Solutions","Advanced Materials Co","Precision Engineering","Heavy Industries Ltd","Transportation Tech","Railway Innovations","Modern Rail Solutions","Integrated Systems Co"];return Array.from({length:157},(i,n)=>{let l=e[Math.floor(Math.random()*e.length)],c=s[Math.floor(Math.random()*s.length)],d=t[Math.floor(Math.random()*t.length)],o="active",m=Math.random();m<.03?o="onhold":m<.1?o="suspended":m<.25&&(o="inactive");let x=20*Math.random()+80,h=Math.floor(500*Math.random()+50),u=3*Math.random(),j=15*Math.random()+85,p="low";(j<90||u>2||x<85)&&(p="medium"),(j<85||u>2.5||x<80)&&(p="high");let g=new Date(Date.now()-63072e6*Math.random()),v=new Date(g.getTime()+94608e6*Math.random()),f=new Date(Date.now()-15552e6*Math.random()),N=a.filter(()=>Math.random()>.6);return{id:"VND-".concat(String(n+1).padStart(4,"0")),name:r[Math.floor(Math.random()*r.length)],category:l,status:o,rating:1.5*Math.random()+3.5,contractValue:Math.floor(5e7*Math.random()+1e6),contractStart:g.toISOString(),contractEnd:v.toISOString(),deliveryPerformance:x,qualityScore:15*Math.random()+85,complianceScore:20*Math.random()+80,certifications:N,location:c,zone:d,totalOrders:h,onTimeDeliveries:Math.floor(x/100*h),defectRate:u,responseTime:24*Math.random()+2,supportRating:1.5*Math.random()+3.5,lastAudit:f.toISOString(),auditScore:j,riskLevel:p}}).sort((e,s)=>s.rating-e.rating)},sr=()=>Array.from({length:12},(e,s)=>({month:new Date(Date.now()-(11-s)*2592e6).toLocaleDateString("en-US",{month:"short"}),delivery:15*Math.random()+85,quality:10*Math.random()+90,compliance:20*Math.random()+80,satisfaction:1.5*Math.random()+3.5}));function si(e){return e>=1e7?"₹".concat((e/1e7).toFixed(1),"Cr"):e>=1e5?"₹".concat((e/1e5).toFixed(1),"L"):"₹".concat(e.toLocaleString())}function sn(e){return(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[Array.from({length:5},(s,t)=>(0,a.jsx)(ss.Z,{className:"h-4 w-4 ".concat(t<Math.floor(e)?"fill-yellow-400 text-yellow-400":t<e?"fill-yellow-400/50 text-yellow-400":"text-gray-300")},t)),(0,a.jsx)("span",{className:"text-sm text-muted-foreground ml-1",children:e.toFixed(1)})]})}function sl(e){let{open:s,onOpenChange:t}=e,[i]=(0,r.useState)(()=>sa()),[n]=(0,r.useState)(()=>sr()),[l,c]=(0,r.useState)("all"),[d,o]=(0,r.useState)("all"),[x,u]=(0,r.useState)("all"),f=(0,r.useMemo)(()=>i.filter(e=>{let s="all"===l||e.status===l,t="all"===d||e.category===d,a="all"===x||e.riskLevel===x;return s&&t&&a}),[i,l,d,x]),N=(0,r.useMemo)(()=>{let e=i.length,s=i.filter(e=>"active"===e.status).length,t=i.filter(e=>"suspended"===e.status).length,a=i.reduce((e,s)=>e+s.rating,0)/i.length;return{total:e,active:s,suspended:t,avgRating:a,totalValue:i.reduce((e,s)=>e+s.contractValue,0),avgDelivery:i.reduce((e,s)=>e+s.deliveryPerformance,0)/i.length,highRisk:i.filter(e=>"high"===e.riskLevel).length}},[i]),y=(0,r.useMemo)(()=>Array.from(new Set(i.map(e=>e.category))).map(e=>{let s=i.filter(s=>s.category===e);return{category:e,vendors:s.length,avgRating:s.reduce((e,s)=>e+s.rating,0)/s.length,totalValue:s.reduce((e,s)=>e+s.contractValue,0),avgDelivery:s.reduce((e,s)=>e+s.deliveryPerformance,0)/s.length}}).sort((e,s)=>s.totalValue-e.totalValue),[i]),w=[{name:"Active",value:i.filter(e=>"active"===e.status).length,color:"#22c55e"},{name:"Inactive",value:i.filter(e=>"inactive"===e.status).length,color:"#6b7280"},{name:"Suspended",value:i.filter(e=>"suspended"===e.status).length,color:"#ef4444"},{name:"On Hold",value:i.filter(e=>"onhold"===e.status).length,color:"#f59e0b"}],S=[{name:"Low Risk",value:i.filter(e=>"low"===e.riskLevel).length,color:"#22c55e"},{name:"Medium Risk",value:i.filter(e=>"medium"===e.riskLevel).length,color:"#f59e0b"},{name:"High Risk",value:i.filter(e=>"high"===e.riskLevel).length,color:"#ef4444"}],T=i.filter(e=>"active"===e.status).slice(0,5),A=Array.from(new Set(i.map(e=>e.category))).sort();return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[1200px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(se.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Active Vendors Management"})]}),(0,a.jsx)(H,{children:"Comprehensive vendor analytics and performance management across all railway zones"})]}),(0,a.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"overview",children:"Overview"}),(0,a.jsx)(g,{value:"vendors",children:"All Vendors"}),(0,a.jsx)(g,{value:"performance",children:"Performance"}),(0,a.jsx)(g,{value:"categories",children:"Categories"})]}),(0,a.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:N.total}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Vendors"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:N.active}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Active"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:N.avgRating.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Rating"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:si(N.totalValue)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Value"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Vendor Status Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:w,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",nameKey:"name",children:w.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{formatter:e=>[e,"Vendors"]})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk Level Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:S,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",nameKey:"name",children:S.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{formatter:e=>[e,"Vendors"]})]})})})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Performance Trends"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(eN.w,{data:n,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"month"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"delivery",stroke:"#3b82f6",strokeWidth:2,name:"Delivery %"}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"quality",stroke:"#22c55e",strokeWidth:2,name:"Quality Score"}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"compliance",stroke:"#f59e0b",strokeWidth:2,name:"Compliance %"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Top Performing Vendors"})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-3",children:T.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsx)(st.Z,{className:"h-5 w-5 text-yellow-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.category})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[sn(e.rating),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:[e.deliveryPerformance.toFixed(1),"% Delivery"]})]})]},e.id))})})]})]}),(0,a.jsxs)(v,{value:"vendors",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)($,{value:l,onValueChange:c,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Status"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Status"}),(0,a.jsx)(et,{value:"active",children:"Active"}),(0,a.jsx)(et,{value:"inactive",children:"Inactive"}),(0,a.jsx)(et,{value:"suspended",children:"Suspended"}),(0,a.jsx)(et,{value:"onhold",children:"On Hold"})]})]}),(0,a.jsxs)($,{value:d,onValueChange:o,children:[(0,a.jsx)(ee,{className:"w-full sm:w-60",children:(0,a.jsx)(X,{placeholder:"Category"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Categories"}),A.map(e=>(0,a.jsx)(et,{value:e,children:e},e))]})]}),(0,a.jsxs)($,{value:x,onValueChange:u,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Risk Level"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Risk"}),(0,a.jsx)(et,{value:"low",children:"Low Risk"}),(0,a.jsx)(et,{value:"medium",children:"Medium Risk"}),(0,a.jsx)(et,{value:"high",children:"High Risk"})]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",f.length," of ",i.length," vendors"]}),(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-3",children:f.slice(0,50).map(e=>(0,a.jsx)(k,{className:"hover:shadow-md transition-shadow",children:(0,a.jsxs)(M,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:(0,a.jsx)(se.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.category}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.location,", ",e.zone]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[function(e){switch(e){case"active":return(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"});case"suspended":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-red-500"});case"onhold":return(0,a.jsx)(P.Z,{className:"h-4 w-4 text-yellow-500"});case"inactive":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-gray-500"});default:return(0,a.jsx)(se.Z,{className:"h-4 w-4 text-gray-400"})}}(e.status),(0,a.jsx)(h,{className:function(e){switch(e){case"active":return"bg-green-500/10 text-green-500 border-green-500";case"inactive":default:return"bg-gray-500/10 text-gray-500 border-gray-500";case"suspended":return"bg-red-500/10 text-red-500 border-red-500";case"onhold":return"bg-yellow-500/10 text-yellow-500 border-yellow-500"}}(e.status),children:e.status.toUpperCase()})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Contract: ",si(e.contractValue)]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Rating"}),sn(e.rating)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Delivery"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.deliveryPerformance.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Quality"}),(0,a.jsx)("div",{className:"font-medium",children:e.qualityScore.toFixed(1)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Risk Level"}),(0,a.jsx)("div",{className:"font-medium ".concat(function(e){switch(e){case"low":return"text-green-500";case"medium":return"text-yellow-500";case"high":return"text-red-500";default:return"text-gray-500"}}(e.riskLevel)),children:e.riskLevel.toUpperCase()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Orders"}),(0,a.jsx)("div",{className:"font-medium",children:e.totalOrders})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(I.Z,{className:"h-4 w-4 text-blue-500"}),(0,a.jsxs)("span",{children:[e.certifications.length," Certs"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 text-orange-500"}),(0,a.jsxs)("span",{children:[e.responseTime.toFixed(1),"h Response"]})]})]}),(0,a.jsxs)("div",{className:"text-muted-foreground",children:["Contract expires: ",new Date(e.contractEnd).toLocaleDateString()]})]})]})},e.id))})})]}),(0,a.jsxs)(v,{value:"performance",className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Monthly Performance Trends"}),(0,a.jsx)(D,{children:"Average performance metrics across all active vendors"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:300,children:(0,a.jsxs)(eN.w,{data:n,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"month"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{formatter:(e,s)=>["satisfaction"===s?e.toFixed(1):"".concat(e.toFixed(1),"%"),"delivery"===s?"Delivery Performance":"quality"===s?"Quality Score":"compliance"===s?"Compliance Score":"Customer Satisfaction"]}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"delivery",stroke:"#3b82f6",strokeWidth:2}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"quality",stroke:"#22c55e",strokeWidth:2}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"compliance",stroke:"#f59e0b",strokeWidth:2}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"satisfaction",stroke:"#8b5cf6",strokeWidth:2})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Key Performance Indicators"})}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Average Delivery Performance"}),(0,a.jsxs)("span",{className:"font-medium",children:[N.avgDelivery.toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:N.avgDelivery,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Vendor Satisfaction"}),(0,a.jsx)("span",{className:"font-medium",children:"4.2/5.0"})]}),(0,a.jsx)(ed,{value:84,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Contract Compliance"}),(0,a.jsx)("span",{className:"font-medium",children:"91.3%"})]}),(0,a.jsx)(ed,{value:91.3,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Quality Assurance"}),(0,a.jsx)("span",{className:"font-medium",children:"93.7%"})]}),(0,a.jsx)(ed,{value:93.7,className:"h-2"})]})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk Assessment"})}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"High Risk Vendors"}),(0,a.jsx)(h,{variant:"destructive",children:N.highRisk})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Suspended Vendors"}),(0,a.jsx)(h,{variant:"secondary",children:N.suspended})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Contracts Expiring (30 days)"}),(0,a.jsx)(h,{variant:"outline",children:i.filter(e=>{let s=(new Date(e.contractEnd).getTime()-Date.now())/864e5;return s<=30&&s>0}).length})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Overdue Audits"}),(0,a.jsx)(h,{variant:"outline",children:i.filter(e=>(Date.now()-new Date(e.lastAudit).getTime())/864e5>180).length})]})]})})]})]})]}),(0,a.jsx)(v,{value:"categories",className:"space-y-4",children:(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Category Analysis"}),(0,a.jsx)(D,{children:"Performance and value analysis by vendor category"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-3",children:y.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsx)(b.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.category}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.vendors," vendors"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium text-lg",children:si(e.totalValue)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Value"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Avg Rating:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.avgRating.toFixed(1),"/5.0"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Avg Delivery:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.avgDelivery.toFixed(1),"%"]})]})]})]},e.category))})})})]})})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}var sc=t(87472),sd=t(4189),so=t(52526),sm=t(45226),sx=t(53205),sh=t(37192),su=t(34909),sj=t(89569);let sp=[{id:"NR",name:"Northern Railway",code:"NR",headquarters:"New Delhi",establishedYear:1952,totalRoute:6968,electrifiedRoute:4127,stations:523,employees:158420,dailyPassengers:28e5,freight:45.2,revenue:18650,safetyScore:92.5,performanceScore:88.7,maintenanceScore:85.3,customerSatisfaction:4.2,onTimePerformance:82.4,incidents:12,majorStations:["New Delhi","Chandigarh","Amritsar","Jammu Tawi"],divisions:9,workshops:15,status:"excellent",budgetAllocation:8500,budgetUtilization:87.3},{id:"WR",name:"Western Railway",code:"WR",headquarters:"Mumbai Central",establishedYear:1951,totalRoute:5196,electrifiedRoute:3847,stations:446,employees:142850,dailyPassengers:32e5,freight:52.8,revenue:22450,safetyScore:94.2,performanceScore:91.5,maintenanceScore:89.1,customerSatisfaction:4.4,onTimePerformance:86.7,incidents:8,majorStations:["Mumbai Central","Ahmedabad","Vadodara","Surat"],divisions:6,workshops:12,status:"excellent",budgetAllocation:9200,budgetUtilization:91.8},{id:"ER",name:"Eastern Railway",code:"ER",headquarters:"Kolkata",establishedYear:1952,totalRoute:2414,electrifiedRoute:1987,stations:348,employees:98650,dailyPassengers:21e5,freight:28.5,revenue:12850,safetyScore:88.3,performanceScore:84.2,maintenanceScore:81.7,customerSatisfaction:3.9,onTimePerformance:78.5,incidents:18,majorStations:["Howrah","Sealdah","Asansol","Malda Town"],divisions:4,workshops:8,status:"good",budgetAllocation:5800,budgetUtilization:83.4},{id:"SR",name:"Southern Railway",code:"SR",headquarters:"Chennai Central",establishedYear:1951,totalRoute:5098,electrifiedRoute:3654,stations:508,employees:135420,dailyPassengers:265e4,freight:38.7,revenue:16750,safetyScore:91.8,performanceScore:87.9,maintenanceScore:86.4,customerSatisfaction:4.1,onTimePerformance:81.3,incidents:14,majorStations:["Chennai Central","Madurai","Coimbatore","Tiruchirapalli"],divisions:6,workshops:11,status:"excellent",budgetAllocation:7400,budgetUtilization:89.2},{id:"CR",name:"Central Railway",code:"CR",headquarters:"Mumbai CST",establishedYear:1951,totalRoute:3678,electrifiedRoute:2954,stations:389,employees:118750,dailyPassengers:42e5,freight:42.3,revenue:19850,safetyScore:93.7,performanceScore:90.2,maintenanceScore:87.8,customerSatisfaction:4.3,onTimePerformance:84.9,incidents:10,majorStations:["Mumbai CST","Pune","Nagpur","Solapur"],divisions:5,workshops:10,status:"excellent",budgetAllocation:8100,budgetUtilization:88.7},{id:"SCR",name:"South Central Railway",code:"SCR",headquarters:"Secunderabad",establishedYear:1966,totalRoute:5803,electrifiedRoute:3947,stations:569,employees:145320,dailyPassengers:185e4,freight:85.6,revenue:21450,safetyScore:89.5,performanceScore:86.8,maintenanceScore:84.2,customerSatisfaction:4,onTimePerformance:80.7,incidents:16,majorStations:["Secunderabad","Hyderabad","Vijayawada","Warangal"],divisions:6,workshops:13,status:"good",budgetAllocation:7800,budgetUtilization:85.9},{id:"ECR",name:"East Central Railway",code:"ECR",headquarters:"Hajipur",establishedYear:2002,totalRoute:3643,electrifiedRoute:2156,stations:458,employees:96850,dailyPassengers:145e4,freight:56.8,revenue:14250,safetyScore:85.7,performanceScore:82.4,maintenanceScore:79.8,customerSatisfaction:3.7,onTimePerformance:76.2,incidents:22,majorStations:["Patna","Danapur","Muzaffarpur","Samastipur"],divisions:4,workshops:9,status:"average",budgetAllocation:6200,budgetUtilization:79.3},{id:"NCR",name:"North Central Railway",code:"NCR",headquarters:"Prayagraj",establishedYear:2002,totalRoute:3151,electrifiedRoute:2087,stations:384,employees:89420,dailyPassengers:165e4,freight:34.2,revenue:11850,safetyScore:87.2,performanceScore:83.6,maintenanceScore:80.9,customerSatisfaction:3.8,onTimePerformance:77.8,incidents:19,majorStations:["Prayagraj","Agra","Jhansi","Kanpur"],divisions:4,workshops:8,status:"good",budgetAllocation:5400,budgetUtilization:81.7},{id:"NFR",name:"Northeast Frontier Railway",code:"NFR",headquarters:"Guwahati",establishedYear:1958,totalRoute:4815,electrifiedRoute:1287,stations:456,employees:78950,dailyPassengers:65e4,freight:12.8,revenue:6850,safetyScore:82.4,performanceScore:79.1,maintenanceScore:76.5,customerSatisfaction:3.6,onTimePerformance:74.3,incidents:28,majorStations:["Guwahati","Dibrugarh","Lumding","New Jalpaiguri"],divisions:5,workshops:7,status:"needs_improvement",budgetAllocation:4800,budgetUtilization:73.8},{id:"SER",name:"South Eastern Railway",code:"SER",headquarters:"Kolkata",establishedYear:1955,totalRoute:2631,electrifiedRoute:1954,stations:298,employees:72420,dailyPassengers:98e4,freight:48.5,revenue:9750,safetyScore:84.6,performanceScore:81.3,maintenanceScore:78.7,customerSatisfaction:3.7,onTimePerformance:75.9,incidents:24,majorStations:["Kharagpur","Adra","Chakradharpur","Rourkela"],divisions:3,workshops:6,status:"average",budgetAllocation:4200,budgetUtilization:76.4},{id:"SECR",name:"South East Central Railway",code:"SECR",headquarters:"Bilaspur",establishedYear:2003,totalRoute:2447,electrifiedRoute:1658,stations:287,employees:68750,dailyPassengers:82e4,freight:125.6,revenue:18250,safetyScore:86.9,performanceScore:84.7,maintenanceScore:82.1,customerSatisfaction:3.9,onTimePerformance:78.4,incidents:20,majorStations:["Bilaspur","Raipur","Durg","Korba"],divisions:3,workshops:7,status:"good",budgetAllocation:5600,budgetUtilization:84.2},{id:"WCR",name:"West Central Railway",code:"WCR",headquarters:"Jabalpur",establishedYear:2003,totalRoute:2965,electrifiedRoute:1847,stations:356,employees:81250,dailyPassengers:115e4,freight:67.3,revenue:13450,safetyScore:88.1,performanceScore:85.3,maintenanceScore:83.6,customerSatisfaction:3.9,onTimePerformance:79.6,incidents:17,majorStations:["Jabalpur","Bhopal","Kota","Indore"],divisions:4,workshops:8,status:"good",budgetAllocation:5800,budgetUtilization:82.5}],sg=e=>Array.from({length:12},(s,t)=>({month:new Date(Date.now()-(11-t)*2592e6).toLocaleDateString("en-US",{month:"short"}),safety:e.safetyScore+(Math.random()-.5)*e.safetyScore*.1,onTime:e.onTimePerformance+(Math.random()-.5)*e.onTimePerformance*.1,passenger:e.dailyPassengers+(Math.random()-.5)*e.dailyPassengers*.2,freight:e.freight+(Math.random()-.5)*e.freight*.3,revenue:e.revenue+(Math.random()-.5)*e.revenue*.15}));function sv(e){return e>=1e7?"".concat((e/1e7).toFixed(1),"Cr"):e>=1e5?"".concat((e/1e5).toFixed(1),"L"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString()}function sf(e){let{open:s,onOpenChange:t}=e,[i,n]=(0,r.useState)("all"),[l,c]=(0,r.useState)("all"),[d,o]=(0,r.useState)("revenue"),x=(0,r.useMemo)(()=>sp.filter(e=>"all"===l||e.status===l).sort((e,s)=>{switch(d){case"revenue":default:return s.revenue-e.revenue;case"safety":return s.safetyScore-e.safetyScore;case"performance":return s.performanceScore-e.performanceScore;case"passengers":return s.dailyPassengers-e.dailyPassengers}}),[l,d]),u=(0,r.useMemo)(()=>{let e=sp.reduce((e,s)=>e+s.totalRoute,0),s=sp.reduce((e,s)=>e+s.electrifiedRoute,0),t=sp.reduce((e,s)=>e+s.stations,0),a=sp.reduce((e,s)=>e+s.employees,0),r=sp.reduce((e,s)=>e+s.dailyPassengers,0);return{totalRoute:e,totalElectrified:s,totalStations:t,totalEmployees:a,totalPassengers:r,totalRevenue:sp.reduce((e,s)=>e+s.revenue,0),avgSafety:sp.reduce((e,s)=>e+s.safetyScore,0)/sp.length,avgPerformance:sp.reduce((e,s)=>e+s.performanceScore,0)/sp.length,electrificationPercent:s/e*100}},[]),N=(0,r.useMemo)(()=>sp.slice(0,8).map(e=>({zone:e.code,safety:e.safetyScore,performance:e.performanceScore,maintenance:e.maintenanceScore,satisfaction:20*e.customerSatisfaction,revenue:e.revenue/1e3})),[]),y="all"!==i?sp.find(e=>e.id===i):null,b=y?sg(y):[],w=[{name:"Excellent",value:sp.filter(e=>"excellent"===e.status).length,color:"#22c55e"},{name:"Good",value:sp.filter(e=>"good"===e.status).length,color:"#3b82f6"},{name:"Average",value:sp.filter(e=>"average"===e.status).length,color:"#f59e0b"},{name:"Needs Improvement",value:sp.filter(e=>"needs_improvement"===e.status).length,color:"#ef4444"}],S=sp.map(e=>({name:e.code,revenue:e.revenue,freight:100*e.freight,passengers:e.dailyPassengers/1e4})).sort((e,s)=>s.revenue-e.revenue);return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[1200px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(F.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Railway Zones Management"})]}),(0,a.jsx)(H,{children:"Comprehensive analysis and management of all 12 Indian Railway zones"})]}),(0,a.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"overview",children:"Overview"}),(0,a.jsx)(g,{value:"zones",children:"All Zones"}),(0,a.jsx)(g,{value:"comparison",children:"Comparison"}),(0,a.jsx)(g,{value:"analysis",children:"Zone Analysis"})]}),(0,a.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:sp.length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Railway Zones"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:u.totalRoute.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Route (km)"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:sv(u.totalPassengers)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Daily Passengers"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-orange-500",children:["₹",sv(u.totalRevenue)]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Zone Status Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:w,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",nameKey:"name",children:w.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{formatter:e=>[e,"Zones"]})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Revenue by Zone"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(eb.v,{data:S.slice(0,6),children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"name"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{formatter:e=>["₹".concat(e,"Cr"),"Revenue"]}),(0,a.jsx)(ew.$,{dataKey:"revenue",fill:"#3b82f6"})]})})})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Key Performance Indicators"})}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Network Electrification"}),(0,a.jsxs)("span",{className:"font-medium",children:[u.electrificationPercent.toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:u.electrificationPercent,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Average Safety Score"}),(0,a.jsxs)("span",{className:"font-medium",children:[u.avgSafety.toFixed(1),"/100"]})]}),(0,a.jsx)(ed,{value:u.avgSafety,className:"h-2"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Average Performance"}),(0,a.jsxs)("span",{className:"font-medium",children:[u.avgPerformance.toFixed(1),"/100"]})]}),(0,a.jsx)(ed,{value:u.avgPerformance,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Zone Excellence Rate"}),(0,a.jsxs)("span",{className:"font-medium",children:[(w[0].value/sp.length*100).toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:w[0].value/sp.length*100,className:"h-2"})]})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-blue-500",children:u.totalStations.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Stations"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-green-500",children:sv(u.totalEmployees)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Employees"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-purple-500",children:u.totalElectrified.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Electrified (km)"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-orange-500",children:sp.reduce((e,s)=>e+s.divisions,0)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Divisions"})]})})})]})]}),(0,a.jsxs)(v,{value:"zones",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)($,{value:l,onValueChange:c,children:[(0,a.jsx)(ee,{className:"w-full sm:w-48",children:(0,a.jsx)(X,{placeholder:"Filter by Status"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Status"}),(0,a.jsx)(et,{value:"excellent",children:"Excellent"}),(0,a.jsx)(et,{value:"good",children:"Good"}),(0,a.jsx)(et,{value:"average",children:"Average"}),(0,a.jsx)(et,{value:"needs_improvement",children:"Needs Improvement"})]})]}),(0,a.jsxs)($,{value:d,onValueChange:o,children:[(0,a.jsx)(ee,{className:"w-full sm:w-48",children:(0,a.jsx)(X,{placeholder:"Sort by"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"revenue",children:"Revenue"}),(0,a.jsx)(et,{value:"safety",children:"Safety Score"}),(0,a.jsx)(et,{value:"performance",children:"Performance"}),(0,a.jsx)(et,{value:"passengers",children:"Daily Passengers"})]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",x.length," of ",sp.length," railway zones"]}),(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,a.jsx)(k,{className:"hover:shadow-md transition-shadow",children:(0,a.jsxs)(M,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:(0,a.jsx)(f.Z,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-lg",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.headquarters," • Est. ",e.establishedYear]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.totalRoute.toLocaleString()," km"]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.stations," stations"]})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[function(e){switch(e){case"excellent":return(0,a.jsx)(st.Z,{className:"h-4 w-4 text-green-500"});case"good":return(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-blue-500"});case"average":return(0,a.jsx)(A.Z,{className:"h-4 w-4 text-yellow-500"});case"needs_improvement":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(F.Z,{className:"h-4 w-4 text-gray-400"})}}(e.status),(0,a.jsx)(h,{className:function(e){switch(e){case"excellent":return"bg-green-500/10 text-green-500 border-green-500";case"good":return"bg-blue-500/10 text-blue-500 border-blue-500";case"average":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"needs_improvement":return"bg-red-500/10 text-red-500 border-red-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}(e.status),children:e.status.replace("_"," ").toUpperCase()})]}),(0,a.jsxs)("div",{className:"text-lg font-medium",children:["₹",sv(e.revenue)]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Annual Revenue"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Safety Score"}),(0,a.jsxs)("div",{className:"font-medium text-green-500",children:[e.safetyScore.toFixed(1),"/100"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Performance"}),(0,a.jsxs)("div",{className:"font-medium text-blue-500",children:[e.performanceScore.toFixed(1),"/100"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"On-Time"}),(0,a.jsxs)("div",{className:"font-medium text-orange-500",children:[e.onTimePerformance.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Daily Passengers"}),(0,a.jsx)("div",{className:"font-medium text-purple-500",children:sv(e.dailyPassengers)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Freight (MT/year)"}),(0,a.jsxs)("div",{className:"font-medium text-teal-500",children:[e.freight.toFixed(1),"M"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(L.Z,{className:"h-4 w-4 text-blue-500"}),(0,a.jsxs)("span",{children:[sv(e.employees)," employees"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(su.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsxs)("span",{children:[e.divisions," divisions"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(sj.Z,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsxs)("span",{children:[(e.electrifiedRoute/e.totalRoute*100).toFixed(1),"% electrified"]})]})]}),(0,a.jsxs)("div",{className:"text-muted-foreground",children:[e.incidents," incidents this year"]})]})]})},e.id))})})]}),(0,a.jsxs)(v,{value:"comparison",className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Zone Performance Comparison"}),(0,a.jsx)(D,{children:"Multi-dimensional performance analysis across key metrics"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:400,children:(0,a.jsxs)(sc.H,{data:N,children:[(0,a.jsx)(sd.n,{}),(0,a.jsx)(so.I,{dataKey:"zone"}),(0,a.jsx)(sm.S,{angle:18,domain:[0,100]}),(0,a.jsx)(sx.F,{name:"Safety",dataKey:"safety",stroke:"#22c55e",fill:"#22c55e",fillOpacity:.2}),(0,a.jsx)(sx.F,{name:"Performance",dataKey:"performance",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.2}),(0,a.jsx)(sx.F,{name:"Maintenance",dataKey:"maintenance",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.2}),(0,a.jsx)(sx.F,{name:"Satisfaction",dataKey:"satisfaction",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.2}),(0,a.jsx)(eu.u,{})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Revenue vs Passenger Volume"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(sh.c,{data:S,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"name"}),(0,a.jsx)(ev.B,{yAxisId:"left"}),(0,a.jsx)(ev.B,{yAxisId:"right",orientation:"right"}),(0,a.jsx)(eu.u,{}),(0,a.jsx)(ew.$,{yAxisId:"left",dataKey:"revenue",fill:"#3b82f6",name:"Revenue (₹Cr)"}),(0,a.jsx)(ey.x,{yAxisId:"right",type:"monotone",dataKey:"passengers",stroke:"#22c55e",strokeWidth:2,name:"Passengers (10K)"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Safety vs Performance Metrics"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(eb.v,{data:N,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"zone"}),(0,a.jsx)(ev.B,{domain:[70,100]}),(0,a.jsx)(eu.u,{}),(0,a.jsx)(ew.$,{dataKey:"safety",fill:"#22c55e",name:"Safety Score"}),(0,a.jsx)(ew.$,{dataKey:"performance",fill:"#3b82f6",name:"Performance Score"})]})})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Top Performing Zones"})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-3",children:sp.sort((e,s)=>s.performanceScore-e.performanceScore).slice(0,6).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.code})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium",children:e.performanceScore.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Score"})]})]},e.id))})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Highest Revenue Zones"})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-3",children:sp.sort((e,s)=>s.revenue-e.revenue).slice(0,6).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-500/20 flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.code})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-medium",children:["₹",sv(e.revenue)]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Crores"})]})]},e.id))})})]})]})]}),(0,a.jsxs)(v,{value:"analysis",className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsxs)($,{value:i,onValueChange:n,children:[(0,a.jsx)(ee,{className:"w-64",children:(0,a.jsx)(X,{placeholder:"Select Zone for Analysis"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Zones Overview"}),sp.map(e=>(0,a.jsx)(et,{value:e.id,children:e.name},e.id))]})]})}),y?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"text-base",children:[y.name," - Detailed Analysis"]}),(0,a.jsxs)(D,{children:["Headquarters: ",y.headquarters," • Established: ",y.establishedYear]})]}),(0,a.jsxs)(M,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:y.totalRoute.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Route (km)"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:sv(y.dailyPassengers)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Daily Passengers"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-orange-500",children:["₹",sv(y.revenue)]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Annual Revenue"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-500",children:[y.freight.toFixed(1),"M"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Freight (MT/year)"})]})]}),(0,a.jsx)(eo.h,{width:"100%",height:300,children:(0,a.jsxs)(eN.w,{data:b,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"month"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"safety",stroke:"#22c55e",strokeWidth:2,name:"Safety Score"}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"onTime",stroke:"#3b82f6",strokeWidth:2,name:"On-Time %"}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"revenue",stroke:"#f59e0b",strokeWidth:2,name:"Revenue (₹Cr)"})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Infrastructure Details"})}),(0,a.jsxs)(M,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Total Stations:"}),(0,a.jsx)("span",{className:"font-medium",children:y.stations})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Electrified Route:"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.electrifiedRoute.toLocaleString()," km"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Electrification %:"}),(0,a.jsxs)("span",{className:"font-medium",children:[(y.electrifiedRoute/y.totalRoute*100).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Divisions:"}),(0,a.jsx)("span",{className:"font-medium",children:y.divisions})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Workshops:"}),(0,a.jsx)("span",{className:"font-medium",children:y.workshops})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Employees:"}),(0,a.jsx)("span",{className:"font-medium",children:sv(y.employees)})]})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Performance Metrics"})}),(0,a.jsxs)(M,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Safety Score"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.safetyScore.toFixed(1),"/100"]})]}),(0,a.jsx)(ed,{value:y.safetyScore,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Performance Score"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.performanceScore.toFixed(1),"/100"]})]}),(0,a.jsx)(ed,{value:y.performanceScore,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Maintenance Score"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.maintenanceScore.toFixed(1),"/100"]})]}),(0,a.jsx)(ed,{value:y.maintenanceScore,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"On-Time Performance"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.onTimePerformance.toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:y.onTimePerformance,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Budget Utilization"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.budgetUtilization.toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:y.budgetUtilization,className:"h-2"})]})]})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Major Stations"})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:y.majorStations.map(e=>(0,a.jsx)(h,{variant:"outline",children:e},e))})})]})]}):(0,a.jsx)(k,{children:(0,a.jsxs)(M,{className:"p-8 text-center",children:[(0,a.jsx)(F.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("div",{className:"text-lg font-medium text-muted-foreground",children:"Select a railway zone to view detailed analysis"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mt-2",children:"Choose from 12 railway zones for comprehensive insights"})]})})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}var sN=t(38309),sy=t(92451),sb=t(27200);let sw=()=>{let e=["Northern Railway","Western Railway","Eastern Railway","Southern Railway","Central Railway","South Central Railway"];return[{name:"QR Code Validation API",category:"api",endpoint:"/api/qr/validate"},{name:"Asset Registration API",category:"api",endpoint:"/api/assets/register"},{name:"User Authentication",category:"api",endpoint:"/api/auth/login"},{name:"Maintenance Reports API",category:"api",endpoint:"/api/maintenance/reports"},{name:"Analytics Dashboard API",category:"api",endpoint:"/api/analytics/dashboard"},{name:"Asset Database Query",category:"database",endpoint:"assets.findMany()"},{name:"User Session Store",category:"database",endpoint:"sessions.create()"},{name:"Maintenance Records DB",category:"database",endpoint:"maintenance.aggregate()"},{name:"Railway Zone Network",category:"network",endpoint:"zone-connectivity"},{name:"Inter-Zone Communication",category:"network",endpoint:"inter-zone-sync"},{name:"Mobile App Sync",category:"network",endpoint:"mobile-sync"},{name:"CPU Usage Monitor",category:"system",endpoint:"system/cpu"},{name:"Memory Allocation",category:"system",endpoint:"system/memory"},{name:"Disk I/O Operations",category:"system",endpoint:"system/disk"},{name:"Dashboard Load Time",category:"user_interface",endpoint:"ui/dashboard"},{name:"QR Scanner Interface",category:"user_interface",endpoint:"ui/qr-scanner"},{name:"Report Generation UI",category:"user_interface",endpoint:"ui/reports"}].map((s,t)=>{let a=Math.floor(("api"===s.category?150:"database"===s.category?80:"network"===s.category?200:"system"===s.category?50:300)*(.4*Math.random()+.8)),r=Math.floor(a*(1.5+.5*Math.random())),i="api"===s.category?Math.floor(500*Math.random()+100):"database"===s.category?Math.floor(300*Math.random()+50):"network"===s.category?Math.floor(200*Math.random()+30):"system"===s.category?Math.floor(1e3*Math.random()+200):Math.floor(100*Math.random()+20),n="api"===s.category?500:"database"===s.category?200:"network"===s.category?1e3:"system"===s.category?100:2e3,l="healthy";return a>.8*n&&(l="warning"),a>n&&(l="critical"),{id:"RTM-".concat(String(t+1).padStart(3,"0")),service:s.name,category:s.category,endpoint:s.endpoint,avgResponseTime:a,p95ResponseTime:r,p99ResponseTime:Math.floor(r*(1.3+.4*Math.random())),requestsPerMinute:i,errorRate:3*Math.random(),availability:99.9-.8*Math.random(),sla:n,status:l,lastUpdated:new Date(Date.now()-3e5*Math.random()).toISOString(),zone:e[Math.floor(Math.random()*e.length)]}})},sS=()=>Array.from({length:24},(e,s)=>{let t=new Date(Date.now()-36e5*(24-s)).toISOString(),a=new Date(t).getHours(),r=a>=9&&a<=17?1.5:1;return{timestamp:t,avgResponse:Math.floor((120+80*Math.random())*r),p95Response:Math.floor((200+100*Math.random())*r),requests:Math.floor((300+200*Math.random())*r),errors:Math.floor(10*Math.random()*r)}}).reverse(),sk=[{component:"Asset Database Connection Pool",category:"Database",avgLatency:145,impact:"high",frequency:85,recommendedAction:"Increase connection pool size and optimize slow queries"},{component:"QR Code Processing Pipeline",category:"API Processing",avgLatency:89,impact:"medium",frequency:67,recommendedAction:"Implement caching for frequently scanned QR codes"},{component:"Inter-Zone Network Latency",category:"Network",avgLatency:234,impact:"high",frequency:78,recommendedAction:"Optimize network routing and implement CDN"},{component:"Maintenance Report Generation",category:"Business Logic",avgLatency:1250,impact:"medium",frequency:45,recommendedAction:"Pre-compute common reports and use background processing"},{component:"User Session Validation",category:"Authentication",avgLatency:67,impact:"low",frequency:92,recommendedAction:"Implement Redis caching for session tokens"},{component:"Mobile App Synchronization",category:"Mobile",avgLatency:456,impact:"medium",frequency:56,recommendedAction:"Implement incremental sync and compression"}],sR=[{id:"OPT-001",title:"Implement Database Query Optimization",description:"Optimize slow-running queries and add proper indexing to critical tables",category:"database",priority:"high",estimatedImprovement:35,implementationTime:"2-3 weeks",cost:"low"},{id:"OPT-002",title:"Deploy Redis Caching Layer",description:"Add Redis caching for frequently accessed data and session management",category:"caching",priority:"high",estimatedImprovement:45,implementationTime:"1-2 weeks",cost:"medium"},{id:"OPT-003",title:"Upgrade Network Infrastructure",description:"Enhance inter-zone connectivity and implement load balancing",category:"network",priority:"medium",estimatedImprovement:25,implementationTime:"4-6 weeks",cost:"high"},{id:"OPT-004",title:"API Response Compression",description:"Implement gzip compression for API responses to reduce transfer time",category:"performance",priority:"medium",estimatedImprovement:20,implementationTime:"3-5 days",cost:"low"},{id:"OPT-005",title:"Background Job Processing",description:"Move heavy operations to background jobs using queue system",category:"performance",priority:"high",estimatedImprovement:50,implementationTime:"2-4 weeks",cost:"medium"},{id:"OPT-006",title:"CDN Implementation",description:"Deploy Content Delivery Network for static assets and images",category:"infrastructure",priority:"low",estimatedImprovement:30,implementationTime:"1-2 weeks",cost:"medium"}];function sC(e){switch(e){case"api":return(0,a.jsx)(eC.Z,{className:"h-4 w-4"});case"database":return(0,a.jsx)(eD.Z,{className:"h-4 w-4"});case"network":return(0,a.jsx)(eT.Z,{className:"h-4 w-4"});case"system":case"user_interface":return(0,a.jsx)(eR.Z,{className:"h-4 w-4"});default:return(0,a.jsx)(A.Z,{className:"h-4 w-4"})}}function sD(e){switch(e){case"high":return"text-red-500";case"medium":return"text-yellow-500";case"low":return"text-green-500";default:return"text-gray-500"}}function sM(e){switch(e){case"high":return"bg-red-500/10 text-red-500 border-red-500";case"medium":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"low":return"bg-green-500/10 text-green-500 border-green-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}function sT(e){let{open:s,onOpenChange:t}=e,[i]=(0,r.useState)(()=>sw()),[n]=(0,r.useState)(()=>sS()),[l,c]=(0,r.useState)("all"),[d,o]=(0,r.useState)("all"),x=(0,r.useMemo)(()=>i.filter(e=>{let s="all"===l||e.category===l,t="all"===d||e.status===d;return s&&t}),[i,l,d]),u=(0,r.useMemo)(()=>{let e=i.reduce((e,s)=>e+s.avgResponseTime,0)/i.length,s=i.reduce((e,s)=>e+s.p95ResponseTime,0)/i.length,t=i.reduce((e,s)=>e+s.requestsPerMinute,0),a=i.reduce((e,s)=>e+s.errorRate,0)/i.length,r=i.reduce((e,s)=>e+s.availability,0)/i.length;return{avgResponseTime:e,p95ResponseTime:s,totalRequests:t,avgErrorRate:a,avgAvailability:r,criticalServices:i.filter(e=>"critical"===e.status).length,warningServices:i.filter(e=>"warning"===e.status).length,healthyServices:i.filter(e=>"healthy"===e.status).length}},[i]),f=(0,r.useMemo)(()=>["api","database","network","system","user_interface"].map(e=>{let s=i.filter(s=>s.category===e);return{category:e,count:s.length,avgResponse:s.reduce((e,s)=>e+s.avgResponseTime,0)/s.length||0,criticalCount:s.filter(e=>"critical"===e.status).length}}),[i]),N=[{name:"Healthy",value:u.healthyServices,color:"#22c55e"},{name:"Warning",value:u.warningServices,color:"#f59e0b"},{name:"Critical",value:u.criticalServices,color:"#ef4444"}];return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[1200px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(sb.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Response Time Analytics"})]}),(0,a.jsx)(H,{children:"Comprehensive analysis of system response times, bottlenecks, and optimization opportunities"})]}),(0,a.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"overview",children:"Overview"}),(0,a.jsx)(g,{value:"metrics",children:"Service Metrics"}),(0,a.jsx)(g,{value:"bottlenecks",children:"Bottlenecks"}),(0,a.jsx)(g,{value:"optimization",children:"Optimization"})]}),(0,a.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[u.avgResponseTime.toFixed(0),"ms"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Response Time"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-500",children:[u.p95ResponseTime.toFixed(0),"ms"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"95th Percentile"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:u.totalRequests.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Requests/Min"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-orange-500",children:[u.avgAvailability.toFixed(2),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Availability"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Response Time Trends (24h)"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(eN.w,{data:n,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"timestamp",tickFormatter:e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{labelFormatter:e=>new Date(e).toLocaleString(),formatter:(e,s)=>["".concat(e,"ms"),"avgResponse"===s?"Average":"95th Percentile"]}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"avgResponse",stroke:"#3b82f6",strokeWidth:2}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"p95Response",stroke:"#f59e0b",strokeWidth:2})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Service Status Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:N,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",nameKey:"name",children:N.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{formatter:e=>[e,"Services"]})]})})})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Request Volume & Error Rate"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(sh.c,{data:n,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"timestamp",tickFormatter:e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),(0,a.jsx)(ev.B,{yAxisId:"left"}),(0,a.jsx)(ev.B,{yAxisId:"right",orientation:"right"}),(0,a.jsx)(eu.u,{labelFormatter:e=>new Date(e).toLocaleString()}),(0,a.jsx)(ew.$,{yAxisId:"left",dataKey:"requests",fill:"#3b82f6",name:"Requests/Min"}),(0,a.jsx)(ey.x,{yAxisId:"right",type:"monotone",dataKey:"errors",stroke:"#ef4444",strokeWidth:2,name:"Errors"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Performance by Category"})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4",children:f.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:sC(e.category)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium capitalize",children:e.category.replace("_"," ")}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.count," services"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.avgResponse.toFixed(0),"ms"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.criticalCount>0&&(0,a.jsxs)("span",{className:"text-red-500",children:[e.criticalCount," critical"]})})]})]},e.category))})})]})]}),(0,a.jsxs)(v,{value:"metrics",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)($,{value:l,onValueChange:c,children:[(0,a.jsx)(ee,{className:"w-full sm:w-48",children:(0,a.jsx)(X,{placeholder:"Category"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Categories"}),(0,a.jsx)(et,{value:"api",children:"API"}),(0,a.jsx)(et,{value:"database",children:"Database"}),(0,a.jsx)(et,{value:"network",children:"Network"}),(0,a.jsx)(et,{value:"system",children:"System"}),(0,a.jsx)(et,{value:"user_interface",children:"User Interface"})]})]}),(0,a.jsxs)($,{value:d,onValueChange:o,children:[(0,a.jsx)(ee,{className:"w-full sm:w-48",children:(0,a.jsx)(X,{placeholder:"Status"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Status"}),(0,a.jsx)(et,{value:"healthy",children:"Healthy"}),(0,a.jsx)(et,{value:"warning",children:"Warning"}),(0,a.jsx)(et,{value:"critical",children:"Critical"})]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",x.length," of ",i.length," services"]}),(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-3",children:x.map(e=>(0,a.jsx)(k,{className:"hover:shadow-md transition-shadow",children:(0,a.jsxs)(M,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:sC(e.category)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.service}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.endpoint}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.zone})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[function(e){switch(e){case"healthy":return(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"});case"warning":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-yellow-500"});case"critical":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(P.Z,{className:"h-4 w-4 text-gray-400"})}}(e.status),(0,a.jsx)(h,{className:function(e){switch(e){case"healthy":return"bg-green-500/10 text-green-500 border-green-500";case"warning":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"critical":return"bg-red-500/10 text-red-500 border-red-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}(e.status),children:e.status.toUpperCase()})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["SLA: ",e.sla,"ms"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Avg Response"}),(0,a.jsxs)("div",{className:"font-medium ".concat(e.avgResponseTime>e.sla?"text-red-500":"text-green-500"),children:[e.avgResponseTime,"ms"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"95th Percentile"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.p95ResponseTime,"ms"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Requests/Min"}),(0,a.jsx)("div",{className:"font-medium",children:e.requestsPerMinute})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Error Rate"}),(0,a.jsxs)("div",{className:"font-medium ".concat(e.errorRate>1?"text-red-500":"text-green-500"),children:[e.errorRate.toFixed(2),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Availability"}),(0,a.jsxs)("div",{className:"font-medium ".concat(e.availability<99.5?"text-red-500":"text-green-500"),children:[e.availability.toFixed(2),"%"]})]})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{children:"Performance vs SLA"}),(0,a.jsxs)("span",{children:[((e.sla-e.avgResponseTime)/e.sla*100).toFixed(1),"% under SLA"]})]}),(0,a.jsx)(ed,{value:Math.min(100,e.avgResponseTime/e.sla*100),className:"h-2"})]})]})},e.id))})})]}),(0,a.jsxs)(v,{value:"bottlenecks",className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Identified Bottlenecks"}),(0,a.jsx)(D,{children:"Components causing performance degradation across the system"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4",children:sk.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-500/20 flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-red-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.component}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.category})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-medium",children:[e.avgLatency,"ms"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Latency"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Impact Level"}),(0,a.jsx)("div",{className:"font-medium capitalize ".concat(sD(e.impact)),children:e.impact})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Frequency"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.frequency,"% of requests"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Priority"}),(0,a.jsx)(h,{className:sD(e.impact),children:e.impact.toUpperCase()})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Recommended Action:"}),(0,a.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:e.recommendedAction})]})]},s))})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Performance Impact Analysis"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:300,children:(0,a.jsxs)(sN.G,{data:sk,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"frequency",name:"Frequency %"}),(0,a.jsx)(ev.B,{dataKey:"avgLatency",name:"Latency (ms)"}),(0,a.jsx)(eu.u,{formatter:(e,s)=>["frequency"===s?"".concat(e,"%"):"".concat(e,"ms"),"frequency"===s?"Frequency":"Latency"],labelFormatter:()=>""}),(0,a.jsx)(sy.b,{dataKey:"avgLatency",fill:"#ef4444",shape:e=>{let{cx:s,cy:t,payload:r}=e,i="high"===r.impact?8:"medium"===r.impact?6:4;return(0,a.jsx)("circle",{cx:s,cy:t,r:i,fill:"#ef4444"})}})]})})})]})]}),(0,a.jsxs)(v,{value:"optimization",className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Optimization Recommendations"}),(0,a.jsx)(D,{children:"Actionable improvements to enhance system performance"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4",children:sR.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(eY.Z,{className:"h-5 w-5 text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.title}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground capitalize",children:e.category})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h,{className:sM(e.priority),children:e.priority.toUpperCase()}),(0,a.jsxs)(h,{variant:"outline",children:["+",e.estimatedImprovement,"%"]})]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Implementation Time"}),(0,a.jsx)("div",{className:"font-medium",children:e.implementationTime})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Cost"}),(0,a.jsx)("div",{className:"font-medium capitalize ".concat("low"===e.cost?"text-green-500":"medium"===e.cost?"text-yellow-500":"text-red-500"),children:e.cost})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Expected Improvement"}),(0,a.jsxs)("div",{className:"font-medium text-green-500",children:[e.estimatedImprovement,"% faster"]})]})]})]},e.id))})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Implementation Roadmap"})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4",children:sR.sort((e,s)=>{let t={high:3,medium:2,low:1};return t[s.priority]-t[e.priority]}).slice(0,4).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.implementationTime," • ",e.estimatedImprovement,"% improvement"]})]}),(0,a.jsx)(h,{className:sM(e.priority),children:e.priority})]},e.id))})})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}var sA=t(98914),sI=t(57034);let sZ=[{zoneId:"NR",zoneName:"Northern Railway",code:"NR",totalAssets:145678,highRiskAssets:8934,mediumRiskAssets:23456,lowRiskAssets:113288,overallRiskScore:67.8,riskTrend:"stable",criticalIncidents:12,lastAssessment:"2025-09-14T10:30:00Z",riskFactors:{environmental:72,operational:65,structural:68,maintenance:61,security:74},geographicFactors:{climate:"temperate",rainfall:650,temperature:25,seismicZone:4,floodRisk:6},riskMitigation:{implemented:78,planned:12,budget:450}},{zoneId:"WR",zoneName:"Western Railway",code:"WR",totalAssets:189234,highRiskAssets:7123,mediumRiskAssets:28456,lowRiskAssets:153655,overallRiskScore:58.4,riskTrend:"decreasing",criticalIncidents:8,lastAssessment:"2025-09-15T14:20:00Z",riskFactors:{environmental:62,operational:55,structural:59,maintenance:52,security:64},geographicFactors:{climate:"arid",rainfall:450,temperature:32,seismicZone:3,floodRisk:4},riskMitigation:{implemented:85,planned:8,budget:520}},{zoneId:"ER",zoneName:"Eastern Railway",code:"ER",totalAssets:98756,highRiskAssets:9876,mediumRiskAssets:19745,lowRiskAssets:69135,overallRiskScore:74.2,riskTrend:"increasing",criticalIncidents:18,lastAssessment:"2025-09-13T09:15:00Z",riskFactors:{environmental:82,operational:71,structural:76,maintenance:68,security:78},geographicFactors:{climate:"tropical",rainfall:1200,temperature:28,seismicZone:3,floodRisk:8},riskMitigation:{implemented:65,planned:22,budget:380}},{zoneId:"SR",zoneName:"Southern Railway",code:"SR",totalAssets:167890,highRiskAssets:6234,mediumRiskAssets:25678,lowRiskAssets:135978,overallRiskScore:52.6,riskTrend:"stable",criticalIncidents:10,lastAssessment:"2025-09-15T11:45:00Z",riskFactors:{environmental:58,operational:48,structural:54,maintenance:46,security:57},geographicFactors:{climate:"tropical",rainfall:900,temperature:30,seismicZone:2,floodRisk:5},riskMitigation:{implemented:89,planned:6,budget:480}},{zoneId:"CR",zoneName:"Central Railway",code:"CR",totalAssets:156789,highRiskAssets:5678,mediumRiskAssets:23456,lowRiskAssets:127655,overallRiskScore:49.8,riskTrend:"decreasing",criticalIncidents:7,lastAssessment:"2025-09-16T08:30:00Z",riskFactors:{environmental:54,operational:45,structural:51,maintenance:43,security:56},geographicFactors:{climate:"tropical",rainfall:850,temperature:29,seismicZone:3,floodRisk:6},riskMitigation:{implemented:92,planned:4,budget:580}},{zoneId:"SCR",zoneName:"South Central Railway",code:"SCR",totalAssets:198765,highRiskAssets:11234,mediumRiskAssets:31456,lowRiskAssets:156075,overallRiskScore:71.3,riskTrend:"stable",criticalIncidents:15,lastAssessment:"2025-09-14T16:00:00Z",riskFactors:{environmental:78,operational:68,structural:73,maintenance:65,security:76},geographicFactors:{climate:"arid",rainfall:550,temperature:35,seismicZone:2,floodRisk:3},riskMitigation:{implemented:72,planned:18,budget:420}},{zoneId:"ECR",zoneName:"East Central Railway",code:"ECR",totalAssets:123456,highRiskAssets:12345,mediumRiskAssets:24567,lowRiskAssets:86544,overallRiskScore:79.4,riskTrend:"increasing",criticalIncidents:22,lastAssessment:"2025-09-12T12:20:00Z",riskFactors:{environmental:87,operational:76,structural:81,maintenance:73,security:82},geographicFactors:{climate:"tropical",rainfall:1100,temperature:27,seismicZone:4,floodRisk:9},riskMitigation:{implemented:58,planned:28,budget:320}},{zoneId:"NCR",zoneName:"North Central Railway",code:"NCR",totalAssets:134567,highRiskAssets:8765,mediumRiskAssets:21234,lowRiskAssets:104568,overallRiskScore:65.7,riskTrend:"stable",criticalIncidents:14,lastAssessment:"2025-09-15T07:45:00Z",riskFactors:{environmental:71,operational:62,structural:67,maintenance:58,security:72},geographicFactors:{climate:"temperate",rainfall:600,temperature:26,seismicZone:3,floodRisk:5},riskMitigation:{implemented:75,planned:15,budget:390}},{zoneId:"NFR",zoneName:"Northeast Frontier Railway",code:"NFR",totalAssets:78945,highRiskAssets:9876,mediumRiskAssets:15678,lowRiskAssets:53391,overallRiskScore:82.1,riskTrend:"increasing",criticalIncidents:28,lastAssessment:"2025-09-11T15:30:00Z",riskFactors:{environmental:91,operational:78,structural:84,maintenance:76,security:85},geographicFactors:{climate:"mountainous",rainfall:2200,temperature:22,seismicZone:5,floodRisk:10},riskMitigation:{implemented:52,planned:35,budget:280}},{zoneId:"SER",zoneName:"South Eastern Railway",code:"SER",totalAssets:89765,highRiskAssets:7890,mediumRiskAssets:16234,lowRiskAssets:65641,overallRiskScore:69.8,riskTrend:"stable",criticalIncidents:16,lastAssessment:"2025-09-14T13:10:00Z",riskFactors:{environmental:76,operational:66,structural:71,maintenance:63,security:73},geographicFactors:{climate:"tropical",rainfall:1300,temperature:29,seismicZone:3,floodRisk:7},riskMitigation:{implemented:68,planned:20,budget:350}},{zoneId:"SECR",zoneName:"South East Central Railway",code:"SECR",totalAssets:112345,highRiskAssets:6789,mediumRiskAssets:18456,lowRiskAssets:87100,overallRiskScore:61.2,riskTrend:"decreasing",criticalIncidents:11,lastAssessment:"2025-09-15T10:15:00Z",riskFactors:{environmental:67,operational:58,structural:63,maintenance:55,security:69},geographicFactors:{climate:"tropical",rainfall:950,temperature:31,seismicZone:2,floodRisk:4},riskMitigation:{implemented:81,planned:12,budget:410}},{zoneId:"WCR",zoneName:"West Central Railway",code:"WCR",totalAssets:123789,highRiskAssets:7456,mediumRiskAssets:19876,lowRiskAssets:96457,overallRiskScore:63.9,riskTrend:"stable",criticalIncidents:13,lastAssessment:"2025-09-14T14:25:00Z",riskFactors:{environmental:70,operational:60,structural:65,maintenance:57,security:68},geographicFactors:{climate:"arid",rainfall:700,temperature:33,seismicZone:2,floodRisk:3},riskMitigation:{implemented:77,planned:14,budget:370}}],sL=()=>Array.from({length:12},(e,s)=>({month:new Date(Date.now()-(11-s)*2592e6).toLocaleDateString("en-US",{month:"short"}),overall:65+5*Math.sin(.5*s)+4*Math.random(),environmental:70+8*Math.sin(.3*s)+3*Math.random(),operational:60+6*Math.sin(.7*s)+4*Math.random(),structural:62+7*Math.sin(.4*s)+3*Math.random()}));function sF(e){return e>=80?"#ef4444":e>=65?"#f97316":e>=50?"#eab308":e>=35?"#22c55e":"#10b981"}function sP(e){return e>=80?"Critical":e>=65?"High":e>=50?"Medium":e>=35?"Low":"Minimal"}function sz(e){return e>=80?"bg-red-500/10 text-red-500 border-red-500":e>=65?"bg-orange-500/10 text-orange-500 border-orange-500":e>=50?"bg-yellow-500/10 text-yellow-500 border-yellow-500":e>=35?"bg-green-500/10 text-green-500 border-green-500":"bg-emerald-500/10 text-emerald-500 border-emerald-500"}function sE(e){switch(e){case"increasing":return(0,a.jsx)(w.Z,{className:"h-4 w-4 text-red-500"});case"decreasing":return(0,a.jsx)(w.Z,{className:"h-4 w-4 text-green-500 rotate-180"});case"stable":return(0,a.jsx)(A.Z,{className:"h-4 w-4 text-blue-500"});default:return(0,a.jsx)(A.Z,{className:"h-4 w-4 text-gray-400"})}}function sO(e){switch(e){case"tropical":return"\uD83C\uDF34";case"arid":return"\uD83C\uDFDC️";case"temperate":return"\uD83C\uDF32";case"coastal":return"\uD83C\uDF0A";case"mountainous":return"⛰️";default:return"\uD83C\uDF0D"}}function sq(e){let{open:s,onOpenChange:t}=e,[i,n]=(0,r.useState)("all"),[l,c]=(0,r.useState)("all"),[d,o]=(0,r.useState)("riskScore"),[x]=(0,r.useState)(()=>sL()),u=(0,r.useMemo)(()=>sZ.filter(e=>"all"===l||sP(e.overallRiskScore).toLowerCase()===l).sort((e,s)=>{switch(d){case"riskScore":default:return s.overallRiskScore-e.overallRiskScore;case"incidents":return s.criticalIncidents-e.criticalIncidents;case"assets":return s.totalAssets-e.totalAssets;case"zoneName":return e.zoneName.localeCompare(s.zoneName)}}),[l,d]),f=(0,r.useMemo)(()=>{let e=sZ.reduce((e,s)=>e+s.totalAssets,0),s=sZ.reduce((e,s)=>e+s.highRiskAssets,0),t=sZ.reduce((e,s)=>e+s.mediumRiskAssets,0),a=sZ.reduce((e,s)=>e+s.lowRiskAssets,0),r=sZ.reduce((e,s)=>e+s.overallRiskScore,0)/sZ.length;return{totalAssets:e,totalHighRisk:s,totalMediumRisk:t,totalLowRisk:a,avgRiskScore:r,totalIncidents:sZ.reduce((e,s)=>e+s.criticalIncidents,0),criticalZones:sZ.filter(e=>e.overallRiskScore>=80).length,highRiskZones:sZ.filter(e=>e.overallRiskScore>=65&&e.overallRiskScore<80).length,highRiskPercentage:s/e*100}},[]),N=(0,r.useMemo)(()=>sZ.map(e=>({zone:e.code,riskScore:e.overallRiskScore,assetDensity:e.totalAssets/2e5*100,incidents:e.criticalIncidents,color:sF(e.overallRiskScore)})),[]),y=(0,r.useMemo)(()=>sZ.slice(0,8).map(e=>({zone:e.code,environmental:e.riskFactors.environmental,operational:e.riskFactors.operational,structural:e.riskFactors.structural,maintenance:e.riskFactors.maintenance,security:e.riskFactors.security})),[]),b="all"!==i?sZ.find(e=>e.zoneId===i):null,w=[{name:"High Risk",value:f.totalHighRisk,color:"#ef4444"},{name:"Medium Risk",value:f.totalMediumRisk,color:"#f97316"},{name:"Low Risk",value:f.totalLowRisk,color:"#22c55e"}];return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[1200px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(sA.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Zone-wise Risk Distribution"})]}),(0,a.jsx)(H,{children:"Geographic risk analysis and comparative assessment across all railway zones"})]}),(0,a.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"overview",children:"Overview"}),(0,a.jsx)(g,{value:"heatmap",children:"Risk Heatmap"}),(0,a.jsx)(g,{value:"analysis",children:"Zone Analysis"}),(0,a.jsx)(g,{value:"comparison",children:"Comparison"})]}),(0,a.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:f.avgRiskScore.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Risk Score"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500",children:f.criticalZones}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Critical Zones"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-orange-500",children:[f.highRiskPercentage.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"High Risk Assets"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:f.totalIncidents}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Incidents"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk Distribution Across Assets"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:w,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",nameKey:"name",children:w.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:"#1f2937"},formatter:(e,s)=>["".concat(e.toLocaleString()," assets"),s],labelFormatter:e=>"Risk Level: ".concat(e)})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk Trends (12 Months)"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(eN.w,{data:x,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"month"}),(0,a.jsx)(ev.B,{domain:[50,80]}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:"#1f2937"},formatter:(e,s)=>["".concat(e.toFixed(1),"%"),s],labelFormatter:e=>"Month: ".concat(e)}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"overall",stroke:"#3b82f6",strokeWidth:2,name:"Overall Risk"}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"environmental",stroke:"#22c55e",strokeWidth:2,name:"Environmental"}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"operational",stroke:"#f97316",strokeWidth:2,name:"Operational"})]})})})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Zone Risk Rankings"})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-3",children:sZ.sort((e,s)=>s.overallRiskScore-e.overallRiskScore).slice(0,8).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-sm font-medium",children:s+1}),(0,a.jsx)(Z.Z,{className:"h-5 w-5 ".concat(e.overallRiskScore>=80?"text-red-500":e.overallRiskScore>=65?"text-orange-500":"text-yellow-500")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.zoneName}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.code})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium",style:{color:sF(e.overallRiskScore)},children:e.overallRiskScore.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Risk Score"})]}),(0,a.jsx)(h,{className:sz(e.overallRiskScore),children:sP(e.overallRiskScore)}),sE(e.riskTrend)]})]},e.zoneId))})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Average Risk Factors Across Zones"})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Object.entries({Environmental:sZ.reduce((e,s)=>e+s.riskFactors.environmental,0)/sZ.length,Operational:sZ.reduce((e,s)=>e+s.riskFactors.operational,0)/sZ.length,Structural:sZ.reduce((e,s)=>e+s.riskFactors.structural,0)/sZ.length,Maintenance:sZ.reduce((e,s)=>e+s.riskFactors.maintenance,0)/sZ.length,Security:sZ.reduce((e,s)=>e+s.riskFactors.security,0)/sZ.length}).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold",style:{color:sF(t)},children:t.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:s}),(0,a.jsx)(ed,{value:t,className:"mt-2 h-2"})]},s)})})})]})]}),(0,a.jsxs)(v,{value:"heatmap",className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Risk Intensity Heatmap"}),(0,a.jsx)(D,{children:"Visual representation of risk distribution across zones"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:400,children:(0,a.jsxs)(eb.v,{data:N,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"zone"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{formatter:(e,s)=>["riskScore"===s?e.toFixed(1):e,"riskScore"===s?"Risk Score":"assetDensity"===s?"Asset Density":"Incidents"]}),(0,a.jsx)(ew.$,{dataKey:"riskScore",fill:"#ef4444",name:"Risk Score"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk vs Asset Density"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(sh.c,{data:N,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"zone"}),(0,a.jsx)(ev.B,{yAxisId:"left"}),(0,a.jsx)(ev.B,{yAxisId:"right",orientation:"right"}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:"#1f2937"},formatter:(e,s)=>["riskScore"===s?"".concat(e.toFixed(1),"%"):"".concat(e.toFixed(0)," assets/km\xb2"),"riskScore"===s?"Risk Score":"Asset Density"],labelFormatter:e=>"Zone: ".concat(e)}),(0,a.jsx)(ew.$,{yAxisId:"left",dataKey:"riskScore",fill:"#ef4444",name:"Risk Score"}),(0,a.jsx)(ey.x,{yAxisId:"right",type:"monotone",dataKey:"assetDensity",stroke:"#3b82f6",strokeWidth:2,name:"Asset Density"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Incident Correlation"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(ej.T,{data:N,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"zone"}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:"#1f2937"},formatter:(e,s)=>["".concat(e," incidents"),s],labelFormatter:e=>"Zone: ".concat(e)}),(0,a.jsx)(ef.u,{type:"monotone",dataKey:"incidents",stroke:"#f97316",fill:"#f97316",fillOpacity:.6,name:"Critical Incidents"})]})})})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk Level Legend"})}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:sF(85)}}),(0,a.jsx)("span",{className:"text-sm",children:"Critical (80+)"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:sF(70)}}),(0,a.jsx)("span",{className:"text-sm",children:"High (65-79)"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:sF(55)}}),(0,a.jsx)("span",{className:"text-sm",children:"Medium (50-64)"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:sF(40)}}),(0,a.jsx)("span",{className:"text-sm",children:"Low (35-49)"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:sF(25)}}),(0,a.jsx)("span",{className:"text-sm",children:"Minimal (0-34)"})]})]})})]})]}),(0,a.jsxs)(v,{value:"analysis",className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsxs)($,{value:i,onValueChange:n,children:[(0,a.jsx)(ee,{className:"w-64",children:(0,a.jsx)(X,{placeholder:"Select Zone for Analysis"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Zones Overview"}),sZ.map(e=>(0,a.jsx)(et,{value:e.zoneId,children:e.zoneName},e.zoneId))]})]})}),b?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"text-base",children:[b.zoneName," - Risk Analysis"]}),(0,a.jsx)(D,{children:"Comprehensive risk assessment and geographic factors"})]}),(0,a.jsxs)(M,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",style:{color:sF(b.overallRiskScore)},children:b.overallRiskScore.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Overall Risk Score"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500",children:b.highRiskAssets.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"High Risk Assets"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:b.criticalIncidents}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Critical Incidents"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:b.totalAssets.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Assets"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Risk Factors Breakdown"}),(0,a.jsx)("div",{className:"space-y-3",children:Object.entries(b.riskFactors).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"capitalize",children:s}),(0,a.jsxs)("span",{className:"font-medium",style:{color:sF(t)},children:[t,"/100"]})]}),(0,a.jsx)(ed,{value:t,className:"h-2"})]},s)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Geographic Factors"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Climate Type:"}),(0,a.jsxs)("span",{className:"font-medium flex items-center space-x-1",children:[(0,a.jsx)("span",{children:sO(b.geographicFactors.climate)}),(0,a.jsx)("span",{className:"capitalize",children:b.geographicFactors.climate})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Annual Rainfall:"}),(0,a.jsxs)("span",{className:"font-medium",children:[b.geographicFactors.rainfall,"mm"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Avg Temperature:"}),(0,a.jsxs)("span",{className:"font-medium",children:[b.geographicFactors.temperature,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Seismic Zone:"}),(0,a.jsxs)("span",{className:"font-medium",children:["Zone ",b.geographicFactors.seismicZone]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Flood Risk:"}),(0,a.jsxs)("span",{className:"font-medium",children:[b.geographicFactors.floodRisk,"/10"]})]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk Mitigation Status"})}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Implemented Measures"}),(0,a.jsxs)("span",{className:"font-medium",children:[b.riskMitigation.implemented,"%"]})]}),(0,a.jsx)(ed,{value:b.riskMitigation.implemented,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Planned Measures"}),(0,a.jsxs)("span",{className:"font-medium",children:[b.riskMitigation.planned,"%"]})]}),(0,a.jsx)(ed,{value:b.riskMitigation.planned,className:"h-2"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Mitigation Budget:"}),(0,a.jsxs)("span",{className:"font-medium",children:["₹",b.riskMitigation.budget,"Cr"]})]})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Asset Risk Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:[{name:"High Risk",value:b.highRiskAssets,color:"#ef4444"},{name:"Medium Risk",value:b.mediumRiskAssets,color:"#f97316"},{name:"Low Risk",value:b.lowRiskAssets,color:"#22c55e"}],cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",nameKey:"name",children:[{name:"High Risk",value:b.highRiskAssets,color:"#ef4444"},{name:"Medium Risk",value:b.mediumRiskAssets,color:"#f97316"},{name:"Low Risk",value:b.lowRiskAssets,color:"#22c55e"}].map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:"#1f2937"},formatter:(e,s)=>["".concat(e.toLocaleString()," assets (").concat((e/(b.highRiskAssets+b.mediumRiskAssets+b.lowRiskAssets)*100).toFixed(1),"%)"),s],labelFormatter:()=>"".concat(b.zoneName," Asset Distribution")})]})})})]})]})]}):(0,a.jsx)(k,{children:(0,a.jsxs)(M,{className:"p-8 text-center",children:[(0,a.jsx)(sI.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("div",{className:"text-lg font-medium text-muted-foreground",children:"Select a railway zone for detailed risk analysis"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mt-2",children:"Choose from 12 railway zones for comprehensive risk insights"})]})})]}),(0,a.jsxs)(v,{value:"comparison",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)($,{value:l,onValueChange:c,children:[(0,a.jsx)(ee,{className:"w-full sm:w-48",children:(0,a.jsx)(X,{placeholder:"Risk Level"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Risk Levels"}),(0,a.jsx)(et,{value:"critical",children:"Critical"}),(0,a.jsx)(et,{value:"high",children:"High"}),(0,a.jsx)(et,{value:"medium",children:"Medium"}),(0,a.jsx)(et,{value:"low",children:"Low"})]})]}),(0,a.jsxs)($,{value:d,onValueChange:o,children:[(0,a.jsx)(ee,{className:"w-full sm:w-48",children:(0,a.jsx)(X,{placeholder:"Sort by"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"riskScore",children:"Risk Score"}),(0,a.jsx)(et,{value:"incidents",children:"Critical Incidents"}),(0,a.jsx)(et,{value:"assets",children:"Total Assets"}),(0,a.jsx)(et,{value:"zoneName",children:"Zone Name"})]})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Multi-Factor Risk Comparison"}),(0,a.jsx)(D,{children:"Radar chart comparing risk factors across zones"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:400,children:(0,a.jsxs)(sc.H,{data:y,children:[(0,a.jsx)(sd.n,{}),(0,a.jsx)(so.I,{dataKey:"zone"}),(0,a.jsx)(sm.S,{angle:18,domain:[0,100]}),(0,a.jsx)(sx.F,{name:"Environmental",dataKey:"environmental",stroke:"#22c55e",fill:"#22c55e",fillOpacity:.2}),(0,a.jsx)(sx.F,{name:"Operational",dataKey:"operational",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.2}),(0,a.jsx)(sx.F,{name:"Structural",dataKey:"structural",stroke:"#f97316",fill:"#f97316",fillOpacity:.2}),(0,a.jsx)(sx.F,{name:"Maintenance",dataKey:"maintenance",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.2}),(0,a.jsx)(sx.F,{name:"Security",dataKey:"security",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.2}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:"#1f2937"},formatter:(e,s)=>["".concat(e.toFixed(1),"%"),"".concat(s," Risk")],labelFormatter:e=>"Zone: ".concat(e)})]})})})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",u.length," of ",sZ.length," zones"]}),(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-3",children:u.map(e=>(0,a.jsx)(k,{className:"hover:shadow-md transition-shadow",children:(0,a.jsxs)(M,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-red-500/20 to-orange-500/20 flex items-center justify-center",children:(0,a.jsx)(F.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.zoneName}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.code}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[sO(e.geographicFactors.climate)," ",e.geographicFactors.climate]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(h,{className:sz(e.overallRiskScore),children:sP(e.overallRiskScore)}),sE(e.riskTrend)]}),(0,a.jsx)("div",{className:"text-lg font-medium",style:{color:sF(e.overallRiskScore)},children:e.overallRiskScore.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Risk Score"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Total Assets"}),(0,a.jsx)("div",{className:"font-medium",children:e.totalAssets.toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"High Risk"}),(0,a.jsx)("div",{className:"font-medium text-red-500",children:e.highRiskAssets.toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Incidents"}),(0,a.jsx)("div",{className:"font-medium text-orange-500",children:e.criticalIncidents})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Mitigation"}),(0,a.jsxs)("div",{className:"font-medium text-green-500",children:[e.riskMitigation.implemented,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Budget"}),(0,a.jsxs)("div",{className:"font-medium text-blue-500",children:["₹",e.riskMitigation.budget,"Cr"]})]})]})]})},e.zoneId))})})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}function sK(e){let{title:s,value:t,change:r,trend:i,icon:n,description:l,delay:c=0,onClick:d}=e,o="up"===i?"text-green-500":"down"===i?"text-red-500":"text-yellow-500",m="up"===i?w.Z:"down"===i?T.Z:A.Z;return(0,a.jsxs)(k,{className:"hover:shadow-lg transition-all duration-300 hover:scale-105 animate-fade-in-up group ".concat(d?"cursor-pointer hover:border-primary/50":""),style:{animationDelay:"".concat(c,"ms")},onClick:d,children:[(0,a.jsxs)(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(C,{className:"text-sm font-medium text-muted-foreground",children:s}),(0,a.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-colors duration-300",children:n})]}),(0,a.jsxs)(M,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-foreground mb-1",children:t}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m,{className:"h-4 w-4 ".concat(o)}),(0,a.jsx)("p",{className:"text-xs font-medium ".concat(o),children:r})]}),l&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:l}),d&&(0,a.jsx)("p",{className:"text-xs text-primary mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Click to view details →"})]})]})}function sV(){let[e,s]=(0,r.useState)(!1),[t,i]=(0,r.useState)(!1),[n,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(sK,{title:"System Health",value:"98.6%",change:"+2.1% from last month",trend:"up",icon:(0,a.jsx)(A.Z,{className:"h-5 w-5 text-green-500"}),description:"All systems operational",delay:0,onClick:()=>s(!0)}),(0,a.jsx)(sK,{title:"Warranty Coverage",value:"84%",change:"3.2M fittings covered",trend:"up",icon:(0,a.jsx)(I.Z,{className:"h-5 w-5 text-blue-500"}),description:"Active warranty protection",delay:100,onClick:()=>i(!0)}),(0,a.jsx)(sK,{title:"Predicted Risk",value:"3.8%",change:"159K fittings flagged",trend:"neutral",icon:(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-yellow-500"}),description:"AI risk assessment",delay:200,onClick:()=>l(!0)}),(0,a.jsx)(sK,{title:"Scan Activity (7d)",value:"12,457",change:"+8.2% from last week",trend:"up",icon:(0,a.jsx)(y.Z,{className:"h-5 w-5 text-primary"}),description:"QR code scans",delay:300,onClick:()=>d(!0)})]}),(0,a.jsx)(eF,{open:e,onOpenChange:s}),(0,a.jsx)(eG,{open:t,onOpenChange:i}),(0,a.jsx)(e4,{open:n,onOpenChange:l}),(0,a.jsx)(e7,{open:c,onOpenChange:d})]})}function sB(){let[e,s]=(0,r.useState)(!1),[t,i]=(0,r.useState)(!1),[n,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-6",children:[(0,a.jsx)(sK,{title:"Active Vendors",value:"157",change:"+12 new this month",trend:"up",icon:(0,a.jsx)(L.Z,{className:"h-5 w-5 text-purple-500"}),description:"Certified suppliers",delay:400,onClick:()=>s(!0)}),(0,a.jsx)(sK,{title:"Railway Zones",value:"12",change:"100% coverage",trend:"neutral",icon:(0,a.jsx)(F.Z,{className:"h-5 w-5 text-cyan-500"}),description:"Pan-India monitoring",delay:500,onClick:()=>i(!0)}),(0,a.jsx)(sK,{title:"Avg Response Time",value:"142ms",change:"-18ms improvement",trend:"up",icon:(0,a.jsx)(P.Z,{className:"h-5 w-5 text-orange-500"}),description:"System performance",delay:600,onClick:()=>l(!0)}),(0,a.jsx)(sK,{title:"Zone-wise Risk Distribution",value:"67.2",change:"Avg risk score",trend:"down",icon:(0,a.jsx)(N.Z,{className:"h-5 w-5 text-red-500"}),description:"Geographic risk analysis",delay:700,onClick:()=>d(!0)})]}),(0,a.jsx)(sl,{open:e,onOpenChange:s}),(0,a.jsx)(sf,{open:t,onOpenChange:i}),(0,a.jsx)(sT,{open:n,onOpenChange:l}),(0,a.jsx)(sq,{open:c,onOpenChange:d})]})}let sU=[{name:"Bharat Heavy Electricals",score:96.8,defects:12,color:"#10b981"},{name:"Tata Steel Limited",score:94.2,defects:18,color:"#3b82f6"},{name:"JSW Steel Limited",score:91.7,defects:25,color:"#f59e0b"},{name:"SAIL Bhilai",score:89.3,defects:32,color:"#ef4444"},{name:"Jindal Steel",score:87.1,defects:41,color:"#8b5cf6"}],sW=[{month:"Jul",defects:2.8,target:3},{month:"Aug",defects:3.2,target:3},{month:"Sep",defects:2.9,target:3},{month:"Oct",defects:3.4,target:3},{month:"Nov",defects:3.1,target:3},{month:"Dec",defects:2.7,target:3}],s_=[{name:"Northern",value:342,risk:4.2,color:"#ef4444"},{name:"Western",value:298,risk:3.8,color:"#f59e0b"},{name:"Eastern",value:267,risk:3.1,color:"#10b981"},{name:"Southern",value:289,risk:2.9,color:"#3b82f6"},{name:"Central",value:234,risk:3.5,color:"#8b5cf6"},{name:"South Central",value:198,risk:2.8,color:"#06b6d4"}];function sH(){return(0,a.jsxs)(k,{className:"animate-slide-in-right",children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{children:"Top Vendors by Quality Score"}),(0,a.jsx)(D,{children:"Performance ranking based on defect rates and delivery metrics"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:300,children:(0,a.jsxs)(eb.v,{data:sU,margin:{top:20,right:30,left:20,bottom:5},children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3",stroke:"oklch(0.2 0.02 240)"}),(0,a.jsx)(eg.K,{dataKey:"name",stroke:"oklch(0.7 0 0)",fontSize:12,angle:-45,textAnchor:"end",height:80}),(0,a.jsx)(ev.B,{stroke:"oklch(0.7 0 0)",fontSize:12}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"oklch(0.12 0.02 240)",border:"1px solid oklch(0.25 0.02 240)",borderRadius:"8px",color:"oklch(0.98 0 0)"}}),(0,a.jsx)(ew.$,{dataKey:"score",fill:"oklch(0.7 0.25 25)",radius:[4,4,0,0]})]})})})]})}function sQ(){return(0,a.jsxs)(k,{className:"animate-slide-in-right",children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{children:"Defect Rate Trend"}),(0,a.jsx)(D,{children:"Monthly defect percentage vs target threshold"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:300,children:(0,a.jsxs)(eN.w,{data:sW,margin:{top:20,right:30,left:20,bottom:5},children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3",stroke:"oklch(0.2 0.02 240)"}),(0,a.jsx)(eg.K,{dataKey:"month",stroke:"oklch(0.7 0 0)",fontSize:12}),(0,a.jsx)(ev.B,{stroke:"oklch(0.7 0 0)",fontSize:12}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"oklch(0.12 0.02 240)",border:"1px solid oklch(0.25 0.02 240)",borderRadius:"8px",color:"oklch(0.98 0 0)"}}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"defects",stroke:"oklch(0.7 0.25 25)",strokeWidth:3,dot:{fill:"oklch(0.7 0.25 25)",strokeWidth:2,r:6}}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"target",stroke:"oklch(0.6 0.25 15)",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})})})]})}function sJ(){return(0,a.jsxs)(k,{className:"animate-fade-in-up",children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{children:"Zone-wise Risk Distribution"}),(0,a.jsx)(D,{children:"Risk levels and fitting counts across railway zones"})]}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"space-y-4",children:s_.map((e,s)=>(0,a.jsx)("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border-l-4 hover:bg-muted/50 transition-colors duration-300",style:{borderLeftColor:e.color},children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("p",{className:"font-medium",children:[e.name," Railway"]}),(0,a.jsxs)(h,{variant:e.risk>4?"destructive":e.risk>3.5?"secondary":"default",children:[e.risk,"% Risk"]})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:[e.value,"K total fittings"]}),(0,a.jsx)(ed,{value:10*e.risk,className:"h-2"})]})},s))}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:s_,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:s_.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"oklch(0.12 0.02 240)",border:"1px solid oklch(0.25 0.02 240)",borderRadius:"8px",color:"oklch(0.98 0 0)"}})]})})})]})})]})}var sG=t(46343),sY=t(84938);function s$(e){let{className:s,orientation:t="horizontal",decorative:r=!0,...i}=e;return(0,a.jsx)(sY.f,{"data-slot":"separator",decorative:r,orientation:t,className:d("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...i})}var sX=t(69932);function s0(e){let{alert:s,isOpen:t,onClose:r}=e;if(!s)return null;let i=(()=>{switch(s.id){case"ALERT-001":return{batchDetails:{batchNumber:"#23-114-254/89",vendor:"Tata Steel Limited",manufactureDate:"2023-11-15",supplyDate:"2023-12-01",itemType:"Rail Bolts",quantity:12,currentAge:"10 months"},riskFactors:["Approaching 12-month warranty expiration","Located in high-traffic section","Weather exposure exceeding normal parameters","Previous inspection showed minor wear"],affectedAssets:["Northern Zone, Section B, Track 1 - 4 bolts","Northern Zone, Section B, Track 2 - 5 bolts","Northern Zone, Section B, Track 3 - 3 bolts"],recommendations:["Schedule immediate visual inspection","Prepare replacement inventory","Plan maintenance window during low-traffic hours","Notify track maintenance team"]};case"ALERT-002":return{warrantyDetails:{totalFittings:847,expiringIn7Days:23,expiringIn14Days:89,expiringIn30Days:735,averageAge:"22 months"},zoneBreakdown:["Northern Zone: 234 fittings","Western Zone: 189 fittings","Eastern Zone: 201 fittings","Southern Zone: 156 fittings","Central Zone: 67 fittings"],costImplications:["Estimated replacement cost: ₹12.3 Lakhs","Labor cost: ₹3.2 Lakhs","Potential delay cost if not addressed: ₹45 Lakhs"]};case"ALERT-003":return{inspectionDetails:{lastInspection:"2024-08-15",dueDate:"2024-09-15",overdueDays:15,inspectionType:"Quality Assurance",inspector:"Railway Inspector Team A"},sectionDetails:{trackSection:"Section B, Track 2",length:"2.5 km",fittingCount:156,lastMaintenance:"2024-07-20",trafficLevel:"High"},complianceIssues:["Overdue mandatory quarterly inspection","Safety certification pending","Regulatory compliance at risk"]};default:return{generalInfo:{status:"Under Investigation",priority:"Active Monitoring",estimatedResolution:"2-4 hours"}}}})(),n=(e=>{switch(e){case"high":return{color:"text-red-500",bgColor:"bg-red-50 dark:bg-red-950/20",borderColor:"border-red-200 dark:border-red-800",description:"Immediate action required - potential safety risk"};case"medium":return{color:"text-yellow-500",bgColor:"bg-yellow-50 dark:bg-yellow-950/20",borderColor:"border-yellow-200 dark:border-yellow-800",description:"Action required within 24 hours"};case"low":return{color:"text-blue-500",bgColor:"bg-blue-50 dark:bg-blue-950/20",borderColor:"border-blue-200 dark:border-blue-800",description:"Monitor and schedule maintenance"}}})(s.severity);return(0,a.jsx)(O,{open:t,onOpenChange:r,children:(0,a.jsxs)(B,{className:"max-w-4xl max-h-[85vh] p-0",children:[(0,a.jsx)(U,{className:"p-6 pb-4",children:(0,a.jsxs)(_,{className:"flex items-center space-x-3",children:[(e=>{switch(e){case"maintenance":return(0,a.jsx)(sG.Z,{className:"h-6 w-6 text-blue-500"});case"warranty":return(0,a.jsx)(eW.Z,{className:"h-6 w-6 text-yellow-500"});case"quality":default:return(0,a.jsx)(Z.Z,{className:"h-6 w-6 text-red-500"});case"inspection":return(0,a.jsx)(P.Z,{className:"h-6 w-6 text-orange-500"})}})(s.type),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-lg",children:s.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsxs)(h,{variant:"high"===s.severity?"destructive":"secondary",className:n.color,children:[s.severity.toUpperCase()," PRIORITY"]}),s.actionRequired&&(0,a.jsx)(h,{variant:"outline",className:"animate-pulse",children:"Action Required"})]})]})]})}),(0,a.jsx)(s$,{}),(0,a.jsx)(en,{className:"flex-1 max-h-[60vh] p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border ".concat(n.borderColor," ").concat(n.bgColor),children:[(0,a.jsxs)("h3",{className:"font-semibold mb-2 flex items-center",children:[(0,a.jsx)(ek.Z,{className:"h-4 w-4 mr-2"}),"Alert Overview"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:s.message}),(0,a.jsx)("p",{className:"text-xs ".concat(n.color," font-medium"),children:n.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center",children:[(0,a.jsx)(A.Z,{className:"h-4 w-4 mr-2"}),"Alert Information"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Alert ID:"}),(0,a.jsx)("span",{className:"font-mono",children:s.id})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Type:"}),(0,a.jsx)("span",{className:"capitalize",children:s.type})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Generated:"}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(P.Z,{className:"h-3 w-3 mr-1"}),s.time]})]}),s.location&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Location:"}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(F.Z,{className:"h-3 w-3 mr-1"}),s.location]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center",children:[(0,a.jsx)(eY.Z,{className:"h-4 w-4 mr-2"}),"Status & Progress"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,a.jsx)(h,{variant:"outline",children:"Active"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Assigned:"}),(0,a.jsx)("span",{children:"Maintenance Team Alpha"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Expected Resolution:"}),(0,a.jsx)("span",{children:"2-4 hours"})]})]})]})]}),"batchDetails"in i&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center",children:[(0,a.jsx)(eW.Z,{className:"h-4 w-4 mr-2"}),"Batch Details"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-muted/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Batch Number:"}),(0,a.jsx)("span",{className:"font-mono",children:i.batchDetails.batchNumber})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Vendor:"}),(0,a.jsx)("span",{children:i.batchDetails.vendor})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Item Type:"}),(0,a.jsx)("span",{children:i.batchDetails.itemType})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Quantity:"}),(0,a.jsxs)("span",{children:[i.batchDetails.quantity," units"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Manufactured:"}),(0,a.jsx)("span",{children:i.batchDetails.manufactureDate})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Supplied:"}),(0,a.jsx)("span",{children:i.batchDetails.supplyDate})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Current Age:"}),(0,a.jsx)("span",{children:i.batchDetails.currentAge})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium mb-2 flex items-center text-red-600",children:[(0,a.jsx)(T.Z,{className:"h-4 w-4 mr-2"}),"Risk Factors"]}),(0,a.jsx)("ul",{className:"space-y-1 text-sm",children:i.riskFactors.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)(Z.Z,{className:"h-3 w-3 mr-2 mt-0.5 text-yellow-500 flex-shrink-0"}),e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,a.jsx)(F.Z,{className:"h-4 w-4 mr-2"}),"Affected Assets"]}),(0,a.jsx)("ul",{className:"space-y-1 text-sm",children:i.affectedAssets.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)(eS.Z,{className:"h-3 w-3 mr-2 mt-0.5 text-blue-500 flex-shrink-0"}),e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium mb-2 flex items-center text-green-600",children:[(0,a.jsx)(eY.Z,{className:"h-4 w-4 mr-2"}),"Recommended Actions"]}),(0,a.jsx)("ul",{className:"space-y-1 text-sm",children:i.recommendations.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)(eS.Z,{className:"h-3 w-3 mr-2 mt-0.5 text-green-500 flex-shrink-0"}),e]},s))})]})]}),"warrantyDetails"in i&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center",children:[(0,a.jsx)(sX.Z,{className:"h-4 w-4 mr-2"}),"Warranty Analysis"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:i.warrantyDetails.expiringIn7Days}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Expiring in 7 days"})]}),(0,a.jsxs)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-950/20 rounded-lg border border-yellow-200",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:i.warrantyDetails.expiringIn14Days}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Expiring in 14 days"})]}),(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.warrantyDetails.expiringIn30Days}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Expiring in 30 days"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Zone Breakdown"}),(0,a.jsx)("ul",{className:"space-y-1 text-sm",children:i.zoneBreakdown.map((e,s)=>(0,a.jsx)("li",{className:"flex items-center justify-between p-2 bg-muted/30 rounded",children:(0,a.jsx)("span",{children:e})},s))})]})]}),"inspectionDetails"in i&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 mr-2"}),"Inspection Status"]}),(0,a.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-red-600",children:i.inspectionDetails.overdueDays}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Days Overdue"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Inspection Timeline"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Last Inspection:"}),(0,a.jsx)("span",{children:i.inspectionDetails.lastInspection})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Due Date:"}),(0,a.jsx)("span",{className:"text-red-600 font-medium",children:i.inspectionDetails.dueDate})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Type:"}),(0,a.jsx)("span",{children:i.inspectionDetails.inspectionType})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Section Information"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Section:"}),(0,a.jsx)("span",{children:i.sectionDetails.trackSection})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Length:"}),(0,a.jsx)("span",{children:i.sectionDetails.length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Traffic Level:"}),(0,a.jsx)(h,{variant:"outline",children:i.sectionDetails.trafficLevel})]})]})]})]})]})]})}),(0,a.jsx)(s$,{}),(0,a.jsx)("div",{className:"p-6 pt-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleString()]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(m,{variant:"outline",onClick:r,children:"Close"}),s.actionRequired&&(0,a.jsx)(m,{children:"Take Action"})]})]})})]})})}function s2(e){let{className:s,...t}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:d("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}var s5=t(61642);function s1(e){let{className:s,...t}=e;return(0,a.jsx)(s5.f,{"data-slot":"label",className:d("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}var s4=t(55130);function s3(e){let{alert:s,isOpen:t,onClose:i,onActionTaken:n}=e,[l,c]=(0,r.useState)({actionType:"",priority:"",assignedTo:"",scheduledDate:"",estimatedDuration:"",description:"",resources:[],expectedOutcome:""}),[d,o]=(0,r.useState)(!1);if(!s)return null;let x=async()=>{o(!0),await new Promise(e=>setTimeout(e,2e3)),n(l),o(!1),i(),c({actionType:"",priority:"",assignedTo:"",scheduledDate:"",estimatedDuration:"",description:"",resources:[],expectedOutcome:""})},u=e=>{c(s=>({...s,resources:s.resources.includes(e)?s.resources.filter(s=>s!==e):[...s.resources,e]}))},j=l.actionType&&l.assignedTo&&l.scheduledDate&&l.description;return(0,a.jsx)(O,{open:t,onOpenChange:i,children:(0,a.jsxs)(B,{className:"max-w-3xl max-h-[90vh] p-0",children:[(0,a.jsx)(U,{className:"p-6 pb-4",children:(0,a.jsxs)(_,{className:"flex items-center space-x-3",children:[(0,a.jsx)(eY.Z,{className:"h-6 w-6 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-lg",children:"Take Action"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["Create action plan for: ",s.title]})]})]})}),(0,a.jsx)(s$,{}),(0,a.jsx)(en,{className:"flex-1 max-h-[60vh] p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,a.jsxs)("h3",{className:"font-semibold mb-2 flex items-center",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Alert Summary"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Alert ID:"}),(0,a.jsx)("span",{className:"font-mono",children:s.id})]}),(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Severity:"}),(0,a.jsx)(h,{variant:"high"===s.severity?"destructive":"secondary",children:s.severity.toUpperCase()})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Type:"}),(0,a.jsx)("span",{className:"capitalize",children:s.type})]}),s.location&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Location:"}),(0,a.jsx)("span",{children:s.location})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(s1,{className:"text-base font-semibold flex items-center",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Action Type *"]}),(0,a.jsxs)($,{value:l.actionType,onValueChange:e=>c(s=>({...s,actionType:e})),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Select the type of action to take"})}),(0,a.jsx)(es,{children:(()=>{switch(s.type){case"quality":return[{value:"immediate-inspection",label:"Immediate Inspection"},{value:"batch-quarantine",label:"Batch Quarantine"},{value:"replacement-order",label:"Replacement Order"},{value:"vendor-notification",label:"Vendor Notification"}];case"warranty":return[{value:"schedule-replacement",label:"Schedule Replacement"},{value:"expedite-procurement",label:"Expedite Procurement"},{value:"extend-warranty",label:"Extend Warranty"},{value:"preventive-maintenance",label:"Preventive Maintenance"}];case"inspection":return[{value:"schedule-inspection",label:"Schedule Inspection"},{value:"emergency-inspection",label:"Emergency Inspection"},{value:"assign-inspector",label:"Assign Inspector"},{value:"compliance-review",label:"Compliance Review"}];case"maintenance":return[{value:"schedule-maintenance",label:"Schedule Maintenance"},{value:"emergency-repair",label:"Emergency Repair"},{value:"resource-allocation",label:"Resource Allocation"},{value:"contractor-assignment",label:"Contractor Assignment"}];default:return[{value:"investigate",label:"Investigate Issue"},{value:"monitor",label:"Monitor Situation"},{value:"escalate",label:"Escalate to Management"}]}})().map(e=>(0,a.jsx)(et,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(s1,{className:"text-base font-semibold",children:"Priority Level"}),(0,a.jsxs)($,{value:l.priority,onValueChange:e=>c(s=>({...s,priority:e})),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Set priority"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"critical",children:"Critical (Immediate)"}),(0,a.jsx)(et,{value:"high",children:"High (Within 4 hours)"}),(0,a.jsx)(et,{value:"medium",children:"Medium (Within 24 hours)"}),(0,a.jsx)(et,{value:"low",children:"Low (Within 72 hours)"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(s1,{className:"text-base font-semibold flex items-center",children:[(0,a.jsx)(L.Z,{className:"h-4 w-4 mr-2"}),"Assign To *"]}),(0,a.jsxs)($,{value:l.assignedTo,onValueChange:e=>c(s=>({...s,assignedTo:e})),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Select team or individual"})}),(0,a.jsx)(es,{children:[{value:"maintenance-alpha",label:"Maintenance Team Alpha"},{value:"maintenance-beta",label:"Maintenance Team Beta"},{value:"inspection-team",label:"Quality Inspection Team"},{value:"engineering-team",label:"Engineering Team"},{value:"vendor-management",label:"Vendor Management Team"},{value:"external-contractor",label:"External Contractor"}].map(e=>(0,a.jsx)(et,{value:e.value,children:e.label},e.value))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(s1,{className:"text-base font-semibold flex items-center",children:[(0,a.jsx)(sX.Z,{className:"h-4 w-4 mr-2"}),"Scheduled Date & Time *"]}),(0,a.jsx)(eP,{type:"datetime-local",value:l.scheduledDate,onChange:e=>c(s=>({...s,scheduledDate:e.target.value})),min:new Date().toISOString().slice(0,16)})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(s1,{className:"text-base font-semibold flex items-center",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 mr-2"}),"Estimated Duration"]}),(0,a.jsxs)($,{value:l.estimatedDuration,onValueChange:e=>c(s=>({...s,estimatedDuration:e})),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Select duration"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"30min",children:"30 minutes"}),(0,a.jsx)(et,{value:"1hour",children:"1 hour"}),(0,a.jsx)(et,{value:"2hours",children:"2 hours"}),(0,a.jsx)(et,{value:"4hours",children:"4 hours"}),(0,a.jsx)(et,{value:"8hours",children:"8 hours (Full day)"}),(0,a.jsx)(et,{value:"2days",children:"2 days"}),(0,a.jsx)(et,{value:"1week",children:"1 week"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(s1,{className:"text-base font-semibold flex items-center",children:[(0,a.jsx)(eW.Z,{className:"h-4 w-4 mr-2"}),"Action Description *"]}),(0,a.jsx)(s2,{placeholder:"Describe the specific actions to be taken, steps involved, and any special instructions...",value:l.description,onChange:e=>c(s=>({...s,description:e.target.value})),rows:4})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(s1,{className:"text-base font-semibold flex items-center",children:[(0,a.jsx)(sG.Z,{className:"h-4 w-4 mr-2"}),"Resources Required"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["Replacement parts inventory","Specialized tools and equipment","Safety equipment and protocols","Transportation vehicles","Testing and measurement devices","Documentation and permits","Emergency response kit","Communication equipment"].map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:e,checked:l.resources.includes(e),onChange:()=>u(e),className:"rounded border-gray-300"}),(0,a.jsx)("label",{htmlFor:e,className:"text-sm cursor-pointer",children:e})]},e))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(s1,{className:"text-base font-semibold flex items-center",children:[(0,a.jsx)(eS.Z,{className:"h-4 w-4 mr-2"}),"Expected Outcome"]}),(0,a.jsx)(s2,{placeholder:"Describe the expected result after completing this action...",value:l.expectedOutcome,onChange:e=>c(s=>({...s,expectedOutcome:e.target.value})),rows:3})]})]})}),(0,a.jsx)(s$,{}),(0,a.jsx)("div",{className:"p-6 pt-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"* Required fields must be completed"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(m,{variant:"outline",onClick:i,disabled:d,children:"Cancel"}),(0,a.jsx)(m,{onClick:x,disabled:!j||d,className:"min-w-[120px]",children:d?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Creating..."})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(s4.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Create Action Plan"})]})})]})]})})]})})}let s8=[{id:"ALERT-001",type:"quality",title:"High-Risk Batch Detected",message:"Batch #23-114-254/89 from Tata Steel has 12 fittings entering high-risk period",severity:"high",time:"2 hours ago",location:"Northern Zone, Section B",actionRequired:!0},{id:"ALERT-002",type:"warranty",title:"Warranty Expiration Alert",message:"847 fittings expire within 30 days across multiple zones",severity:"medium",time:"4 hours ago",actionRequired:!0},{id:"ALERT-003",type:"inspection",title:"Inspection Overdue",message:"Quality inspection overdue for Section B, Track 2 - Northern Zone",severity:"high",time:"6 hours ago",location:"Northern Zone",actionRequired:!0},{id:"ALERT-004",type:"maintenance",title:"Predictive Maintenance",message:"AI model suggests maintenance for 23 fittings in Western Zone",severity:"medium",time:"8 hours ago",location:"Western Zone",actionRequired:!1},{id:"ALERT-005",type:"quality",title:"Quality Score Drop",message:"JSW Steel Limited quality score dropped below 90% threshold",severity:"low",time:"12 hours ago",actionRequired:!1}];function s6(){let[e,s]=(0,r.useState)(null),[t,i]=(0,r.useState)(!1),[n,l]=(0,r.useState)(!1),c=e=>{s(e),i(!0)},d=e=>{s(e),l(!0)};return(0,a.jsxs)(k,{className:"animate-fade-in-up",children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-yellow-500 animate-pulse"}),(0,a.jsx)("span",{children:"Priority Alerts"}),(0,a.jsxs)(h,{variant:"secondary",className:"ml-auto",children:[s8.filter(e=>e.actionRequired).length," Action Required"]})]}),(0,a.jsx)(D,{children:"Critical issues requiring immediate attention"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:s8.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-4 p-4 rounded-lg border-l-4 transition-all duration-300 hover:shadow-md ".concat(function(e){switch(e){case"high":return"border-red-500 bg-red-500/10";case"medium":return"border-yellow-500 bg-yellow-500/10";case"low":return"border-blue-500 bg-blue-500/10";default:return"border-gray-500 bg-gray-500/10"}}(e.severity)),style:{animationDelay:"".concat(100*s,"ms")},children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:function(e){switch(e){case"maintenance":return(0,a.jsx)(sG.Z,{className:"h-4 w-4"});case"warranty":return(0,a.jsx)(eW.Z,{className:"h-4 w-4"});case"quality":default:return(0,a.jsx)(Z.Z,{className:"h-4 w-4"});case"inspection":return(0,a.jsx)(P.Z,{className:"h-4 w-4"})}}(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium text-foreground",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h,{variant:"high"===e.severity?"destructive":"medium"===e.severity?"secondary":"default",className:"text-xs",children:e.severity.toUpperCase()}),e.actionRequired&&(0,a.jsx)(h,{variant:"outline",className:"text-xs animate-pulse",children:"Action Required"})]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(P.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e.time})]}),e.location&&(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(F.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e.location})]}),(0,a.jsxs)("span",{children:["ID: ",e.id]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(m,{size:"sm",variant:"outline",className:"text-xs bg-transparent",onClick:()=>c(e),children:"View Details"}),e.actionRequired&&(0,a.jsx)(m,{size:"sm",className:"text-xs",onClick:()=>d(e),children:"Take Action"})]})]})]})]},e.id))})}),(0,a.jsx)(s0,{alert:e,isOpen:t,onClose:()=>{i(!1),s(null)}}),(0,a.jsx)(s3,{alert:e,isOpen:n,onClose:()=>{l(!1),s(null)},onActionTaken:e=>{console.log("Action plan created:",e)}})]})}let s9=["Rail Joint","Fish Plate","Rail Bolt","Rail Spike","Tie Plate","Rail Pad","Rail Anchor","Switch Point","Crossing Frog","Guard Rail"],s7=["Bharat Heavy Electricals Ltd","Tata Steel Limited","JSW Steel Limited","SAIL Bhilai Steel Plant","Jindal Steel & Power","Rashtriya Ispat Nigam Limited","Steel Authority of India","Essar Steel Limited"];function te(e){let{onDataChange:s,onGenerate:t,isGenerating:i}=e,[n,l]=(0,r.useState)({vendorName:"",lotNumber:"",itemType:"",manufactureDate:"",supplyDate:"",warrantyPeriod:"24",specifications:"",batchId:""}),c=(e,t)=>{let a={...n,[e]:t};l(a),s(a)},d=n.vendorName&&n.lotNumber&&n.itemType&&n.manufactureDate&&n.supplyDate&&n.batchId;return(0,a.jsxs)(k,{className:"animate-fade-in-up",children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Create New Fitting Certificate"})]}),(0,a.jsx)(D,{children:"Generate QR codes and digital certificates for railway track fittings"})]}),(0,a.jsxs)(M,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Vendor Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"vendor",children:"Vendor Name"}),(0,a.jsxs)($,{value:n.vendorName,onValueChange:e=>c("vendorName",e),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Select vendor"})}),(0,a.jsx)(es,{children:s7.map(e=>(0,a.jsx)(et,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"lotNumber",children:"Lot Number"}),(0,a.jsx)(eP,{id:"lotNumber",placeholder:"e.g., LOT-2024-001",value:n.lotNumber,onChange:e=>c("lotNumber",e.target.value)})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Product Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"itemType",children:"Item Type"}),(0,a.jsxs)($,{value:n.itemType,onValueChange:e=>c("itemType",e),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Select item type"})}),(0,a.jsx)(es,{children:s9.map(e=>(0,a.jsx)(et,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"batchId",children:"Batch ID"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(eP,{id:"batchId",placeholder:"Auto-generated",value:n.batchId,onChange:e=>c("batchId",e.target.value)}),(0,a.jsx)(m,{type:"button",variant:"outline",onClick:()=>{let e=new Date().getFullYear().toString().slice(-2),s=(new Date().getMonth()+1).toString().padStart(2,"0"),t=Math.floor(1e4*Math.random()).toString().padStart(4,"0");c("batchId","".concat(e,"-").concat(s,"-").concat(t))},children:"Generate"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Date Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"manufactureDate",children:"Manufacture Date"}),(0,a.jsx)(eP,{id:"manufactureDate",type:"date",value:n.manufactureDate,onChange:e=>c("manufactureDate",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"supplyDate",children:"Supply Date"}),(0,a.jsx)(eP,{id:"supplyDate",type:"date",value:n.supplyDate,onChange:e=>c("supplyDate",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"warrantyPeriod",children:"Warranty Period (Months)"}),(0,a.jsxs)($,{value:n.warrantyPeriod,onValueChange:e=>c("warrantyPeriod",e),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"12",children:"12 Months"}),(0,a.jsx)(et,{value:"24",children:"24 Months"}),(0,a.jsx)(et,{value:"36",children:"36 Months"}),(0,a.jsx)(et,{value:"48",children:"48 Months"}),(0,a.jsx)(et,{value:"60",children:"60 Months"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"specifications",children:"Technical Specifications"}),(0,a.jsx)(s2,{id:"specifications",placeholder:"Enter technical specifications, material grade, dimensions, etc.",value:n.specifications,onChange:e=>c("specifications",e.target.value),rows:3})]}),(0,a.jsx)("div",{className:"flex justify-center pt-4",children:(0,a.jsx)(m,{onClick:t,disabled:!d||i,size:"lg",className:"w-full md:w-auto animate-pulse-glow",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Generate QR Certificate"]})})})]})]})}var ts=t(17734),tt=t(3360),ta=t(95402);async function tr(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var t,a;let r={id:e.batchId,vendor:e.vendorName,lot:e.lotNumber,type:e.itemType,mfgDate:e.manufactureDate,supplyDate:e.supplyDate,warranty:e.warrantyPeriod,specs:e.specifications,timestamp:new Date().toISOString(),version:"1.0"},i=JSON.stringify(r),n={width:s.width||256,margin:s.margin||2,color:{dark:(null===(t=s.color)||void 0===t?void 0:t.dark)||"#000000",light:(null===(a=s.color)||void 0===a?void 0:a.light)||"#FFFFFF"},errorCorrectionLevel:s.errorCorrectionLevel||"M"};return await ta.toDataURL(i,n)}catch(e){throw console.error("Error generating QR code:",e),Error("Failed to generate QR code")}}async function ti(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var t,a;let r={id:e.batchId,vendor:e.vendorName,lot:e.lotNumber,type:e.itemType,mfgDate:e.manufactureDate,supplyDate:e.supplyDate,warranty:e.warrantyPeriod,specs:e.specifications,timestamp:new Date().toISOString(),version:"1.0"},i=JSON.stringify(r),n={type:"svg",width:s.width||256,margin:s.margin||2,color:{dark:(null===(t=s.color)||void 0===t?void 0:t.dark)||"#000000",light:(null===(a=s.color)||void 0===a?void 0:a.light)||"#FFFFFF"},errorCorrectionLevel:s.errorCorrectionLevel||"M"};return await ta.toString(i,n)}catch(e){throw console.error("Error generating QR code SVG:",e),Error("Failed to generate QR code SVG")}}async function tn(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{let a=await tr(e,t),r=s||"QR_".concat(e.batchId||"certificate","_").concat(new Date().toISOString().split("T")[0],".png"),i=document.createElement("a");i.href=a,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(e){throw console.error("Error downloading QR code:",e),Error("Failed to download QR code")}}async function tl(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"qr-code.svg",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{let a=await ti(e,t),r=new Blob([a],{type:"image/svg+xml"}),i=URL.createObjectURL(r),n=document.createElement("a");n.href=i,n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)}catch(e){throw console.error("Error downloading QR code SVG:",e),Error("Failed to download QR code SVG")}}function tc(e){return["vendorName","lotNumber","itemType","manufactureDate","supplyDate","batchId"].every(s=>e[s]&&""!==e[s].trim())}function td(e){let{data:s,isGenerated:t,onDownload:i,onEmail:n,onPrint:l}=e,[c,d]=(0,r.useState)(null),[o,x]=(0,r.useState)(!1),[u,j]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{if(!tc(s)||!s.batchId){d(null),j(null);return}x(!0),j(null);try{let e=await tr(s,{width:200,margin:2,errorCorrectionLevel:"M"});d(e)}catch(e){console.error("Failed to generate QR code:",e),j("Failed to generate QR code"),d(null)}finally{x(!1)}})()},[s]),(0,a.jsxs)(k,{className:"animate-slide-in-right",children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(sI.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Live Certificate Preview"}),t&&(0,a.jsxs)(h,{variant:"default",className:"ml-auto animate-pulse",children:[(0,a.jsx)(eS.Z,{className:"h-3 w-3 mr-1"}),"Generated"]})]}),(0,a.jsx)(D,{children:"Real-time preview of the digital certificate and QR code"})]}),(0,a.jsxs)(M,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"certificate-print bg-gradient-to-br from-card to-muted/50 p-6 rounded-lg border-2 border-primary/20",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-primary mb-2",children:"RailSuraksha"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Digital Railway Fitting Certificate"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-3",children:"Certificate Details"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Batch ID:"}),(0,a.jsx)("span",{className:"font-mono",children:s.batchId||"Not generated"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Vendor:"}),(0,a.jsx)("span",{children:s.vendorName||"Not selected"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Lot Number:"}),(0,a.jsx)("span",{children:s.lotNumber||"Not entered"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Item Type:"}),(0,a.jsx)("span",{children:s.itemType||"Not selected"})]})]})]}),(0,a.jsx)(s$,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-3",children:"Date Information"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Manufactured:"}),(0,a.jsx)("span",{children:s.manufactureDate?new Date(s.manufactureDate).toLocaleDateString():"Not set"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Supplied:"}),(0,a.jsx)("span",{children:s.supplyDate?new Date(s.supplyDate).toLocaleDateString():"Not set"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Warranty:"}),(0,a.jsxs)("span",{children:[s.warrantyPeriod," months"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Expires:"}),(0,a.jsx)("span",{children:(()=>{if(!s.supplyDate||!s.warrantyPeriod)return"N/A";let e=new Date(s.supplyDate);return new Date(e.setMonth(e.getMonth()+Number.parseInt(s.warrantyPeriod))).toLocaleDateString()})()})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:o?(0,a.jsx)("div",{className:"w-32 h-32 bg-muted/50 rounded-lg flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Generating..."})]})}):u?(0,a.jsx)("div",{className:"w-32 h-32 bg-red-50 rounded-lg flex items-center justify-center border-2 border-red-200",children:(0,a.jsx)("p",{className:"text-xs text-red-600 text-center px-2",children:u})}):c?(0,a.jsx)("div",{className:"w-32 h-32 rounded-lg overflow-hidden",children:(0,a.jsx)("img",{src:c,alt:"QR Code for fitting certificate",className:"w-full h-full object-contain"})}):(0,a.jsx)("div",{className:"w-32 h-32 bg-muted/50 rounded-lg flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:tc(s)?"QR Code will appear here":"Complete form to generate QR"})})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:c?"Scan to verify authenticity":"Fill form to generate QR code"})]})]}),s.specifications&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Technical Specifications"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground bg-muted/30 p-3 rounded",children:s.specifications})]})]}),t&&(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 no-print",children:[(0,a.jsxs)(m,{onClick:i,className:"flex-1",children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),(0,a.jsxs)(m,{onClick:n,variant:"outline",className:"flex-1 bg-transparent",children:[(0,a.jsx)(ts.Z,{className:"h-4 w-4 mr-2"}),"Email Certificate"]}),(0,a.jsxs)(m,{onClick:l,variant:"outline",className:"flex-1 bg-transparent",children:[(0,a.jsx)(tt.Z,{className:"h-4 w-4 mr-2"}),"Print Template"]})]})]})]})}var to=t(46251),tm=t(64314),tx=t(56034),th=t(20897),tu=t(57114),tj=t(87244),tp=t(82405),tg=t(91583),tv=t(64530),tf=t(79710),tN=t(37550);function ty(){let e=(0,tp._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return ty=function(){return e},e}function tb(){let e=(0,tp._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return tb=function(){return e},e}function tw(e){let{className:s,classNames:t,showOutsideDays:r=!0,captionLayout:i="label",buttonVariant:n="ghost",formatters:l,components:c,...m}=e,x=(0,tf.U)();return(0,a.jsx)(tN._,{showOutsideDays:r,className:d("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(ty()),String.raw(tb()),s),captionLayout:i,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...l},classNames:{root:d("w-fit",x.root),months:d("flex gap-4 flex-col md:flex-row relative",x.months),month:d("flex flex-col w-full gap-4",x.month),nav:d("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",x.nav),button_previous:d(o({variant:n}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",x.button_previous),button_next:d(o({variant:n}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",x.button_next),month_caption:d("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",x.month_caption),dropdowns:d("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",x.dropdowns),dropdown_root:d("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",x.dropdown_root),dropdown:d("absolute bg-popover inset-0 opacity-0",x.dropdown),caption_label:d("select-none font-medium","label"===i?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",x.caption_label),table:"w-full border-collapse",weekdays:d("flex",x.weekdays),weekday:d("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",x.weekday),week:d("flex w-full mt-2",x.week),week_number_header:d("select-none w-(--cell-size)",x.week_number_header),week_number:d("text-[0.8rem] select-none text-muted-foreground",x.week_number),day:d("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",x.day),range_start:d("rounded-l-md bg-accent",x.range_start),range_middle:d("rounded-none",x.range_middle),range_end:d("rounded-r-md bg-accent",x.range_end),today:d("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",x.today),outside:d("text-muted-foreground aria-selected:text-muted-foreground",x.outside),disabled:d("text-muted-foreground opacity-50",x.disabled),hidden:d("invisible",x.hidden),...t},components:{Root:e=>{let{className:s,rootRef:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"calendar",ref:t,className:d(s),...r})},Chevron:e=>{let{className:s,orientation:t,...r}=e;return"left"===t?(0,a.jsx)(tg.Z,{className:d("size-4",s),...r}):"right"===t?(0,a.jsx)(tv.Z,{className:d("size-4",s),...r}):(0,a.jsx)(J.Z,{className:d("size-4",s),...r})},DayButton:tS,WeekNumber:e=>{let{children:s,...t}=e;return(0,a.jsx)("td",{...t,children:(0,a.jsx)("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:s})})},...c},...m})}function tS(e){let{className:s,day:t,modifiers:i,...n}=e,l=(0,tf.U)(),c=r.useRef(null);return r.useEffect(()=>{var e;i.focused&&(null===(e=c.current)||void 0===e||e.focus())},[i.focused]),(0,a.jsx)(m,{ref:c,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":i.selected&&!i.range_start&&!i.range_end&&!i.range_middle,"data-range-start":i.range_start,"data-range-end":i.range_end,"data-range-middle":i.range_middle,className:d("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",l.day,s),...n})}var tk=t(27382);function tR(e){let{...s}=e;return(0,a.jsx)(tk.fC,{"data-slot":"popover",...s})}function tC(e){let{...s}=e;return(0,a.jsx)(tk.xz,{"data-slot":"popover-trigger",...s})}function tD(e){let{className:s,align:t="center",sideOffset:r=4,...i}=e;return(0,a.jsx)(tk.h_,{children:(0,a.jsx)(tk.VY,{"data-slot":"popover-content",align:t,sideOffset:r,className:d("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",s),...i})})}var tM=t(23674);function tT(e){let{open:s,onOpenChange:t,onAddItem:i}=e,[n,l]=(0,r.useState)({batchId:"",vendor:"",itemType:"",zone:"",location:"",manufactureDate:void 0,supplyDate:void 0,warrantyStatus:"active",riskLevel:"low",status:"active",description:"",quantity:1,unitPrice:0}),[c,o]=(0,r.useState)({}),x=()=>{let e={};return n.batchId.trim()||(e.batchId="Batch ID is required"),n.vendor.trim()||(e.vendor="Vendor is required"),n.itemType.trim()||(e.itemType="Item type is required"),n.zone.trim()||(e.zone="Zone is required"),n.location.trim()||(e.location="Location is required"),n.manufactureDate||(e.manufactureDate="Manufacture date is required"),n.supplyDate||(e.supplyDate="Supply date is required"),n.quantity<1&&(e.quantity="Quantity must be at least 1"),n.unitPrice<0&&(e.unitPrice="Unit price cannot be negative"),n.batchId&&!/^\d{2}-\d{2}-\d{4}$/.test(n.batchId)&&(e.batchId="Batch ID must be in format YY-MM-NNNN (e.g., 24-01-1234)"),n.manufactureDate&&n.supplyDate&&n.supplyDate<n.manufactureDate&&(e.supplyDate="Supply date cannot be before manufacture date"),o(e),0===Object.keys(e).length},h=()=>{l({batchId:"",vendor:"",itemType:"",zone:"",location:"",manufactureDate:void 0,supplyDate:void 0,warrantyStatus:"active",riskLevel:"low",status:"active",description:"",quantity:1,unitPrice:0}),o({})};return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Add New Inventory Item"})]}),(0,a.jsx)(H,{children:"Add a new railway track fitting to the inventory system"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x()&&(i({...n,manufactureDate:n.manufactureDate.toISOString().split("T")[0],supplyDate:n.supplyDate.toISOString().split("T")[0]}),h(),t(!1))},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"batchId",children:"Batch ID *"}),(0,a.jsx)(eP,{id:"batchId",placeholder:"e.g., 24-01-1234",value:n.batchId,onChange:e=>l({...n,batchId:e.target.value}),className:c.batchId?"border-red-500":""}),c.batchId&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:c.batchId})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"vendor",children:"Vendor *"}),(0,a.jsxs)($,{value:n.vendor,onValueChange:e=>l({...n,vendor:e}),children:[(0,a.jsx)(ee,{className:c.vendor?"border-red-500":"",children:(0,a.jsx)(X,{placeholder:"Select vendor"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"Tata Steel Limited",children:"Tata Steel Limited"}),(0,a.jsx)(et,{value:"JSW Steel Limited",children:"JSW Steel Limited"}),(0,a.jsx)(et,{value:"Bharat Heavy Electricals",children:"Bharat Heavy Electricals"}),(0,a.jsx)(et,{value:"SAIL Bhilai",children:"SAIL Bhilai"}),(0,a.jsx)(et,{value:"Jindal Steel",children:"Jindal Steel"}),(0,a.jsx)(et,{value:"Other",children:"Other"})]})]}),c.vendor&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:c.vendor})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"itemType",children:"Item Type *"}),(0,a.jsxs)($,{value:n.itemType,onValueChange:e=>l({...n,itemType:e}),children:[(0,a.jsx)(ee,{className:c.itemType?"border-red-500":"",children:(0,a.jsx)(X,{placeholder:"Select item type"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"Rail Joint",children:"Rail Joint"}),(0,a.jsx)(et,{value:"Fish Plate",children:"Fish Plate"}),(0,a.jsx)(et,{value:"Rail Bolt",children:"Rail Bolt"}),(0,a.jsx)(et,{value:"Tie Plate",children:"Tie Plate"}),(0,a.jsx)(et,{value:"Rail Spike",children:"Rail Spike"}),(0,a.jsx)(et,{value:"Rail Pad",children:"Rail Pad"}),(0,a.jsx)(et,{value:"Sleeper",children:"Sleeper"}),(0,a.jsx)(et,{value:"Other",children:"Other"})]})]}),c.itemType&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:c.itemType})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"zone",children:"Railway Zone *"}),(0,a.jsxs)($,{value:n.zone,onValueChange:e=>l({...n,zone:e}),children:[(0,a.jsx)(ee,{className:c.zone?"border-red-500":"",children:(0,a.jsx)(X,{placeholder:"Select zone"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"Northern Railway",children:"Northern Railway"}),(0,a.jsx)(et,{value:"Western Railway",children:"Western Railway"}),(0,a.jsx)(et,{value:"Eastern Railway",children:"Eastern Railway"}),(0,a.jsx)(et,{value:"Southern Railway",children:"Southern Railway"}),(0,a.jsx)(et,{value:"Central Railway",children:"Central Railway"}),(0,a.jsx)(et,{value:"North Eastern Railway",children:"North Eastern Railway"}),(0,a.jsx)(et,{value:"Northeast Frontier Railway",children:"Northeast Frontier Railway"}),(0,a.jsx)(et,{value:"South Central Railway",children:"South Central Railway"}),(0,a.jsx)(et,{value:"South Eastern Railway",children:"South Eastern Railway"}),(0,a.jsx)(et,{value:"South East Central Railway",children:"South East Central Railway"}),(0,a.jsx)(et,{value:"South Western Railway",children:"South Western Railway"}),(0,a.jsx)(et,{value:"West Central Railway",children:"West Central Railway"})]})]}),c.zone&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:c.zone})]}),(0,a.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,a.jsx)(s1,{htmlFor:"location",children:"Location *"}),(0,a.jsx)(eP,{id:"location",placeholder:"e.g., Section A, Track 1",value:n.location,onChange:e=>l({...n,location:e.target.value}),className:c.location?"border-red-500":""}),c.location&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:c.location})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{children:"Manufacture Date *"}),(0,a.jsxs)(tR,{children:[(0,a.jsx)(tC,{asChild:!0,children:(0,a.jsxs)(m,{variant:"outline",className:d("w-full justify-start text-left font-normal",!n.manufactureDate&&"text-muted-foreground",c.manufactureDate&&"border-red-500"),children:[(0,a.jsx)(sX.Z,{className:"mr-2 h-4 w-4"}),n.manufactureDate?(0,tM.WU)(n.manufactureDate,"PPP"):"Pick a date"]})}),(0,a.jsx)(tD,{className:"w-auto p-0",children:(0,a.jsx)(tw,{mode:"single",selected:n.manufactureDate,onSelect:e=>l({...n,manufactureDate:e}),initialFocus:!0})})]}),c.manufactureDate&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:c.manufactureDate})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{children:"Supply Date *"}),(0,a.jsxs)(tR,{children:[(0,a.jsx)(tC,{asChild:!0,children:(0,a.jsxs)(m,{variant:"outline",className:d("w-full justify-start text-left font-normal",!n.supplyDate&&"text-muted-foreground",c.supplyDate&&"border-red-500"),children:[(0,a.jsx)(sX.Z,{className:"mr-2 h-4 w-4"}),n.supplyDate?(0,tM.WU)(n.supplyDate,"PPP"):"Pick a date"]})}),(0,a.jsx)(tD,{className:"w-auto p-0",children:(0,a.jsx)(tw,{mode:"single",selected:n.supplyDate,onSelect:e=>l({...n,supplyDate:e}),initialFocus:!0})})]}),c.supplyDate&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:c.supplyDate})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"quantity",children:"Quantity"}),(0,a.jsx)(eP,{id:"quantity",type:"number",min:"1",placeholder:"1",value:n.quantity,onChange:e=>l({...n,quantity:parseInt(e.target.value)||0}),className:c.quantity?"border-red-500":""}),c.quantity&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:c.quantity})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"unitPrice",children:"Unit Price (₹)"}),(0,a.jsx)(eP,{id:"unitPrice",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:n.unitPrice,onChange:e=>l({...n,unitPrice:parseFloat(e.target.value)||0}),className:c.unitPrice?"border-red-500":""}),c.unitPrice&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:c.unitPrice})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{children:"Warranty Status"}),(0,a.jsxs)($,{value:n.warrantyStatus,onValueChange:e=>l({...n,warrantyStatus:e}),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"active",children:"Active"}),(0,a.jsx)(et,{value:"expiring",children:"Expiring"}),(0,a.jsx)(et,{value:"expired",children:"Expired"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{children:"Risk Level"}),(0,a.jsxs)($,{value:n.riskLevel,onValueChange:e=>l({...n,riskLevel:e}),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"low",children:"Low"}),(0,a.jsx)(et,{value:"medium",children:"Medium"}),(0,a.jsx)(et,{value:"high",children:"High"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{children:"Status"}),(0,a.jsxs)($,{value:n.status,onValueChange:e=>l({...n,status:e}),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"active",children:"Active"}),(0,a.jsx)(et,{value:"maintenance",children:"Maintenance"}),(0,a.jsx)(et,{value:"retired",children:"Retired"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,a.jsx)(s1,{htmlFor:"description",children:"Description (Optional)"}),(0,a.jsx)(s2,{id:"description",placeholder:"Additional notes or specifications...",value:n.description,onChange:e=>l({...n,description:e.target.value}),rows:3})]})]}),(0,a.jsxs)(W,{className:"flex gap-2",children:[(0,a.jsx)(m,{type:"button",variant:"outline",onClick:()=>{h(),t(!1)},children:"Cancel"}),(0,a.jsxs)(m,{type:"submit",className:"bg-primary hover:bg-primary/90",children:[(0,a.jsx)(tm.Z,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]})]})})}var tA=t(87871);function tI(e){let{open:s,onOpenChange:t,onUpdateItem:i,item:n}=e,[l,c]=(0,r.useState)({batchId:"",vendor:"",itemType:"",zone:"",location:"",manufactureDate:void 0,supplyDate:void 0,warrantyStatus:"active",riskLevel:"low",status:"active",description:"",quantity:1,unitPrice:0}),[o,x]=(0,r.useState)({});(0,r.useEffect)(()=>{n&&c({batchId:n.batchId,vendor:n.vendor,itemType:n.itemType,zone:n.zone,location:n.location,manufactureDate:new Date(n.manufactureDate),supplyDate:new Date(n.supplyDate),warrantyStatus:n.warrantyStatus,riskLevel:n.riskLevel,status:n.status,description:n.description||"",quantity:n.quantity||1,unitPrice:n.unitPrice||0})},[n]);let h=()=>{let e={};return l.batchId.trim()||(e.batchId="Batch ID is required"),l.vendor.trim()||(e.vendor="Vendor is required"),l.itemType.trim()||(e.itemType="Item type is required"),l.zone.trim()||(e.zone="Zone is required"),l.location.trim()||(e.location="Location is required"),l.manufactureDate||(e.manufactureDate="Manufacture date is required"),l.supplyDate||(e.supplyDate="Supply date is required"),l.quantity<1&&(e.quantity="Quantity must be at least 1"),l.unitPrice<0&&(e.unitPrice="Unit price cannot be negative"),l.batchId&&!/^\d{2}-\d{2}-\d{4}$/.test(l.batchId)&&(e.batchId="Batch ID must be in format YY-MM-NNNN (e.g., 24-01-1234)"),l.manufactureDate&&l.supplyDate&&l.supplyDate<l.manufactureDate&&(e.supplyDate="Supply date cannot be before manufacture date"),x(e),0===Object.keys(e).length};return n?(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Edit Inventory Item"})]}),(0,a.jsxs)(H,{children:["Update details for inventory item ",n.batchId]})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h()&&n&&(i({...n,...l,manufactureDate:l.manufactureDate.toISOString().split("T")[0],supplyDate:l.supplyDate.toISOString().split("T")[0]}),t(!1))},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"batchId",children:"Batch ID *"}),(0,a.jsx)(eP,{id:"batchId",placeholder:"e.g., 24-01-1234",value:l.batchId,onChange:e=>c({...l,batchId:e.target.value}),className:o.batchId?"border-red-500":""}),o.batchId&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:o.batchId})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"vendor",children:"Vendor *"}),(0,a.jsxs)($,{value:l.vendor,onValueChange:e=>c({...l,vendor:e}),children:[(0,a.jsx)(ee,{className:o.vendor?"border-red-500":"",children:(0,a.jsx)(X,{placeholder:"Select vendor"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"Tata Steel Limited",children:"Tata Steel Limited"}),(0,a.jsx)(et,{value:"JSW Steel Limited",children:"JSW Steel Limited"}),(0,a.jsx)(et,{value:"Bharat Heavy Electricals",children:"Bharat Heavy Electricals"}),(0,a.jsx)(et,{value:"SAIL Bhilai",children:"SAIL Bhilai"}),(0,a.jsx)(et,{value:"Jindal Steel",children:"Jindal Steel"}),(0,a.jsx)(et,{value:"Other",children:"Other"})]})]}),o.vendor&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:o.vendor})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"itemType",children:"Item Type *"}),(0,a.jsxs)($,{value:l.itemType,onValueChange:e=>c({...l,itemType:e}),children:[(0,a.jsx)(ee,{className:o.itemType?"border-red-500":"",children:(0,a.jsx)(X,{placeholder:"Select item type"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"Rail Joint",children:"Rail Joint"}),(0,a.jsx)(et,{value:"Fish Plate",children:"Fish Plate"}),(0,a.jsx)(et,{value:"Rail Bolt",children:"Rail Bolt"}),(0,a.jsx)(et,{value:"Tie Plate",children:"Tie Plate"}),(0,a.jsx)(et,{value:"Rail Spike",children:"Rail Spike"}),(0,a.jsx)(et,{value:"Rail Pad",children:"Rail Pad"}),(0,a.jsx)(et,{value:"Sleeper",children:"Sleeper"}),(0,a.jsx)(et,{value:"Other",children:"Other"})]})]}),o.itemType&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:o.itemType})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"zone",children:"Railway Zone *"}),(0,a.jsxs)($,{value:l.zone,onValueChange:e=>c({...l,zone:e}),children:[(0,a.jsx)(ee,{className:o.zone?"border-red-500":"",children:(0,a.jsx)(X,{placeholder:"Select zone"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"Northern Railway",children:"Northern Railway"}),(0,a.jsx)(et,{value:"Western Railway",children:"Western Railway"}),(0,a.jsx)(et,{value:"Eastern Railway",children:"Eastern Railway"}),(0,a.jsx)(et,{value:"Southern Railway",children:"Southern Railway"}),(0,a.jsx)(et,{value:"Central Railway",children:"Central Railway"}),(0,a.jsx)(et,{value:"North Eastern Railway",children:"North Eastern Railway"}),(0,a.jsx)(et,{value:"Northeast Frontier Railway",children:"Northeast Frontier Railway"}),(0,a.jsx)(et,{value:"South Central Railway",children:"South Central Railway"}),(0,a.jsx)(et,{value:"South Eastern Railway",children:"South Eastern Railway"}),(0,a.jsx)(et,{value:"South East Central Railway",children:"South East Central Railway"}),(0,a.jsx)(et,{value:"South Western Railway",children:"South Western Railway"}),(0,a.jsx)(et,{value:"West Central Railway",children:"West Central Railway"})]})]}),o.zone&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:o.zone})]}),(0,a.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,a.jsx)(s1,{htmlFor:"location",children:"Location *"}),(0,a.jsx)(eP,{id:"location",placeholder:"e.g., Section A, Track 1",value:l.location,onChange:e=>c({...l,location:e.target.value}),className:o.location?"border-red-500":""}),o.location&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:o.location})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{children:"Manufacture Date *"}),(0,a.jsxs)(tR,{children:[(0,a.jsx)(tC,{asChild:!0,children:(0,a.jsxs)(m,{variant:"outline",className:d("w-full justify-start text-left font-normal",!l.manufactureDate&&"text-muted-foreground",o.manufactureDate&&"border-red-500"),children:[(0,a.jsx)(sX.Z,{className:"mr-2 h-4 w-4"}),l.manufactureDate?(0,tM.WU)(l.manufactureDate,"PPP"):"Pick a date"]})}),(0,a.jsx)(tD,{className:"w-auto p-0",children:(0,a.jsx)(tw,{mode:"single",selected:l.manufactureDate,onSelect:e=>c({...l,manufactureDate:e}),initialFocus:!0})})]}),o.manufactureDate&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:o.manufactureDate})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{children:"Supply Date *"}),(0,a.jsxs)(tR,{children:[(0,a.jsx)(tC,{asChild:!0,children:(0,a.jsxs)(m,{variant:"outline",className:d("w-full justify-start text-left font-normal",!l.supplyDate&&"text-muted-foreground",o.supplyDate&&"border-red-500"),children:[(0,a.jsx)(sX.Z,{className:"mr-2 h-4 w-4"}),l.supplyDate?(0,tM.WU)(l.supplyDate,"PPP"):"Pick a date"]})}),(0,a.jsx)(tD,{className:"w-auto p-0",children:(0,a.jsx)(tw,{mode:"single",selected:l.supplyDate,onSelect:e=>c({...l,supplyDate:e}),initialFocus:!0})})]}),o.supplyDate&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:o.supplyDate})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"quantity",children:"Quantity"}),(0,a.jsx)(eP,{id:"quantity",type:"number",min:"1",placeholder:"1",value:l.quantity,onChange:e=>c({...l,quantity:parseInt(e.target.value)||0}),className:o.quantity?"border-red-500":""}),o.quantity&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:o.quantity})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"unitPrice",children:"Unit Price (₹)"}),(0,a.jsx)(eP,{id:"unitPrice",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:l.unitPrice,onChange:e=>c({...l,unitPrice:parseFloat(e.target.value)||0}),className:o.unitPrice?"border-red-500":""}),o.unitPrice&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:o.unitPrice})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{children:"Warranty Status"}),(0,a.jsxs)($,{value:l.warrantyStatus,onValueChange:e=>c({...l,warrantyStatus:e}),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"active",children:"Active"}),(0,a.jsx)(et,{value:"expiring",children:"Expiring"}),(0,a.jsx)(et,{value:"expired",children:"Expired"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{children:"Risk Level"}),(0,a.jsxs)($,{value:l.riskLevel,onValueChange:e=>c({...l,riskLevel:e}),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"low",children:"Low"}),(0,a.jsx)(et,{value:"medium",children:"Medium"}),(0,a.jsx)(et,{value:"high",children:"High"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{children:"Status"}),(0,a.jsxs)($,{value:l.status,onValueChange:e=>c({...l,status:e}),children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"active",children:"Active"}),(0,a.jsx)(et,{value:"maintenance",children:"Maintenance"}),(0,a.jsx)(et,{value:"retired",children:"Retired"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,a.jsx)(s1,{htmlFor:"description",children:"Description (Optional)"}),(0,a.jsx)(s2,{id:"description",placeholder:"Additional notes or specifications...",value:l.description,onChange:e=>c({...l,description:e.target.value}),rows:3})]})]}),(0,a.jsxs)(W,{className:"flex gap-2",children:[(0,a.jsx)(m,{type:"button",variant:"outline",onClick:()=>{x({}),t(!1)},children:"Cancel"}),(0,a.jsxs)(m,{type:"submit",className:"bg-primary hover:bg-primary/90",children:[(0,a.jsx)(tA.Z,{className:"h-4 w-4 mr-2"}),"Update Item"]})]})]})]})}):null}var tZ=t(77794);function tL(e){let{...s}=e;return(0,a.jsx)(tZ.fC,{"data-slot":"alert-dialog",...s})}function tF(e){let{...s}=e;return(0,a.jsx)(tZ.h_,{"data-slot":"alert-dialog-portal",...s})}function tP(e){let{className:s,...t}=e;return(0,a.jsx)(tZ.aV,{"data-slot":"alert-dialog-overlay",className:d("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function tz(e){let{className:s,...t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tP,{}),(0,a.jsx)(tZ.VY,{"data-slot":"alert-dialog-content",className:d("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...t})]})}function tE(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:d("flex flex-col gap-2 text-center sm:text-left",s),...t})}function tO(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:d("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function tq(e){let{className:s,...t}=e;return(0,a.jsx)(tZ.Dx,{"data-slot":"alert-dialog-title",className:d("text-lg font-semibold",s),...t})}function tK(e){let{className:s,...t}=e;return(0,a.jsx)(tZ.dk,{"data-slot":"alert-dialog-description",className:d("text-muted-foreground text-sm",s),...t})}function tV(e){let{className:s,...t}=e;return(0,a.jsx)(tZ.aU,{className:d(o(),s),...t})}function tB(e){let{className:s,...t}=e;return(0,a.jsx)(tZ.$j,{className:d(o({variant:"outline"}),s),...t})}function tU(e){let{open:s,onOpenChange:t,onDeleteItem:r,item:i}=e;return i?(0,a.jsx)(tL,{open:s,onOpenChange:t,children:(0,a.jsxs)(tz,{children:[(0,a.jsxs)(tE,{children:[(0,a.jsxs)(tq,{className:"flex items-center space-x-2 text-red-600",children:[(0,a.jsx)(Z.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Confirm Deletion"})]}),(0,a.jsxs)(tK,{className:"space-y-3",children:[(0,a.jsx)("p",{children:"Are you sure you want to delete this inventory item? This action cannot be undone."}),(0,a.jsx)("div",{className:"bg-gray-50 p-3 rounded-md",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Batch ID:"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"font-mono",children:i.batchId})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Item Type:"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:i.itemType})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Vendor:"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:i.vendor})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Location:"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:i.location})]})]})})]})]}),(0,a.jsxs)(tO,{children:[(0,a.jsx)(tB,{children:"Cancel"}),(0,a.jsxs)(tV,{onClick:()=>{i&&(r(i.id),t(!1))},className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:[(0,a.jsx)(tj.Z,{className:"h-4 w-4 mr-2"}),"Delete Item"]})]})]})}):null}let tW=[{id:"FIT-001",batchId:"24-01-1234",vendor:"Tata Steel Limited",itemType:"Rail Joint",zone:"Northern Railway",location:"Section A, Track 1",manufactureDate:"2024-01-15",supplyDate:"2024-02-01",warrantyStatus:"active",riskLevel:"low",lastScanned:"2024-12-10",status:"active",quantity:50,unitPrice:1200,description:"High-grade steel rail joints for heavy-duty tracks"},{id:"FIT-002",batchId:"24-01-1235",vendor:"JSW Steel Limited",itemType:"Fish Plate",zone:"Western Railway",location:"Section B, Track 2",manufactureDate:"2024-01-20",supplyDate:"2024-02-05",warrantyStatus:"expiring",riskLevel:"medium",lastScanned:"2024-12-08",status:"active",quantity:100,unitPrice:800,description:"Standard fish plates for rail connections"},{id:"FIT-003",batchId:"23-12-5678",vendor:"Bharat Heavy Electricals",itemType:"Rail Bolt",zone:"Eastern Railway",location:"Section C, Track 1",manufactureDate:"2023-12-10",supplyDate:"2023-12-25",warrantyStatus:"active",riskLevel:"high",lastScanned:"2024-12-09",status:"maintenance",quantity:200,unitPrice:150,description:"Heavy-duty bolts for rail fastening"},{id:"FIT-004",batchId:"24-02-9876",vendor:"SAIL Bhilai",itemType:"Tie Plate",zone:"Southern Railway",location:"Section D, Track 3",manufactureDate:"2024-02-01",supplyDate:"2024-02-15",warrantyStatus:"active",riskLevel:"low",lastScanned:"2024-12-11",status:"active",quantity:75,unitPrice:950,description:"Durable tie plates for sleeper connections"},{id:"FIT-005",batchId:"23-11-4321",vendor:"Jindal Steel",itemType:"Rail Spike",zone:"Central Railway",location:"Section E, Track 2",manufactureDate:"2023-11-15",supplyDate:"2023-11-30",warrantyStatus:"expired",riskLevel:"medium",lastScanned:"2024-12-07",status:"retired",quantity:300,unitPrice:25,description:"Steel spikes for rail securing"}];function t_(e){let{onViewTimeline:s}=e,[t,i]=(0,r.useState)(""),[n,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)("all"),[o,x]=(0,r.useState)("all"),[u,j]=(0,r.useState)("all"),[p,g]=(0,r.useState)(!1),[v,f]=(0,r.useState)(!1),[N,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(null),[S,T]=(0,r.useState)(!1),A=(0,r.useRef)(null),[I,L]=(0,r.useState)(tW);(0,r.useEffect)(()=>{let e=e=>{A.current&&!A.current.contains(e.target)&&T(!1)};if(S)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[S]);let P=I.filter(e=>{let s=e.batchId.toLowerCase().includes(t.toLowerCase())||e.vendor.toLowerCase().includes(t.toLowerCase())||e.itemType.toLowerCase().includes(t.toLowerCase()),a="all"===n||e.zone===n,r="all"===c||e.vendor===c,i="all"===o||e.warrantyStatus===o,l="all"===u||e.riskLevel===u;return s&&a&&r&&i&&l}),z=e=>{w(e),f(!0)},E=e=>{w(e),y(!0)},O=e=>{switch(e){case"active":return(0,a.jsx)(h,{variant:"default",className:"bg-green-500",children:"Active"});case"expiring":return(0,a.jsx)(h,{variant:"secondary",className:"bg-yellow-500",children:"Expiring"});case"expired":return(0,a.jsx)(h,{variant:"destructive",children:"Expired"});default:return(0,a.jsx)(h,{variant:"outline",children:"Unknown"})}},q=e=>{switch(e){case"low":return(0,a.jsx)(h,{variant:"outline",className:"text-green-500 border-green-500",children:"Low"});case"medium":return(0,a.jsx)(h,{variant:"outline",className:"text-yellow-500 border-yellow-500",children:"Medium"});case"high":return(0,a.jsx)(h,{variant:"outline",className:"text-red-500 border-red-500",children:"High"});default:return(0,a.jsx)(h,{variant:"outline",children:"Unknown"})}},K=e=>{switch(e){case"active":return(0,a.jsx)(h,{variant:"default",children:"Active"});case"maintenance":return(0,a.jsx)(h,{variant:"secondary",children:"Maintenance"});case"retired":return(0,a.jsx)(h,{variant:"outline",children:"Retired"});default:return(0,a.jsx)(h,{variant:"outline",children:"Unknown"})}},V=e=>{if(console.log("Export button clicked with format:",e),console.log("Filtered data length:",P.length),0===P.length){alert("No data to export. Please adjust your filters or add items to the inventory.");return}try{let s=new Date().toISOString().split("T")[0],a=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);if("csv"===e){let e=["Batch ID,Vendor,Item Type,Zone,Location,Manufacture Date,Supply Date,Warranty Status,Risk Level,Status,Last Scanned,Quantity,Unit Price,Description",...P.map(e=>['"'.concat(e.batchId,'"'),'"'.concat(e.vendor,'"'),'"'.concat(e.itemType,'"'),'"'.concat(e.zone,'"'),'"'.concat(e.location,'"'),'"'.concat(new Date(e.manufactureDate).toLocaleDateString(),'"'),'"'.concat(new Date(e.supplyDate).toLocaleDateString(),'"'),'"'.concat(e.warrantyStatus.charAt(0).toUpperCase()+e.warrantyStatus.slice(1),'"'),'"'.concat(e.riskLevel.charAt(0).toUpperCase()+e.riskLevel.slice(1),'"'),'"'.concat(e.status.charAt(0).toUpperCase()+e.status.slice(1),'"'),'"'.concat(new Date(e.lastScanned).toLocaleDateString(),'"'),'"'.concat(e.quantity||0,'"'),'"₹'.concat((e.unitPrice||0).toFixed(2),'"'),'"'.concat(e.description||"No description available",'"')].join(","))].join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="railway_inventory_".concat(s,".csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),alert("Successfully exported ".concat(P.length," records to CSV format!")),console.log("CSV export completed")}else if("excel"===e){let e=["Batch ID,Vendor,Item Type,Zone,Location,Manufacture Date,Supply Date,Warranty Status,Risk Level,Status,Last Scanned,Quantity,Unit Price (₹),Total Value (₹),Description",...P.map(e=>{let s=e.quantity||0,t=e.unitPrice||0;return['"'.concat(e.batchId,'"'),'"'.concat(e.vendor,'"'),'"'.concat(e.itemType,'"'),'"'.concat(e.zone,'"'),'"'.concat(e.location,'"'),'"'.concat(new Date(e.manufactureDate).toLocaleDateString(),'"'),'"'.concat(new Date(e.supplyDate).toLocaleDateString(),'"'),'"'.concat(e.warrantyStatus.charAt(0).toUpperCase()+e.warrantyStatus.slice(1),'"'),'"'.concat(e.riskLevel.charAt(0).toUpperCase()+e.riskLevel.slice(1),'"'),'"'.concat(e.status.charAt(0).toUpperCase()+e.status.slice(1),'"'),'"'.concat(new Date(e.lastScanned).toLocaleDateString(),'"'),"".concat(s),"".concat(t.toFixed(2)),"".concat((s*t).toFixed(2)),'"'.concat(e.description||"No description available",'"')].join(",")})].join("\n"),t=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="railway_inventory_excel_".concat(s,".csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),alert("Successfully exported ".concat(P.length," records for Excel with calculations!")),console.log("Excel export completed")}else if("json"===e){let e=P.reduce((e,s)=>e+(s.quantity||0)*(s.unitPrice||0),0),s=P.reduce((e,s)=>(e[s.status]=(e[s.status]||0)+1,e),{}),r=P.reduce((e,s)=>(e[s.riskLevel]=(e[s.riskLevel]||0)+1,e),{}),i={metadata:{exportDate:new Date().toISOString(),exportedBy:"Railway Suraksha System",totalRecords:P.length,totalInventoryValue:e.toFixed(2),currency:"INR",appliedFilters:{searchTerm:t||"None",zoneFilter:"all"!==n?n:"All Zones",vendorFilter:"all"!==c?c:"All Vendors",warrantyFilter:"all"!==o?o:"All Warranty Status",riskFilter:"all"!==u?u:"All Risk Levels"},statistics:{statusBreakdown:s,riskLevelBreakdown:r,totalQuantity:P.reduce((e,s)=>e+(s.quantity||0),0)}},inventory:P.map(e=>({batchId:e.batchId,vendor:e.vendor,itemType:e.itemType,zone:e.zone,location:e.location,manufactureDate:e.manufactureDate,supplyDate:e.supplyDate,warrantyStatus:e.warrantyStatus,riskLevel:e.riskLevel,status:e.status,lastScanned:e.lastScanned,quantity:e.quantity||0,unitPrice:e.unitPrice||0,totalValue:((e.quantity||0)*(e.unitPrice||0)).toFixed(2),description:e.description||"No description available"}))},l=JSON.stringify(i,null,2),d=new Blob([l],{type:"application/json;charset=utf-8;"}),m=URL.createObjectURL(d),x=document.createElement("a");x.href=m,x.download="railway_inventory_data_".concat(a,".json"),document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(m),alert("Successfully exported ".concat(P.length," records with metadata and statistics!")),console.log("JSON export completed")}else if("print"===e){let e=B(),s=window.open("","_blank","width=800,height=600");s?(s.document.write(e),s.document.close(),s.onload=()=>{setTimeout(()=>{s.print(),s.close()},250)}):alert("Please allow popups for this site to enable printing."),console.log("Print view opened")}console.log("Successfully processed ".concat(P.length," records for ").concat(e.toUpperCase()," export"))}catch(e){console.error("Export failed:",e),alert("Export failed: ".concat(e instanceof Error?e.message:"Unknown error"))}},B=()=>{let e=P.reduce((e,s)=>e+(s.quantity||0)*(s.unitPrice||0),0),s=new Date().toLocaleDateString(),t=new Date().toLocaleTimeString();return'\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Railway Inventory Report</title>\n    <meta charset="utf-8">\n    <style>\n        body { \n            font-family: Arial, sans-serif; \n            margin: 20px; \n            color: #000; \n            background: #fff;\n        }\n        .header { \n            text-align: center; \n            margin-bottom: 30px; \n            border-bottom: 2px solid #333;\n            padding-bottom: 20px;\n        }\n        .header h1 { \n            color: #1e40af; \n            margin: 0;\n            font-size: 24px;\n        }\n        .header p { \n            margin: 5px 0; \n            color: #666;\n        }\n        .summary { \n            display: grid; \n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); \n            gap: 15px; \n            margin-bottom: 30px;\n            background: #f8f9fa;\n            padding: 15px;\n            border-radius: 8px;\n        }\n        .summary-item { \n            text-align: center;\n        }\n        .summary-item strong { \n            display: block; \n            font-size: 18px; \n            color: #1e40af;\n        }\n        table { \n            width: 100%; \n            border-collapse: collapse; \n            margin-top: 20px;\n            font-size: 11px;\n        }\n        th, td { \n            border: 1px solid #ddd; \n            padding: 8px; \n            text-align: left;\n        }\n        th { \n            background-color: #f2f2f2; \n            font-weight: bold;\n            color: #333;\n        }\n        tr:nth-child(even) { \n            background-color: #f9f9f9;\n        }\n        .footer { \n            margin-top: 30px; \n            text-align: center; \n            font-size: 12px; \n            color: #666;\n            border-top: 1px solid #ddd;\n            padding-top: 15px;\n        }\n        .status-active { color: #059669; }\n        .status-maintenance { color: #d97706; }\n        .status-retired { color: #6b7280; }\n        .risk-low { color: #059669; }\n        .risk-medium { color: #d97706; }\n        .risk-high { color: #dc2626; }\n        @page { margin: 0.5in; }\n        @media print {\n            body { margin: 0; }\n            .header { page-break-after: avoid; }\n            table { page-break-inside: auto; }\n            tr { page-break-inside: avoid; }\n        }\n    </style>\n</head>\n<body>\n    <div class="header">\n        <h1>\uD83D\uDE82 Railway Inventory Report</h1>\n        <p><strong>Railway Suraksha - Track Fittings Inventory</strong></p>\n        <p>Generated on: '.concat(s," at ").concat(t,"</p>\n        <p>Total Records: ").concat(P.length," | Total Value: ₹").concat(e.toLocaleString(),'</p>\n    </div>\n    \n    <div class="summary">\n        <div class="summary-item">\n            <strong>').concat(P.length,'</strong>\n            <span>Total Items</span>\n        </div>\n        <div class="summary-item">\n            <strong>₹').concat(e.toLocaleString(),'</strong>\n            <span>Total Value</span>\n        </div>\n        <div class="summary-item">\n            <strong>').concat(P.filter(e=>"active"===e.status).length,'</strong>\n            <span>Active Items</span>\n        </div>\n        <div class="summary-item">\n            <strong>').concat(P.filter(e=>"high"===e.riskLevel).length,"</strong>\n            <span>High Risk Items</span>\n        </div>\n    </div>\n    \n    <table>\n        <thead>\n            <tr>\n                <th>Batch ID</th>\n                <th>Vendor</th>\n                <th>Item Type</th>\n                <th>Zone</th>\n                <th>Location</th>\n                <th>Warranty</th>\n                <th>Risk Level</th>\n                <th>Status</th>\n                <th>Quantity</th>\n                <th>Unit Price</th>\n                <th>Total Value</th>\n                <th>Last Scanned</th>\n            </tr>\n        </thead>\n        <tbody>\n            ").concat(P.map(e=>"\n                <tr>\n                    <td><strong>".concat(e.batchId,"</strong></td>\n                    <td>").concat(e.vendor,"</td>\n                    <td>").concat(e.itemType,"</td>\n                    <td>").concat(e.zone,"</td>\n                    <td>").concat(e.location,"</td>\n                    <td>").concat(e.warrantyStatus.charAt(0).toUpperCase()+e.warrantyStatus.slice(1),'</td>\n                    <td class="risk-').concat(e.riskLevel,'">').concat(e.riskLevel.charAt(0).toUpperCase()+e.riskLevel.slice(1),'</td>\n                    <td class="status-').concat(e.status,'">').concat(e.status.charAt(0).toUpperCase()+e.status.slice(1),"</td>\n                    <td>").concat(e.quantity||0,"</td>\n                    <td>₹").concat((e.unitPrice||0).toFixed(2),"</td>\n                    <td>₹").concat(((e.quantity||0)*(e.unitPrice||0)).toFixed(2),"</td>\n                    <td>").concat(new Date(e.lastScanned).toLocaleDateString(),"</td>\n                </tr>\n            ")).join(""),'\n        </tbody>\n    </table>\n    \n    <div class="footer">\n        <p><strong>Railway Suraksha System</strong> - AI-Powered Railway Analytics</p>\n        <p>This report contains ').concat(P.length," inventory records as of ").concat(s,"</p>\n        <p>For questions or support, contact the Railway Analytics Team</p>\n    </div>\n</body>\n</html>")};return(0,a.jsxs)(k,{className:"animate-fade-in-up overflow-visible",children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(to.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Inventory & Tracking Portal"})]}),(0,a.jsx)(D,{children:"Interactive searchable table with advanced filters for railway track fittings"})]}),(0,a.jsxs)(M,{className:"space-y-6 overflow-visible",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eB.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(eP,{placeholder:"Search by batch ID, vendor, or type...",value:t,onChange:e=>i(e.target.value),className:"pl-10"})]}),"          ",(0,a.jsxs)($,{value:n,onValueChange:l,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"All Zones"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Zones"}),(0,a.jsx)(et,{value:"Northern Railway",children:"Northern Railway"}),(0,a.jsx)(et,{value:"Western Railway",children:"Western Railway"}),(0,a.jsx)(et,{value:"Eastern Railway",children:"Eastern Railway"}),(0,a.jsx)(et,{value:"Southern Railway",children:"Southern Railway"}),(0,a.jsx)(et,{value:"Central Railway",children:"Central Railway"})]})]}),(0,a.jsxs)($,{value:c,onValueChange:d,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"All Vendors"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Vendors"}),(0,a.jsx)(et,{value:"Tata Steel Limited",children:"Tata Steel Limited"}),(0,a.jsx)(et,{value:"JSW Steel Limited",children:"JSW Steel Limited"}),(0,a.jsx)(et,{value:"Bharat Heavy Electricals",children:"Bharat Heavy Electricals"}),(0,a.jsx)(et,{value:"SAIL Bhilai",children:"SAIL Bhilai"}),(0,a.jsx)(et,{value:"Jindal Steel",children:"Jindal Steel"})]})]}),(0,a.jsxs)($,{value:o,onValueChange:x,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Warranty Status"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Warranty"}),(0,a.jsx)(et,{value:"active",children:"Active"}),(0,a.jsx)(et,{value:"expiring",children:"Expiring"}),(0,a.jsx)(et,{value:"expired",children:"Expired"})]})]}),(0,a.jsxs)($,{value:u,onValueChange:j,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Risk Level"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Risk Levels"}),(0,a.jsx)(et,{value:"low",children:"Low Risk"}),(0,a.jsx)(et,{value:"medium",children:"Medium Risk"}),(0,a.jsx)(et,{value:"high",children:"High Risk"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",P.length," of ",I.length," fittings"]}),(0,a.jsxs)(m,{onClick:()=>g(!0),className:"bg-primary hover:bg-primary/90",size:"sm",children:[(0,a.jsx)(tm.Z,{className:"h-4 w-4 mr-2"}),"Add New Item"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 relative",children:[!1,(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>{console.log("CSV Export button clicked"),V("csv")},className:"hover:bg-primary/5",children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),(0,a.jsxs)("div",{className:"relative",ref:A,children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",className:"hover:bg-primary/5 focus:ring-2 focus:ring-primary focus:ring-offset-2",onClick:()=>{console.log("More Formats button clicked, current state:",S),T(!S)},children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 mr-2"}),"More Formats",(0,a.jsx)(J.Z,{className:"h-4 w-4 ml-2 transition-transform duration-200 ".concat(S?"rotate-180":"")})]}),S&&(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-56 z-50 bg-popover border rounded-md shadow-lg py-1 animate-in fade-in-0 zoom-in-95",children:[(0,a.jsxs)("button",{onClick:()=>{console.log("Excel export selected"),V("excel"),T(!1)},className:"w-full text-left px-3 py-2 hover:bg-accent hover:text-accent-foreground flex items-center cursor-pointer transition-colors duration-150",children:[(0,a.jsx)(tx.Z,{className:"h-4 w-4 mr-2"}),"Export for Excel",(0,a.jsxs)("span",{className:"ml-auto text-xs text-muted-foreground",children:[P.length," records"]})]}),(0,a.jsxs)("button",{onClick:()=>{console.log("JSON export selected"),V("json"),T(!1)},className:"w-full text-left px-3 py-2 hover:bg-accent hover:text-accent-foreground flex items-center cursor-pointer transition-colors duration-150",children:[(0,a.jsx)(th.Z,{className:"h-4 w-4 mr-2"}),"Export as JSON",(0,a.jsx)("span",{className:"ml-auto text-xs text-muted-foreground",children:"With metadata"})]}),(0,a.jsx)("div",{className:"border-t border-border my-1"}),(0,a.jsxs)("button",{onClick:()=>{console.log("Print view selected"),V("print"),T(!1)},className:"w-full text-left px-3 py-2 hover:bg-accent hover:text-accent-foreground flex items-center cursor-pointer transition-colors duration-150",children:[(0,a.jsx)(eW.Z,{className:"h-4 w-4 mr-2"}),"Print View",(0,a.jsx)("span",{className:"ml-auto text-xs text-muted-foreground",children:"Current view"})]})]})]})]})]}),(0,a.jsx)("div",{className:"rounded-md border overflow-hidden",children:(0,a.jsxs)(ez,{children:[(0,a.jsx)(eE,{children:(0,a.jsxs)(eq,{className:"bg-muted/50",children:[(0,a.jsx)(eK,{children:"Batch ID"}),(0,a.jsx)(eK,{children:"Vendor"}),(0,a.jsx)(eK,{children:"Item Type"}),(0,a.jsx)(eK,{children:"Zone"}),(0,a.jsx)(eK,{children:"Location"}),(0,a.jsx)(eK,{children:"Warranty"}),(0,a.jsx)(eK,{children:"Risk Level"}),(0,a.jsx)(eK,{children:"Status"}),(0,a.jsx)(eK,{children:"Last Scanned"}),(0,a.jsx)(eK,{children:"Actions"})]})}),(0,a.jsx)(eO,{children:P.map((e,t)=>(0,a.jsxs)(eq,{className:"hover:bg-muted/30 transition-colors duration-200",style:{animationDelay:"".concat(50*t,"ms")},children:[(0,a.jsx)(eV,{className:"font-mono font-medium",children:e.batchId}),(0,a.jsx)(eV,{children:e.vendor}),(0,a.jsx)(eV,{children:e.itemType}),(0,a.jsx)(eV,{children:e.zone}),(0,a.jsx)(eV,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(F.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:e.location})]})}),(0,a.jsx)(eV,{children:O(e.warrantyStatus)}),(0,a.jsx)(eV,{children:q(e.riskLevel)}),(0,a.jsx)(eV,{children:K(e.status)}),(0,a.jsx)(eV,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(sX.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:new Date(e.lastScanned).toLocaleDateString()})]})}),(0,a.jsx)(eV,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>s(e),className:"hover:scale-105 transition-transform duration-200",children:[(0,a.jsx)(sI.Z,{className:"h-3 w-3 mr-1"}),"Timeline"]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>z(e),className:"hover:scale-105 transition-transform duration-200",children:[(0,a.jsx)(tu.Z,{className:"h-3 w-3 mr-1"}),"Edit"]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>E(e),className:"hover:scale-105 transition-transform duration-200 text-red-600 hover:text-red-700 hover:border-red-300",children:[(0,a.jsx)(tj.Z,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]},e.id))})]})}),0===P.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(Z.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"No fittings found matching your criteria"})]}),(0,a.jsx)(tT,{open:p,onOpenChange:g,onAddItem:e=>{L([{...e,id:"FIT-".concat(String(I.length+1).padStart(3,"0")),lastScanned:new Date().toISOString().split("T")[0]},...I])}}),(0,a.jsx)(tI,{open:v,onOpenChange:f,onUpdateItem:e=>{L(I.map(s=>s.id===e.id?e:s)),w(null)},item:b}),(0,a.jsx)(tU,{open:N,onOpenChange:y,onDeleteItem:e=>{L(I.filter(s=>s.id!==e)),w(null)},item:b})]})]})}let tH=e=>[{date:e.manufactureDate,type:"manufacture",title:"Manufacturing Completed",description:"Manufactured by ".concat(e.vendor," with quality certification"),status:"completed"},{date:e.supplyDate,type:"supply",title:"Supplied to Railway",description:"Delivered to ".concat(e.zone," for installation"),location:e.zone,status:"completed"},{date:"2024-02-10",type:"installation",title:"Installation Completed",description:"Installed at ".concat(e.location),location:e.location,status:"completed"},{date:"2024-06-15",type:"inspection",title:"Routine Inspection",description:"Passed routine quality inspection with no issues found",location:e.location,status:"completed"},{date:e.lastScanned,type:"scan",title:"QR Code Scanned",description:"Latest QR code scan for tracking verification",location:e.location,status:"completed"},{date:"2024-12-20",type:"inspection",title:"Scheduled Inspection",description:"Upcoming routine inspection scheduled",location:e.location,status:"scheduled"}].sort((e,s)=>new Date(e.date).getTime()-new Date(s.date).getTime()),tQ=e=>{switch(e){case"manufacture":case"maintenance":return(0,a.jsx)(sG.Z,{className:"h-4 w-4"});case"supply":return(0,a.jsx)(F.Z,{className:"h-4 w-4"});case"installation":case"scan":return(0,a.jsx)(eS.Z,{className:"h-4 w-4"});case"inspection":case"alert":return(0,a.jsx)(Z.Z,{className:"h-4 w-4"});default:return(0,a.jsx)(P.Z,{className:"h-4 w-4"})}},tJ=(e,s)=>{if("scheduled"===s)return"text-blue-500";if("in-progress"===s)return"text-yellow-500";switch(e){case"manufacture":case"supply":case"installation":case"scan":return"text-green-500";case"inspection":return"text-blue-500";case"maintenance":return"text-yellow-500";case"alert":return"text-red-500";default:return"text-gray-500"}};function tG(e){let{item:s,isOpen:t,onClose:r}=e;if(!s)return null;let i=tH(s);return(0,a.jsx)(O,{open:t,onOpenChange:r,children:(0,a.jsxs)(B,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(F.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsxs)("span",{children:["Asset Timeline - ",s.batchId]})]}),(0,a.jsx)(H,{children:"Complete lifecycle history and tracking information for this railway fitting"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-muted/30 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Asset Information"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Batch ID:"})," ",s.batchId]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Type:"})," ",s.itemType]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Vendor:"})," ",s.vendor]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Current Status"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h,{variant:"active"===s.status?"default":"secondary",children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),(0,a.jsxs)(h,{variant:"low"===s.riskLevel?"outline":"medium"===s.riskLevel?"secondary":"destructive",children:[s.riskLevel.charAt(0).toUpperCase()+s.riskLevel.slice(1)," Risk"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Location"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("p",{className:"flex items-center space-x-1",children:[(0,a.jsx)(F.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:s.zone})]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:s.location})]})]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-4",children:"Asset Lifecycle Timeline"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-border"}),(0,a.jsx)("div",{className:"space-y-6",children:i.map((e,s)=>(0,a.jsxs)("div",{className:"relative flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-2 bg-background ".concat(tJ(e.type,e.status)," border-current"),children:tQ(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 pb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium text-foreground",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h,{variant:"completed"===e.status?"default":"in-progress"===e.status?"secondary":"outline",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:new Date(e.date).toLocaleDateString()})]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),e.location&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center space-x-1",children:[(0,a.jsx)(F.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e.location})]})]})]},s))})]})]}),(0,a.jsx)(s$,{}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 mr-2"}),"Export Timeline"]}),(0,a.jsx)(m,{variant:"outline",size:"sm",children:"Schedule Inspection"}),(0,a.jsx)(m,{onClick:r,children:"Close"})]})]})]})]})})}var tY=t(92654);function t$(e){let{open:s,onOpenChange:t,recommendation:i}=e,[n,l]=(0,r.useState)(),[c,o]=(0,r.useState)(""),[x,u]=(0,r.useState)(""),[j,p]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[f,N]=(0,r.useState)(!1),y=async()=>{N(!0),await new Promise(e=>setTimeout(e,2e3)),N(!1),t(!1),l(void 0),o(""),u(""),p(""),v("")};return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(sX.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Schedule Maintenance Task"})]}),(0,a.jsx)(H,{children:"Schedule the recommended maintenance action for immediate execution"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg border-l-4 border-primary",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium text-foreground",children:"Recommended Action"}),(0,a.jsxs)(h,{className:(e=>{switch(e){case"High":return"bg-red-500/10 text-red-500 border-red-500";case"Medium":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"Low":return"bg-blue-500/10 text-blue-500 border-blue-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}})(i.priority),children:[i.priority," Priority"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:i.action}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(F.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:i.zone})]}),(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(Z.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Task #",i.index+1]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"date",children:"Scheduled Date"}),(0,a.jsxs)(tR,{children:[(0,a.jsx)(tC,{asChild:!0,children:(0,a.jsxs)(m,{variant:"outline",className:d("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[(0,a.jsx)(sX.Z,{className:"mr-2 h-4 w-4"}),n?(0,tM.WU)(n,"PPP"):"Pick a date"]})}),(0,a.jsx)(tD,{className:"w-auto p-0",align:"start",children:(0,a.jsx)(tw,{mode:"single",selected:n,onSelect:l,initialFocus:!0,disabled:e=>e<new Date})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"time",children:"Scheduled Time"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(P.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(eP,{id:"time",type:"time",value:c,onChange:e=>o(e.target.value),className:"pl-10"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"assignedTo",children:"Assign To"}),(0,a.jsxs)($,{value:x,onValueChange:u,children:[(0,a.jsxs)(ee,{children:[(0,a.jsx)(e8.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)(X,{placeholder:"Select team member"})]}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"john-doe",children:"John Doe - Senior Technician"}),(0,a.jsx)(et,{value:"jane-smith",children:"Jane Smith - Maintenance Engineer"}),(0,a.jsx)(et,{value:"mike-johnson",children:"Mike Johnson - Track Inspector"}),(0,a.jsx)(et,{value:"sarah-wilson",children:"Sarah Wilson - Rail Specialist"}),(0,a.jsx)(et,{value:"team-alpha",children:"Team Alpha - Emergency Response"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"duration",children:"Estimated Duration (hours)"}),(0,a.jsxs)($,{value:j,onValueChange:p,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Select duration"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"1",children:"1 hour"}),(0,a.jsx)(et,{value:"2",children:"2 hours"}),(0,a.jsx)(et,{value:"4",children:"4 hours"}),(0,a.jsx)(et,{value:"8",children:"8 hours (Full day)"}),(0,a.jsx)(et,{value:"16",children:"2 days"}),(0,a.jsx)(et,{value:"24",children:"3 days"}),(0,a.jsx)(et,{value:"custom",children:"Custom duration"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"notes",children:"Additional Notes"}),(0,a.jsx)(s2,{id:"notes",placeholder:"Add any special instructions, required equipment, or safety considerations...",value:g,onChange:e=>v(e.target.value),rows:3})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),(0,a.jsx)(m,{onClick:y,disabled:!n||!c||!x||!j||f,className:"min-w-[120px]",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Scheduling..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eS.Z,{className:"h-4 w-4 mr-2"}),"Schedule Task"]})})]})]})]})})}let tX=(e,s)=>{let t=["Rail Fastener","Fish Plate","Rail Pad","Sleeper Bolt","Track Bolt","Anchor Bolt","Clip","Spring Washer"],a=["Section A","Section B","Section C","Section D","Section E"],r=["Track 1","Track 2","Track 3","Track 4"],i=["Bharat Heavy Electricals","Tata Steel","JSW Steel","SAIL","Jindal Steel"],n=["critical","high","moderate"];return Array.from({length:e},(e,l)=>{let c=new Date(Date.now()-15768e7*Math.random()),d=new Date(Date.now()-7776e6*Math.random()),o=new Date(Date.now()+15552e6*Math.random());return{id:"RF-".concat(s.slice(0,2).toUpperCase(),"-").concat(String(l+1).padStart(4,"0")),type:t[Math.floor(Math.random()*t.length)],location:"KM ".concat((100*Math.random()+1).toFixed(1)),section:a[Math.floor(Math.random()*a.length)],track:r[Math.floor(Math.random()*r.length)],riskScore:Math.floor(30*Math.random()+70),installationDate:c.toISOString().split("T")[0],lastInspection:d.toISOString().split("T")[0],predictedFailureDate:o.toISOString().split("T")[0],condition:n[Math.floor(Math.random()*n.length)],manufacturer:i[Math.floor(Math.random()*i.length)],serialNumber:"SN".concat(Math.random().toString(36).substr(2,8).toUpperCase()),maintenanceHistory:Math.floor(10*Math.random()+1),estimatedCost:Math.floor(5e4*Math.random()+1e4)}}).sort((e,s)=>s.riskScore-e.riskScore)};function t0(e){let{open:s,onOpenChange:t,totalCount:i,zone:n}=e,[l]=(0,r.useState)(()=>tX(i,n)),[c,d]=(0,r.useState)(""),[o,x]=(0,r.useState)("all"),[u,f]=(0,r.useState)("all"),[y,b]=(0,r.useState)("all"),w=(0,r.useMemo)(()=>l.filter(e=>{let s=""===c||e.id.toLowerCase().includes(c.toLowerCase())||e.type.toLowerCase().includes(c.toLowerCase())||e.location.toLowerCase().includes(c.toLowerCase()),t="all"===o||e.condition===o,a="all"===u||e.type===u,r="all"===y||e.section===y;return s&&t&&a&&r}),[l,c,o,u,y]),S=(0,r.useMemo)(()=>{let e=l.filter(e=>"critical"===e.condition).length,s=l.filter(e=>"high"===e.condition).length;return{critical:e,high:s,moderate:l.filter(e=>"moderate"===e.condition).length,totalCost:l.reduce((e,s)=>e+s.estimatedCost,0),avgRisk:l.reduce((e,s)=>e+s.riskScore,0)/l.length}},[l]);return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[1100px] max-h-[90vh]",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-red-500"}),(0,a.jsxs)("span",{children:["High-Risk Fittings Analysis - ",n]})]}),(0,a.jsxs)(H,{children:["Comprehensive analysis of ",i," high-risk railway fittings requiring immediate attention"]})]}),(0,a.jsxs)(j,{defaultValue:"list",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(g,{value:"list",children:"Fittings List"}),(0,a.jsx)(g,{value:"analytics",children:"Analytics"}),(0,a.jsx)(g,{value:"summary",children:"Summary"})]}),(0,a.jsxs)(v,{value:"list",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(eB.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(eP,{placeholder:"Search fittings by ID, type, or location...",value:c,onChange:e=>d(e.target.value),className:"pl-10"})]}),(0,a.jsxs)($,{value:o,onValueChange:x,children:[(0,a.jsx)(ee,{className:"w-full sm:w-32",children:(0,a.jsx)(X,{placeholder:"Condition"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Conditions"}),(0,a.jsx)(et,{value:"critical",children:"Critical"}),(0,a.jsx)(et,{value:"high",children:"High"}),(0,a.jsx)(et,{value:"moderate",children:"Moderate"})]})]}),(0,a.jsxs)($,{value:u,onValueChange:f,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Type"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Types"}),(0,a.jsx)(et,{value:"Rail Fastener",children:"Rail Fastener"}),(0,a.jsx)(et,{value:"Fish Plate",children:"Fish Plate"}),(0,a.jsx)(et,{value:"Rail Pad",children:"Rail Pad"}),(0,a.jsx)(et,{value:"Sleeper Bolt",children:"Sleeper Bolt"}),(0,a.jsx)(et,{value:"Track Bolt",children:"Track Bolt"})]})]}),(0,a.jsxs)($,{value:y,onValueChange:b,children:[(0,a.jsx)(ee,{className:"w-full sm:w-32",children:(0,a.jsx)(X,{placeholder:"Section"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Sections"}),(0,a.jsx)(et,{value:"Section A",children:"Section A"}),(0,a.jsx)(et,{value:"Section B",children:"Section B"}),(0,a.jsx)(et,{value:"Section C",children:"Section C"}),(0,a.jsx)(et,{value:"Section D",children:"Section D"}),(0,a.jsx)(et,{value:"Section E",children:"Section E"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Showing ",w.length," of ",l.length," high-risk fittings"]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>{let e=w.map(e=>({ID:e.id,Type:e.type,Location:e.location,Section:e.section,Track:e.track,"Risk Score":e.riskScore,Condition:e.condition,"Installation Date":e.installationDate,"Last Inspection":e.lastInspection,"Predicted Failure":e.predictedFailureDate,Manufacturer:e.manufacturer,"Serial Number":e.serialNumber,"Estimated Cost":e.estimatedCost})),s=new Blob([[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n")],{type:"text/csv"}),t=URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download="high_risk_fittings_".concat(n.replace(/\s+/g,"_"),"_").concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),(0,a.jsx)(en,{className:"h-[400px] border rounded-lg",children:(0,a.jsxs)(ez,{children:[(0,a.jsx)(eE,{children:(0,a.jsxs)(eq,{children:[(0,a.jsx)(eK,{children:"Fitting ID"}),(0,a.jsx)(eK,{children:"Type"}),(0,a.jsx)(eK,{children:"Location"}),(0,a.jsx)(eK,{children:"Risk Score"}),(0,a.jsx)(eK,{children:"Condition"}),(0,a.jsx)(eK,{children:"Predicted Failure"}),(0,a.jsx)(eK,{children:"Est. Cost"}),(0,a.jsx)(eK,{children:"Actions"})]})}),(0,a.jsx)(eO,{children:w.map(e=>{var s;return(0,a.jsxs)(eq,{className:"hover:bg-muted/50",children:[(0,a.jsx)(eV,{className:"font-mono text-sm",children:e.id}),(0,a.jsx)(eV,{children:e.type}),(0,a.jsxs)(eV,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm",children:[(0,a.jsx)(F.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:[e.section,", ",e.track]})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.location})]}),(0,a.jsx)(eV,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"font-bold ".concat((s=e.riskScore)>=90?"text-red-500":s>=80?"text-orange-500":s>=70?"text-yellow-500":"text-green-500"),children:e.riskScore}),(0,a.jsx)(ed,{value:e.riskScore,className:"w-12 h-2"})]})}),(0,a.jsx)(eV,{children:(0,a.jsx)(h,{className:function(e){switch(e){case"critical":return"bg-red-500/10 text-red-500 border-red-500";case"high":return"bg-orange-500/10 text-orange-500 border-orange-500";case"moderate":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}(e.condition),children:e.condition.toUpperCase()})}),(0,a.jsx)(eV,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm",children:[(0,a.jsx)(P.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:new Date(e.predictedFailureDate).toLocaleDateString()})]})}),(0,a.jsxs)(eV,{className:"font-medium",children:["₹",e.estimatedCost.toLocaleString()]}),(0,a.jsx)(eV,{children:(0,a.jsxs)(m,{size:"sm",variant:"outline",children:[(0,a.jsx)(sG.Z,{className:"h-3 w-3 mr-1"}),"Schedule"]})})]},e.id)})})]})})]}),(0,a.jsxs)(v,{value:"analytics",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Condition Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Critical"}),(0,a.jsx)("span",{className:"text-sm font-medium text-red-500",children:S.critical})]}),(0,a.jsx)(ed,{value:S.critical/l.length*100,className:"h-2"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"High"}),(0,a.jsx)("span",{className:"text-sm font-medium text-orange-500",children:S.high})]}),(0,a.jsx)(ed,{value:S.high/l.length*100,className:"h-2"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Moderate"}),(0,a.jsx)("span",{className:"text-sm font-medium text-yellow-500",children:S.moderate})]}),(0,a.jsx)(ed,{value:S.moderate/l.length*100,className:"h-2"})]})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Financial Impact"})}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary",children:["₹",S.totalCost.toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Estimated Cost"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-lg font-semibold",children:["₹",Math.round(S.totalCost/l.length).toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Average Cost per Fitting"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-lg font-semibold text-red-500",children:[S.avgRisk.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Average Risk Score"})]})]})})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-base",children:"Risk Timeline"}),(0,a.jsx)(D,{children:"Predicted failure timeline for the next 6 months"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-2",children:[1,2,3,4,5,6].map(e=>{let s=new Date;s.setMonth(s.getMonth()+e);let t=l.filter(e=>{let t=new Date(e.predictedFailureDate);return t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}).length;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:s.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm",children:[t," predicted failures"]}),(0,a.jsx)(ed,{value:t/l.length*100,className:"w-20 h-2"})]})]},e)})})})]})]}),(0,a.jsxs)(v,{value:"summary",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500",children:S.critical}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Critical Condition"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"Immediate action required"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:S.high}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"High Risk"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"Schedule maintenance soon"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:S.moderate}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Moderate Risk"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"Monitor closely"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{children:"Recommendations"})}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-red-700",children:"Immediate Action Required"}),(0,a.jsxs)("p",{className:"text-sm text-red-600",children:[S.critical," fittings in critical condition need immediate replacement or repair"]})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[(0,a.jsx)(sX.Z,{className:"h-5 w-5 text-orange-500 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-orange-700",children:"Schedule Maintenance"}),(0,a.jsxs)("p",{className:"text-sm text-orange-600",children:[S.high," high-risk fittings should be scheduled for maintenance within 30 days"]})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsx)(N.Z,{className:"h-5 w-5 text-blue-500 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-blue-700",children:"Cost Optimization"}),(0,a.jsx)("p",{className:"text-sm text-blue-600",children:"Bulk procurement and scheduled maintenance can reduce total cost by 15-20%"})]})]})]})})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}var t2=t(59462),t5=t(70768);let t1=(e,s)=>{let t=["critical","high","medium","low"],a=["pending","in_progress","completed","overdue"],r=["Section A","Section B","Section C","Section D","Section E"],i=["Track 1","Track 2","Track 3","Track 4"],n=["Team Alpha","Team Beta","Team Gamma","Team Delta","Emergency Response Team"],l=["Welding","Electrical","Mechanical","Inspection","Heavy Machinery","Safety"],c=["Hydraulic Jack","Welding Equipment","Torque Wrench","Impact Drill","Safety Gear","Measuring Tools"],d=[{title:"Replace high-wear rail joints",description:"Replace 12 deteriorated rail joints showing signs of excessive wear and metal fatigue",category:"replacement"},{title:"Conduct preventive maintenance on track switches",description:"Comprehensive maintenance and lubrication of all switching mechanisms",category:"preventive"},{title:"Inspect rail fastener tension",description:"Systematic inspection and adjustment of rail fastener tension across high-traffic sections",category:"inspection"},{title:"Upgrade fish plate connections",description:"Replace standard fish plates with high-strength variants in critical sections",category:"upgrade"},{title:"Emergency repair of cracked sleepers",description:"Immediate replacement of cracked concrete sleepers identified during routine inspection",category:"repair"}];return Array.from({length:e},(e,o)=>{let m=d[o%d.length],x=t[Math.floor(Math.random()*t.length)],h=a[Math.floor(Math.random()*a.length)],u=new Date(Date.now()+2592e6*Math.random()),j="completed"===h?new Date(u.getTime()+6048e5*Math.random()):void 0;return{id:"MA-".concat(s.slice(0,2).toUpperCase(),"-").concat(String(o+1).padStart(3,"0")),title:m.title,description:m.description,priority:x,status:h,category:m.category,estimatedDuration:Math.floor(24*Math.random()+2),estimatedCost:Math.floor(5e5*Math.random()+5e4),requiredSkills:l.slice(0,Math.floor(3*Math.random()+2)),assignedTeam:Math.random()>.3?n[Math.floor(Math.random()*n.length)]:void 0,scheduledDate:u.toISOString().split("T")[0],completionDate:null==j?void 0:j.toISOString().split("T")[0],location:{section:r[Math.floor(Math.random()*r.length)],track:i[Math.floor(Math.random()*i.length)],kilometer:"KM ".concat((100*Math.random()+1).toFixed(1))},dependencies:Math.random()>.7?["MA-".concat(s.slice(0,2).toUpperCase(),"-").concat(String(Math.floor(Math.random()*o+1)).padStart(3,"0"))]:[],riskReduction:Math.floor(40*Math.random()+20),affectedFittings:Math.floor(50*Math.random()+5),equipmentRequired:c.slice(0,Math.floor(3*Math.random()+2))}}).sort((e,s)=>{let t={critical:4,high:3,medium:2,low:1};return t[s.priority]-t[e.priority]})};function t4(e){switch(e){case"critical":return"bg-red-500/10 text-red-500 border-red-500";case"high":return"bg-orange-500/10 text-orange-500 border-orange-500";case"medium":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"low":return"bg-blue-500/10 text-blue-500 border-blue-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}function t3(e){switch(e){case"completed":return(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"});case"in_progress":return(0,a.jsx)(t2.Z,{className:"h-4 w-4 text-blue-500"});case"overdue":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-red-500"});case"pending":return(0,a.jsx)(t5.Z,{className:"h-4 w-4 text-gray-500"});default:return(0,a.jsx)(P.Z,{className:"h-4 w-4 text-gray-400"})}}function t8(e){let{open:s,onOpenChange:t,totalActions:i,zone:n}=e,[l]=(0,r.useState)(()=>t1(i,n)),[c,d]=(0,r.useState)("all"),[o,x]=(0,r.useState)("all"),[u,f]=(0,r.useState)("all"),N=(0,r.useMemo)(()=>l.filter(e=>{let s="all"===c||e.status===c,t="all"===o||e.priority===o,a="all"===u||e.category===u;return s&&t&&a}),[l,c,o,u]),y=(0,r.useMemo)(()=>{let e=l.filter(e=>"completed"===e.status).length,s=l.filter(e=>"in_progress"===e.status).length,t=l.filter(e=>"overdue"===e.status).length,a=l.filter(e=>"pending"===e.status).length;return{completed:e,inProgress:s,overdue:t,pending:a,totalCost:l.reduce((e,s)=>e+s.estimatedCost,0),totalDuration:l.reduce((e,s)=>e+s.estimatedDuration,0),avgRiskReduction:l.reduce((e,s)=>e+s.riskReduction,0)/l.length}},[l]);return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[1100px] max-h-[90vh]",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(sG.Z,{className:"h-5 w-5 text-yellow-500"}),(0,a.jsxs)("span",{children:["Maintenance Actions - ",n]})]}),(0,a.jsxs)(H,{children:["Comprehensive maintenance action plan with ",i," recommended actions"]})]}),(0,a.jsxs)(j,{defaultValue:"actions",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(g,{value:"actions",children:"Action Items"}),(0,a.jsx)(g,{value:"schedule",children:"Schedule View"}),(0,a.jsx)(g,{value:"analytics",children:"Analytics"})]}),(0,a.jsxs)(v,{value:"actions",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)($,{value:c,onValueChange:d,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Status"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Status"}),(0,a.jsx)(et,{value:"pending",children:"Pending"}),(0,a.jsx)(et,{value:"in_progress",children:"In Progress"}),(0,a.jsx)(et,{value:"completed",children:"Completed"}),(0,a.jsx)(et,{value:"overdue",children:"Overdue"})]})]}),(0,a.jsxs)($,{value:o,onValueChange:x,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Priority"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Priorities"}),(0,a.jsx)(et,{value:"critical",children:"Critical"}),(0,a.jsx)(et,{value:"high",children:"High"}),(0,a.jsx)(et,{value:"medium",children:"Medium"}),(0,a.jsx)(et,{value:"low",children:"Low"})]})]}),(0,a.jsxs)($,{value:u,onValueChange:f,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Category"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Categories"}),(0,a.jsx)(et,{value:"inspection",children:"Inspection"}),(0,a.jsx)(et,{value:"replacement",children:"Replacement"}),(0,a.jsx)(et,{value:"repair",children:"Repair"}),(0,a.jsx)(et,{value:"upgrade",children:"Upgrade"}),(0,a.jsx)(et,{value:"preventive",children:"Preventive"})]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",N.length," of ",l.length," maintenance actions"]}),(0,a.jsx)(en,{className:"h-[400px]",children:(0,a.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,a.jsxs)(k,{className:"hover:shadow-md transition-shadow duration-200",children:[(0,a.jsx)(R,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("span",{className:"text-lg",children:function(e){switch(e){case"inspection":return"\uD83D\uDD0D";case"replacement":return"\uD83D\uDD27";case"repair":return"\uD83D\uDEE0️";case"upgrade":return"⬆️";case"preventive":return"\uD83D\uDEE1️";default:return"\uD83D\uDCCB"}}(e.category)}),(0,a.jsx)(C,{className:"text-lg",children:e.title}),(0,a.jsx)(h,{className:t4(e.priority),children:e.priority.toUpperCase()})]}),(0,a.jsx)(D,{children:e.description})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[t3(e.status),(0,a.jsx)(h,{className:function(e){switch(e){case"completed":return"bg-green-500/10 text-green-500 border-green-500";case"in_progress":return"bg-blue-500/10 text-blue-500 border-blue-500";case"overdue":return"bg-red-500/10 text-red-500 border-red-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}(e.status),children:e.status.replace("_"," ").toUpperCase()})]})]})}),(0,a.jsxs)(M,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,a.jsx)(F.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[e.location.section,", ",e.location.track]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:(0,a.jsx)("span",{children:e.location.kilometer})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[e.estimatedDuration," hours"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,a.jsx)(eY.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[e.riskReduction,"% risk reduction"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"text-sm font-medium",children:["₹",e.estimatedCost.toLocaleString()]}),e.assignedTeam&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,a.jsx)(e8.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:e.assignedTeam})]})]})]}),e.scheduledDate&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[(0,a.jsx)(sX.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Scheduled: ",new Date(e.scheduledDate).toLocaleDateString()]}),e.completionDate&&(0,a.jsxs)("span",{children:["• Completed: ",new Date(e.completionDate).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Affects ",e.affectedFittings," fittings"]})}),(0,a.jsxs)(m,{size:"sm",variant:"outline",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Manage"]})]})]})]},e.id))})})]}),(0,a.jsx)(v,{value:"schedule",className:"space-y-4",children:(0,a.jsx)("div",{className:"grid gap-4",children:[0,1,2,3].map(e=>{let s=new Date;s.setDate(s.getDate()+7*e);let t=new Date(s);t.setDate(t.getDate()+6);let r=l.filter(e=>{if(!e.scheduledDate)return!1;let a=new Date(e.scheduledDate);return a>=s&&a<=t});return(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"text-base",children:["Week ",e+1,": ",s.toLocaleDateString()," - ",t.toLocaleDateString()]}),(0,a.jsxs)(D,{children:[r.length," scheduled actions"]})]}),(0,a.jsx)(M,{children:r.length>0?(0,a.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[t3(e.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:e.title}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.location.section," • ",e.estimatedDuration,"h • ",e.assignedTeam]})]})]}),(0,a.jsx)(h,{className:t4(e.priority),children:e.priority})]},e.id))}):(0,a.jsx)("div",{className:"text-center text-muted-foreground py-4",children:"No actions scheduled for this week"})})]},e)})})}),(0,a.jsxs)(v,{value:"analytics",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:y.completed}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Completed"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:y.inProgress}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"In Progress"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500",children:y.overdue}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Overdue"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-500",children:y.pending}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Pending"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Financial Overview"})}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary",children:["₹",y.totalCost.toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Estimated Cost"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-lg font-semibold",children:[y.totalDuration," hours"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Duration"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-lg font-semibold text-green-500",children:[y.avgRiskReduction.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Average Risk Reduction"})]})]})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Status Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Completed"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[(y.completed/l.length*100).toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:y.completed/l.length*100,className:"h-2"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"In Progress"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[(y.inProgress/l.length*100).toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:y.inProgress/l.length*100,className:"h-2"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Pending"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[(y.pending/l.length*100).toFixed(1),"%"]})]}),(0,a.jsx)(ed,{value:y.pending/l.length*100,className:"h-2"})]})})]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}var t6=t(58519),t9=t(73628);let t7=()=>{let e=[],s=new Date;s.setDate(s.getDate()-90);for(let t=0;t<90;t++){let a=new Date(s);a.setDate(a.getDate()+t);let r=65+.3*Math.sin(t/90*Math.PI*2)*20+(Math.random()-.5)*6;e.push({date:a.toISOString().split("T")[0],overallRisk:Math.max(0,Math.min(100,r)),criticalIncidents:Math.floor(8*Math.random()+1),highRiskFittings:Math.floor(25*Math.random()+15),maintenanceActions:Math.floor(15*Math.random()+5),temperature:15*Math.random()+25,rainfall:50*Math.random(),trafficLoad:40*Math.random()+60})}return e},ae=()=>[{category:"Track Infrastructure",currentRisk:72,trend:-8.5,prediction:68,color:"#ef4444"},{category:"Electrical Systems",currentRisk:58,trend:12.3,prediction:65,color:"#f97316"},{category:"Signaling Equipment",currentRisk:45,trend:-2.1,prediction:44,color:"#eab308"},{category:"Rolling Stock",currentRisk:61,trend:5.7,prediction:64,color:"#3b82f6"},{category:"Platform Safety",currentRisk:39,trend:-15.2,prediction:33,color:"#10b981"},{category:"Environmental",currentRisk:67,trend:18.9,prediction:79,color:"#8b5cf6"}],as=()=>[{period:"Next 7 Days",riskLevel:68,confidence:92,factors:["Weather conditions","Current maintenance schedule","Traffic patterns"]},{period:"Next 30 Days",riskLevel:71,confidence:85,factors:["Seasonal patterns","Planned maintenance","Equipment aging","Weather forecast"]},{period:"Next 90 Days",riskLevel:74,confidence:73,factors:["Monsoon season","Infrastructure aging","Budget constraints","Historical patterns"]},{period:"Next 6 Months",riskLevel:69,confidence:61,factors:["Major upgrades planned","Seasonal variations","Long-term weather patterns","Budget allocation"]}],at={low:"#10b981",medium:"#eab308",high:"#f97316",critical:"#ef4444"};function aa(e){return e>=80?"critical":e>=65?"high":e>=40?"medium":"low"}function ar(e){return at[aa(e)]}function ai(e){var s,t,i,n,l;let{open:c,onOpenChange:d,zone:o}=e,[x]=(0,r.useState)(()=>t7()),[u]=(0,r.useState)(()=>ae()),[f]=(0,r.useState)(()=>as()),[N,y]=(0,r.useState)("30"),b=(0,r.useMemo)(()=>{let e=parseInt(N);return x.slice(-e)},[x,N]),S=(null===(s=x[x.length-1])||void 0===s?void 0:s.overallRisk)||0,L=S-((null===(t=x[x.length-8])||void 0===t?void 0:t.overallRisk)||0),F=(0,r.useMemo)(()=>b.map(e=>({temperature:e.temperature,risk:e.overallRisk,rainfall:e.rainfall,traffic:e.trafficLoad})),[b]);return(0,a.jsx)(O,{open:c,onOpenChange:d,children:(0,a.jsxs)(B,{className:"sm:max-w-[1200px] max-h-[90vh]",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5 text-blue-500"}),(0,a.jsxs)("span",{children:["Risk Trend Analysis - ",o]})]}),(0,a.jsx)(H,{children:"Comprehensive risk analysis with predictive insights and trend forecasting"})]}),(0,a.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"overview",children:"Overview"}),(0,a.jsx)(g,{value:"trends",children:"Historical Trends"}),(0,a.jsx)(g,{value:"forecast",children:"Predictions"}),(0,a.jsx)(g,{value:"analysis",children:"Deep Analysis"})]}),(0,a.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold mb-2",style:{color:ar(S)},children:[S.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"Current Risk Level"}),(0,a.jsx)(h,{style:{backgroundColor:ar(S)+"20",color:ar(S)},children:aa(S).toUpperCase()})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold mb-2 flex items-center justify-center ".concat(L>=0?"text-red-500":"text-green-500"),children:[L>=0?(0,a.jsx)(t6.Z,{className:"h-5 w-5 mr-1"}):(0,a.jsx)(t9.Z,{className:"h-5 w-5 mr-1"}),Math.abs(L).toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"7-Day Change"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold mb-2 text-orange-500",children:[f[0].riskLevel,"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"7-Day Forecast"}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[f[0].confidence,"% confidence"]})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-lg",children:"Risk Categories"}),(0,a.jsx)(D,{children:"Current risk levels across different infrastructure categories"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4",children:u.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"font-medium",children:e.category})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.currentRisk,"%"]}),(0,a.jsxs)("div",{className:"flex items-center text-sm ".concat(e.trend>=0?"text-red-500":"text-green-500"),children:[e.trend>=0?(0,a.jsx)(w.Z,{className:"h-4 w-4 mr-1"}):(0,a.jsx)(T.Z,{className:"h-4 w-4 mr-1"}),Math.abs(e.trend).toFixed(1),"%"]})]})]}),(0,a.jsx)(ed,{value:e.currentRisk,className:"h-2",style:{"--progress-foreground":e.color}})]},s))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(Z.Z,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-xl font-bold",children:(null===(i=x[x.length-1])||void 0===i?void 0:i.criticalIncidents)||0}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Critical Incidents"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(I.Z,{className:"h-8 w-8 text-yellow-500 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-xl font-bold",children:(null===(n=x[x.length-1])||void 0===n?void 0:n.highRiskFittings)||0}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"High-Risk Fittings"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(A.Z,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-xl font-bold",children:(null===(l=x[x.length-1])||void 0===l?void 0:l.maintenanceActions)||0}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Active Actions"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(P.Z,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),(0,a.jsxs)("div",{className:"text-xl font-bold",children:[(x.filter(e=>e.overallRisk<50).length/x.length*100).toFixed(0),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Safe Days"})]})})})]})]}),(0,a.jsxs)(v,{value:"trends",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Historical Risk Trends"}),(0,a.jsxs)($,{value:N,onValueChange:y,children:[(0,a.jsx)(ee,{className:"w-40",children:(0,a.jsx)(X,{})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"7",children:"Last 7 Days"}),(0,a.jsx)(et,{value:"30",children:"Last 30 Days"}),(0,a.jsx)(et,{value:"90",children:"Last 90 Days"})]})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Overall Risk Trend"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:300,children:(0,a.jsxs)(ej.T,{data:b,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,a.jsx)(ev.B,{domain:[0,100]}),(0,a.jsx)(eu.u,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:e=>["".concat(e.toFixed(1),"%"),"Risk Level"]}),(0,a.jsx)(ef.u,{type:"monotone",dataKey:"overallRisk",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Incident Trends"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(eb.v,{data:b.slice(-14),children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"date",tickFormatter:e=>new Date(e).getDate().toString()}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{labelFormatter:e=>new Date(e).toLocaleDateString()}),(0,a.jsx)(ew.$,{dataKey:"criticalIncidents",fill:"#ef4444"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Maintenance Activity"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(eN.w,{data:b.slice(-14),children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"date",tickFormatter:e=>new Date(e).getDate().toString()}),(0,a.jsx)(ev.B,{}),(0,a.jsx)(eu.u,{labelFormatter:e=>new Date(e).toLocaleDateString()}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"maintenanceActions",stroke:"#10b981",strokeWidth:2}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"highRiskFittings",stroke:"#f97316",strokeWidth:2})]})})})]})]})]}),(0,a.jsxs)(v,{value:"forecast",className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{className:"text-lg",children:"Risk Forecasting"}),(0,a.jsx)(D,{children:"AI-powered predictions based on historical patterns and current conditions"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"grid gap-4",children:f.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"font-semibold",children:e.period}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(h,{style:{backgroundColor:ar(e.riskLevel)+"20",color:ar(e.riskLevel)},children:[e.riskLevel,"% Risk"]}),(0,a.jsxs)(h,{variant:"outline",children:[e.confidence,"% Confidence"]})]})]}),(0,a.jsx)(ed,{value:e.riskLevel,className:"mb-3 h-2"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("strong",{children:"Key Factors:"})," ",e.factors.join(", ")]})]},s))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Category Predictions"})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-3",children:u.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:e.category}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm",children:[e.currentRisk,"%"]}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,a.jsxs)("span",{className:"text-sm font-medium",style:{color:e.color},children:[e.prediction,"%"]})]})]},s))})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk Distribution"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:200,children:(0,a.jsxs)(em.u,{children:[(0,a.jsx)(ex.b,{data:u,cx:"50%",cy:"50%",outerRadius:80,dataKey:"currentRisk",nameKey:"category",children:u.map((e,s)=>(0,a.jsx)(eh.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(eu.u,{formatter:e=>"".concat(e,"%")})]})})})]})]})]}),(0,a.jsxs)(v,{value:"analysis",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk vs Temperature Correlation"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(sN.G,{data:F,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"temperature",name:"Temperature",unit:"\xb0C"}),(0,a.jsx)(ev.B,{dataKey:"risk",name:"Risk",unit:"%"}),(0,a.jsx)(eu.u,{formatter:(e,s)=>["risk"===s?"".concat(e.toFixed(1),"%"):"".concat(e.toFixed(1),"\xb0C"),"risk"===s?"Risk Level":"Temperature"]}),(0,a.jsx)(sy.b,{dataKey:"risk",fill:"#3b82f6"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Environmental Impact"})}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:250,children:(0,a.jsxs)(eN.w,{data:b.slice(-30),children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eg.K,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,a.jsx)(ev.B,{yAxisId:"left"}),(0,a.jsx)(ev.B,{yAxisId:"right",orientation:"right"}),(0,a.jsx)(eu.u,{labelFormatter:e=>new Date(e).toLocaleDateString()}),(0,a.jsx)(ey.x,{yAxisId:"left",type:"monotone",dataKey:"rainfall",stroke:"#06b6d4",strokeWidth:2}),(0,a.jsx)(ey.x,{yAxisId:"right",type:"monotone",dataKey:"overallRisk",stroke:"#ef4444",strokeWidth:2})]})})})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{className:"text-base",children:"Risk Analysis Summary"})}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-green-500",children:"Positive Trends"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,a.jsx)("li",{children:"• Platform Safety improving (-15.2%)"}),(0,a.jsx)("li",{children:"• Track Infrastructure stabilizing"}),(0,a.jsx)("li",{children:"• Preventive maintenance effectiveness"}),(0,a.jsx)("li",{children:"• Reduced critical incidents this week"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-orange-500",children:"Areas of Concern"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,a.jsx)("li",{children:"• Environmental risk increasing (+18.9%)"}),(0,a.jsx)("li",{children:"• Electrical Systems showing upward trend"}),(0,a.jsx)("li",{children:"• Weather dependency impacts"}),(0,a.jsx)("li",{children:"• Aging infrastructure components"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-500",children:"Recommendations"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,a.jsx)("li",{children:"• Prioritize electrical system maintenance"}),(0,a.jsx)("li",{children:"• Enhance weather monitoring"}),(0,a.jsx)("li",{children:"• Increase preventive measures"}),(0,a.jsx)("li",{children:"• Schedule infrastructure upgrades"})]})]})]})})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>d(!1),children:"Close"})})]})})}let an={"Northern Railway":{zone:"Northern Railway",highRiskFittings:45,recommendedActions:["Schedule inspection for Section B, Track 2","Replace 12 high-wear rail joints in Section A","Conduct preventive maintenance on Track 3 switches"],riskTrend:[{month:"Jul",risk:3.2,predicted:3.4},{month:"Aug",risk:3.5,predicted:3.7},{month:"Sep",risk:3.8,predicted:4.1},{month:"Oct",risk:4.2,predicted:4.5},{month:"Nov",risk:4.1,predicted:4.3},{month:"Dec",risk:3.9,predicted:4}],criticalSections:[{section:"Section B",track:"Track 2",riskScore:8.7,fittings:23},{section:"Section A",track:"Track 1",riskScore:7.9,fittings:15},{section:"Section C",track:"Track 3",riskScore:7.2,fittings:7}]},"Western Railway":{zone:"Western Railway",highRiskFittings:32,recommendedActions:["Monitor Section D for potential failures","Schedule maintenance for Track 1 rail pads","Inspect fish plates in high-traffic areas"],riskTrend:[{month:"Jul",risk:2.8,predicted:3},{month:"Aug",risk:3.1,predicted:3.3},{month:"Sep",risk:3.4,predicted:3.6},{month:"Oct",risk:3.8,predicted:4},{month:"Nov",risk:3.6,predicted:3.8},{month:"Dec",risk:3.3,predicted:3.5}],criticalSections:[{section:"Section D",track:"Track 1",riskScore:7.5,fittings:18},{section:"Section E",track:"Track 2",riskScore:6.8,fittings:10},{section:"Section F",track:"Track 1",riskScore:6.2,fittings:4}]}},al=["Northern Railway","Western Railway","Eastern Railway","Southern Railway","Central Railway"];function ac(){var e;let[s,t]=(0,r.useState)("Northern Railway"),[i,n]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),[d,o]=(0,r.useState)(!1),[x,u]=(0,r.useState)(null),[j,p]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[f,N]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[S,T]=(0,r.useState)(null),A=an[s]||an["Northern Railway"],I=async()=>{n(!0),o(!1),c("Collecting sensor data..."),await new Promise(e=>setTimeout(e,1200)),c("Processing historical patterns..."),await new Promise(e=>setTimeout(e,1500)),c("Running AI risk assessment..."),await new Promise(e=>setTimeout(e,1800)),c("Generating recommendations..."),await new Promise(e=>setTimeout(e,1e3)),u({confidence:Math.floor(15*Math.random()+85),newRisksDetected:Math.floor(8*Math.random()+2),criticalIssues:["High vibration detected in Track 2, Section B (Urgent)","Fish plate corrosion exceeding safety thresholds","Rail joint temperature variance indicates metal fatigue","Unusual settling patterns in concrete sleepers","Electrical resistance anomaly in signaling circuits"].slice(0,Math.floor(3*Math.random()+2)),optimizationSuggestions:["Reschedule Track 3 maintenance to avoid peak traffic hours","Consolidate Section A and B inspections for efficiency","Deploy predictive sensors on critical rail joints","Implement weather-based maintenance scheduling","Optimize crew allocation based on risk priorities"].slice(0,Math.floor(3*Math.random()+2)),riskReduction:Math.floor(20*Math.random()+15)}),n(!1),c(""),o(!0),setTimeout(()=>{o(!1)},45e3)},L=(e,t)=>{T({action:e,priority:0===t?"High":1===t?"Medium":"Low",zone:s,index:t}),p(!0)};return(0,a.jsxs)(k,{className:"animate-fade-in-up",children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(tY.Z,{className:"h-5 w-5 text-primary animate-pulse"}),(0,a.jsx)("span",{children:"Predictive Maintenance Console"})]}),(0,a.jsx)(D,{children:"AI-powered predictive analytics for proactive maintenance scheduling"})]}),(0,a.jsxs)(M,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)($,{value:s,onValueChange:t,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{placeholder:"Select railway zone"})}),(0,a.jsx)(es,{children:al.map(e=>(0,a.jsx)(et,{value:e,children:e},e))})]})}),(0,a.jsx)(m,{onClick:I,disabled:i,className:"animate-pulse-glow",children:i?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,a.jsx)("span",{className:"text-sm",children:l||"Initializing..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tY.Z,{className:"h-4 w-4 mr-2"}),"Run AI Analysis"]})})]}),i&&(0,a.jsx)(k,{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/30",children:(0,a.jsx)(M,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)(tY.Z,{className:"h-6 w-6 text-blue-500 animate-pulse"}),(0,a.jsx)("span",{className:"text-lg font-semibold",children:"AI Analysis in Progress"})]}),(0,a.jsx)(ed,{value:l.includes("Collecting")?25:l.includes("Processing")?50:l.includes("Running")?75:l.includes("Generating")?90:10,className:"w-full h-2"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l}),(0,a.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),d&&x&&(0,a.jsxs)(k,{className:"bg-gradient-to-br from-green-500/10 to-blue-500/10 border-green-500/30 animate-fade-in-up",children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{children:"AI Analysis Complete"}),(0,a.jsxs)(h,{className:"bg-green-500/20 text-green-500 border-green-500",children:[x.confidence,"% Confidence"]})]}),(0,a.jsx)(m,{size:"sm",variant:"ghost",onClick:()=>o(!1),className:"h-6 w-6 p-0",children:"\xd7"})]}),(0,a.jsxs)(D,{children:["Analysis completed for ",s," • ",x.newRisksDetected," new risk factors identified"]})]}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-500",children:[x.riskReduction,"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Risk Reduction Potential"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:x.newRisksDetected}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"New Risks Detected"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:x.criticalIssues.length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Critical Issues"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-red-500 flex items-center space-x-2",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Critical Issues Detected"})]}),(0,a.jsx)("div",{className:"space-y-2",children:x.criticalIssues.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-2 p-3 bg-red-500/10 border-l-4 border-red-500 rounded",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},s))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-blue-500 flex items-center space-x-2",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Optimization Suggestions"})]}),(0,a.jsx)("div",{className:"space-y-2",children:x.optimizationSuggestions.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-2 p-3 bg-blue-500/10 border-l-4 border-blue-500 rounded",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},s))})]})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-3 pt-4",children:[(0,a.jsxs)(m,{size:"sm",className:"bg-green-500 hover:bg-green-600",onClick:()=>{N(!0)},children:[(0,a.jsx)(sX.Z,{className:"h-4 w-4 mr-2"}),"Schedule Priority Actions"]}),(0,a.jsxs)(m,{size:"sm",variant:"outline",onClick:()=>{console.log("Exporting analysis report:",{zone:s,timestamp:new Date().toISOString(),...x})},children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 mr-2"}),"Export Analysis Report"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(k,{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 border-red-500/20 cursor-pointer hover:shadow-lg hover:scale-105 transition-all duration-200 hover:from-red-500/20 hover:to-red-600/20",onClick:()=>v(!0),children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"High-Risk Fittings"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-500",children:A.highRiskFittings}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Next 90 days"})]}),(0,a.jsx)(Z.Z,{className:"h-8 w-8 text-red-500"})]})})}),(0,a.jsx)(k,{className:"bg-gradient-to-br from-yellow-500/10 to-yellow-600/10 border-yellow-500/20 cursor-pointer hover:shadow-lg hover:scale-105 transition-all duration-200 hover:from-yellow-500/20 hover:to-yellow-600/20",onClick:()=>N(!0),children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Maintenance Actions"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-500",children:A.recommendedActions.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recommended"})]}),(0,a.jsx)(sG.Z,{className:"h-8 w-8 text-yellow-500"})]})})}),(0,a.jsx)(k,{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border-blue-500/20 cursor-pointer hover:shadow-lg hover:scale-105 transition-all duration-200 hover:from-blue-500/20 hover:to-blue-600/20",onClick:()=>b(!0),children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Risk Trend"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-500",children:[null===(e=A.riskTrend[A.riskTrend.length-1])||void 0===e?void 0:e.risk.toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Current month"})]}),(0,a.jsx)(w.Z,{className:"h-8 w-8 text-blue-500"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{children:"Risk Trend Analysis"}),(0,a.jsx)(D,{children:"Historical vs predicted failure risk over time"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:300,children:(0,a.jsxs)(ej.T,{data:A.riskTrend,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3",stroke:"oklch(0.2 0.02 240)"}),(0,a.jsx)(eg.K,{dataKey:"month",stroke:"oklch(0.7 0 0)",fontSize:12}),(0,a.jsx)(ev.B,{stroke:"oklch(0.7 0 0)",fontSize:12}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"oklch(0.12 0.02 240)",border:"1px solid oklch(0.25 0.02 240)",borderRadius:"8px",color:"oklch(0.98 0 0)"}}),(0,a.jsx)(ef.u,{type:"monotone",dataKey:"risk",stackId:"1",stroke:"oklch(0.7 0.25 25)",fill:"oklch(0.7 0.25 25 / 0.3)",name:"Actual Risk %"}),(0,a.jsx)(ef.u,{type:"monotone",dataKey:"predicted",stackId:"2",stroke:"oklch(0.6 0.25 15)",fill:"oklch(0.6 0.25 15 / 0.2)",strokeDasharray:"5 5",name:"Predicted Risk %"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{children:"AI Recommendations"}),(0,a.jsx)(D,{children:"Prioritized maintenance actions based on predictive analysis"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4",children:A.recommendedActions.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-muted/30 rounded-lg border-l-4 border-primary hover:bg-muted/50 hover:shadow-md transition-all duration-200 ease-in-out hover:scale-[1.01] group",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,a.jsx)("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center text-xs font-bold text-primary-foreground group-hover:scale-110 group-hover:animate-pulse transition-all duration-200",children:t+1})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:e}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(sX.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Priority: ",0===t?"High":1===t?"Medium":"Low"]})]}),(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(F.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:s})]})]})]}),(0,a.jsx)(m,{size:"sm",variant:"outline",onClick:()=>L(e,t),className:"hover:bg-primary hover:text-primary-foreground hover:scale-105 hover:shadow-lg active:scale-95 transition-all duration-200 ease-in-out hover:border-primary",children:"Schedule"})]},t))})})]}),(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{children:"Critical Sections Analysis"}),(0,a.jsx)(D,{children:"Sections requiring immediate attention based on risk scores"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4",children:A.criticalSections.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(F.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.section,", ",e.track]})]}),(0,a.jsxs)(h,{variant:"outline",className:"text-xs",children:[e.fittings," fittings"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Risk Score"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-red-500",children:[e.riskScore,"/10"]})]}),(0,a.jsx)(ed,{value:10*e.riskScore,className:"w-20"})]})]},s))})})]})]}),S&&(0,a.jsx)(t$,{open:j,onOpenChange:p,recommendation:S}),(0,a.jsx)(t0,{open:g,onOpenChange:v,totalCount:A.highRiskFittings,zone:s}),(0,a.jsx)(t8,{open:f,onOpenChange:N,totalActions:A.recommendedActions.length,zone:s}),(0,a.jsx)(ai,{open:y,onOpenChange:b,zone:s})]})}var ad=t(16479),ao=t(27910),am=t(62170);let ax=e=>({contact:{email:"contact@"+e.toLowerCase().replace(/\s+/g,"")+".com",phone:"+91-11-"+Math.floor(9e7*Math.random()+1e7),address:"Industrial Area, "+(e.includes("Northern")?"Delhi":e.includes("Tata")?"Mumbai":"Bangalore")+", India"},performanceHistory:[{month:"Jan",score:Math.floor(20*Math.random()+80),defects:Math.floor(5*Math.random()+1)},{month:"Feb",score:Math.floor(20*Math.random()+80),defects:Math.floor(5*Math.random()+1)},{month:"Mar",score:Math.floor(20*Math.random()+80),defects:Math.floor(5*Math.random()+1)},{month:"Apr",score:Math.floor(20*Math.random()+80),defects:Math.floor(5*Math.random()+1)},{month:"May",score:Math.floor(20*Math.random()+80),defects:Math.floor(5*Math.random()+1)},{month:"Jun",score:Math.floor(20*Math.random()+80),defects:Math.floor(5*Math.random()+1)}],recentDeliveries:[{date:"2024-12-10",items:"Rail Fasteners - Batch RF-2024-456",quantity:5e3,status:"Delivered"},{date:"2024-12-08",items:"Track Bolts - High Tensile Grade",quantity:12e3,status:"Delivered"},{date:"2024-12-05",items:"Rail Joints - Premium Quality",quantity:800,status:"In Transit"},{date:"2024-12-02",items:"Fish Plates - Standard Size",quantity:3200,status:"Delivered"}],certifications:["ISO 9001:2015 Quality Management","ISO 14001:2015 Environmental Management","OHSAS 18001:2007 Occupational Health & Safety","Railway Specific Quality Standards (RDSO)","Bureau of Indian Standards (BIS) Certification"],productCategories:[{category:"Rail Fasteners",percentage:35,count:"180K units"},{category:"Track Components",percentage:28,count:"145K units"},{category:"Signaling Hardware",percentage:20,count:"85K units"},{category:"Safety Equipment",percentage:17,count:"40K units"}]});function ah(e){let{open:s,onOpenChange:t,vendor:r}=e,i=ax(r.name);return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(U,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(ad.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:r.name})]}),(0,a.jsx)(H,{className:"flex items-center space-x-2 mt-1",children:(0,a.jsx)("span",{children:"Comprehensive vendor performance and details"})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[function(e){switch(e){case"up":return(0,a.jsx)(w.Z,{className:"h-4 w-4 text-green-500"});case"down":return(0,a.jsx)(T.Z,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)("div",{className:"h-4 w-4 bg-yellow-500 rounded-full"})}}(r.trend),(0,a.jsx)(h,{className:"text-2xl font-bold px-3 py-1 ".concat(function(e){switch(e){case"A":return"text-green-500 bg-green-500/10 border-green-500";case"B":return"text-blue-500 bg-blue-500/10 border-blue-500";case"C":return"text-yellow-500 bg-yellow-500/10 border-yellow-500";case"D":return"text-orange-500 bg-orange-500/10 border-orange-500";case"F":return"text-red-500 bg-red-500/10 border-red-500";default:return"text-gray-500 bg-gray-500/10 border-gray-500"}}(r.grade)),children:r.grade})]})]})}),(0,a.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"overview",children:"Overview"}),(0,a.jsx)(g,{value:"performance",children:"Performance"}),(0,a.jsx)(g,{value:"deliveries",children:"Deliveries"}),(0,a.jsx)(g,{value:"contact",children:"Contact"})]}),(0,a.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[r.overallScore,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Overall Score"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-500",children:[r.onTimeDelivery,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"On-Time Delivery"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-500",children:[r.qualityScore,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Quality Score"})]})})}),(0,a.jsx)(k,{children:(0,a.jsx)(M,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-red-500",children:[r.defectRate,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Defect Rate"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Product Categories"})]})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4",children:i.productCategories.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.category}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.count})]}),(0,a.jsx)(ed,{value:e.percentage,className:"h-2"})]},s))})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsxs)(C,{className:"flex items-center space-x-2 text-green-600",children:[(0,a.jsx)(eS.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Strengths"})]})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-2",children:r.strengths.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{children:e})]},s))})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsxs)(C,{className:"flex items-center space-x-2 text-yellow-600",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Areas for Improvement"})]})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-2",children:r.concerns.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,a.jsx)("span",{children:e})]},s))})})]})]})]}),(0,a.jsxs)(v,{value:"performance",className:"space-y-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{children:"Performance Trends"}),(0,a.jsx)(D,{children:"Monthly performance score and defect rate trends"})]}),(0,a.jsx)(M,{children:(0,a.jsx)(eo.h,{width:"100%",height:300,children:(0,a.jsxs)(eN.w,{data:i.performanceHistory,children:[(0,a.jsx)(ep.q,{strokeDasharray:"3 3",stroke:"oklch(0.2 0.02 240)"}),(0,a.jsx)(eg.K,{dataKey:"month",stroke:"oklch(0.7 0 0)",fontSize:12}),(0,a.jsx)(ev.B,{stroke:"oklch(0.7 0 0)",fontSize:12}),(0,a.jsx)(eu.u,{contentStyle:{backgroundColor:"oklch(0.12 0.02 240)",border:"1px solid oklch(0.25 0.02 240)",borderRadius:"8px",color:"oklch(0.98 0 0)"}}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"score",stroke:"oklch(0.7 0.25 25)",strokeWidth:2,name:"Performance Score"}),(0,a.jsx)(ey.x,{type:"monotone",dataKey:"defects",stroke:"oklch(0.6 0.25 15)",strokeWidth:2,name:"Defect Rate"})]})})})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(ss.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Certifications"})]})}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-2",children:i.certifications.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded",children:[(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},s))})})]})]}),(0,a.jsx)(v,{value:"deliveries",className:"space-y-4",children:(0,a.jsxs)(k,{children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(ao.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Recent Deliveries"})]}),(0,a.jsx)(D,{children:"Latest delivery history and status"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-4",children:i.recentDeliveries.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"font-medium",children:e.items}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",e.quantity.toLocaleString()," units"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center space-x-1",children:[(0,a.jsx)(sX.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e.date})]})]}),(0,a.jsx)(h,{variant:"Delivered"===e.status?"default":"secondary",className:"Delivered"===e.status?"bg-green-500/10 text-green-500":"",children:e.status})]},s))})})]})}),(0,a.jsx)(v,{value:"contact",className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{children:"Contact Information"})}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(ts.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:i.contact.email})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(am.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:i.contact.phone})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(F.Z,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,a.jsx)("span",{className:"text-sm",children:i.contact.address})]})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(C,{children:"Contract Summary"})}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Active Contracts"}),(0,a.jsx)("span",{className:"font-medium",children:r.activeContracts})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Fittings Supplied"}),(0,a.jsx)("span",{className:"font-medium",children:r.totalFittings.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Last Delivery"}),(0,a.jsx)("span",{className:"font-medium",children:new Date(r.lastDelivery).toLocaleDateString()})]}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)(m,{className:"w-full",children:[(0,a.jsx)(eW.Z,{className:"h-4 w-4 mr-2"}),"Download Contract Details"]})})]})]})]})})]})]})})}let au=[{name:"Bharat Heavy Electricals Ltd",grade:"A",overallScore:96.8,defectRate:.8,warrantyClaimsRate:1.2,onTimeDelivery:98.5,qualityScore:97.2,totalFittings:45e4,activeContracts:12,lastDelivery:"2024-12-08",trend:"up",strengths:["Excellent quality control","Consistent delivery","Low defect rates"],concerns:["Higher pricing","Limited capacity for rush orders"]},{name:"Tata Steel Limited",grade:"A",overallScore:94.2,defectRate:1.1,warrantyClaimsRate:1.8,onTimeDelivery:96.8,qualityScore:95.5,totalFittings:52e4,activeContracts:15,lastDelivery:"2024-12-10",trend:"stable",strengths:["Large production capacity","Strong R&D","Good customer support"],concerns:["Occasional delivery delays","Quality variations in some batches"]},{name:"JSW Steel Limited",grade:"B",overallScore:91.7,defectRate:1.9,warrantyClaimsRate:2.4,onTimeDelivery:94.2,qualityScore:92.8,totalFittings:38e4,activeContracts:10,lastDelivery:"2024-12-09",trend:"up",strengths:["Competitive pricing","Flexible production","Good technical support"],concerns:["Higher defect rates","Inconsistent quality in complex items"]},{name:"SAIL Bhilai Steel Plant",grade:"B",overallScore:89.3,defectRate:2.3,warrantyClaimsRate:3.1,onTimeDelivery:91.5,qualityScore:90.2,totalFittings:29e4,activeContracts:8,lastDelivery:"2024-12-07",trend:"down",strengths:["Government backing","Established processes","Cost-effective"],concerns:["Aging infrastructure","Slower innovation","Quality control issues"]},{name:"Jindal Steel & Power",grade:"C",overallScore:87.1,defectRate:3.2,warrantyClaimsRate:4.1,onTimeDelivery:88.7,qualityScore:87.9,totalFittings:21e4,activeContracts:6,lastDelivery:"2024-12-05",trend:"down",strengths:["Competitive pricing","Quick response","Local presence"],concerns:["Higher defect rates","Delivery delays","Quality inconsistencies"]}];function aj(){let[e,s]=(0,r.useState)(!1),[t,i]=(0,r.useState)(null),n=e=>{i(e),s(!0)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(k,{className:"animate-fade-in-up",children:(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(st.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Vendor Report Cards"})]}),(0,a.jsx)(D,{children:"Comprehensive performance evaluation based on quality, delivery, and reliability metrics"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:au.map((e,s)=>(0,a.jsxs)(k,{className:"animate-slide-in-right hover:shadow-xl hover:scale-[1.02] transition-all duration-300 ease-in-out hover:border-primary/20 cursor-pointer",style:{animationDelay:"".concat(100*s,"ms")},children:[(0,a.jsx)(R,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{className:"text-lg",children:e.name}),(0,a.jsxs)(D,{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsxs)("span",{children:[e.totalFittings.toLocaleString()," fittings supplied"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.activeContracts," active contracts"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[function(e){switch(e){case"up":return(0,a.jsx)(w.Z,{className:"h-4 w-4 text-green-500"});case"down":return(0,a.jsx)(T.Z,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)("div",{className:"h-4 w-4 bg-yellow-500 rounded-full"})}}(e.trend),(0,a.jsx)(h,{className:"text-2xl font-bold px-3 py-1 hover:scale-110 transition-transform duration-200 ".concat(function(e){switch(e){case"A":return"text-green-500 bg-green-500/10 border-green-500";case"B":return"text-blue-500 bg-blue-500/10 border-blue-500";case"C":return"text-yellow-500 bg-yellow-500/10 border-yellow-500";case"D":return"text-orange-500 bg-orange-500/10 border-orange-500";case"F":return"text-red-500 bg-red-500/10 border-red-500";default:return"text-gray-500 bg-gray-500/10 border-gray-500"}}(e.grade)),children:e.grade})]})]})}),(0,a.jsxs)(M,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-primary mb-1 group-hover:scale-110 transition-transform duration-200",children:[e.overallScore,"%"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Overall Performance Score"}),(0,a.jsx)(ed,{value:e.overallScore,className:"mt-2 hover:scale-105 transition-transform duration-200"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Defect Rate"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.defectRate,"%"]})]}),(0,a.jsx)(ed,{value:100-10*e.defectRate,className:"h-2 hover:scale-105 transition-transform duration-200"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"On-Time Delivery"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.onTimeDelivery,"%"]})]}),(0,a.jsx)(ed,{value:e.onTimeDelivery,className:"h-2 hover:scale-105 transition-transform duration-200"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Quality Score"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.qualityScore,"%"]})]}),(0,a.jsx)(ed,{value:e.qualityScore,className:"h-2 hover:scale-105 transition-transform duration-200"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Warranty Claims"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.warrantyClaimsRate,"%"]})]}),(0,a.jsx)(ed,{value:100-10*e.warrantyClaimsRate,className:"h-2 hover:scale-105 transition-transform duration-200"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium text-foreground mb-2 flex items-center space-x-1",children:[(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{children:"Strengths"})]}),(0,a.jsx)("div",{className:"space-y-1",children:e.strengths.map((e,s)=>(0,a.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-1 h-1 bg-green-500 rounded-full"}),(0,a.jsx)("span",{children:e})]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium text-foreground mb-2 flex items-center space-x-1",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsx)("span",{children:"Areas for Improvement"})]}),(0,a.jsx)("div",{className:"space-y-1",children:e.concerns.map((e,s)=>(0,a.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-1 h-1 bg-yellow-500 rounded-full"}),(0,a.jsx)("span",{children:e})]},s))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,a.jsx)(P.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Last delivery: ",new Date(e.lastDelivery).toLocaleDateString()]})]}),(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>n(e),className:"hover:bg-primary hover:text-primary-foreground hover:scale-105 hover:shadow-lg active:scale-95 transition-all duration-200 ease-in-out hover:border-primary group",children:(0,a.jsx)("span",{className:"group-hover:animate-pulse",children:"View Details"})})]})]})]},e.name))}),t&&(0,a.jsx)(ah,{open:e,onOpenChange:s,vendor:t})]})}var ap=t(34830),ag=t(32096),av=t(41271);let af=()=>[{id:"dns",name:"DNS Resolution",status:"pending",icon:(0,a.jsx)(av.Z,{className:"h-4 w-4"})},{id:"tcp",name:"TCP Connection",status:"pending",icon:(0,a.jsx)(eT.Z,{className:"h-4 w-4"})},{id:"ssl",name:"SSL/TLS Handshake",status:"pending",icon:(0,a.jsx)(I.Z,{className:"h-4 w-4"})},{id:"auth",name:"Authentication",status:"pending",icon:(0,a.jsx)(eC.Z,{className:"h-4 w-4"})},{id:"api",name:"API Health Check",status:"pending",icon:(0,a.jsx)(A.Z,{className:"h-4 w-4"})},{id:"data",name:"Data Validation",status:"pending",icon:(0,a.jsx)(eD.Z,{className:"h-4 w-4"})}];function aN(e){let{open:s,onOpenChange:t,system:i}=e,[n,l]=(0,r.useState)(af()),[c,d]=(0,r.useState)(!1),[o,x]=(0,r.useState)(null),[u,j]=(0,r.useState)(-1),p=async()=>{l(af()),d(!1),x(null),j(0);for(let e=0;e<n.length;e++){j(e),l(s=>s.map((s,t)=>t===e?{...s,status:"running"}:s));let s=1500*Math.random()+500;await new Promise(e=>setTimeout(e,s));let t=!("error"===i.status&&.7>Math.random())&&Math.random()>.1,a=t?g(n[e].id):v(n[e].id);if(l(r=>r.map((r,i)=>i===e?{...r,status:t?"success":"failed",duration:Math.round(s),details:a}:r)),!t){x("failed"),d(!0);return}}x("success"),d(!0),j(-1)},g=e=>({dns:"Resolved to 203.129.224.69 in 45ms",tcp:"Connected on port 443 in 120ms",ssl:"TLS 1.3 handshake successful",auth:"API key validated successfully",api:"Health endpoint returned 200 OK",data:"Data format validation passed"})[e]||"Operation completed successfully",v=e=>({dns:"DNS resolution timeout after 5000ms",tcp:"Connection refused on port 443",ssl:"SSL certificate verification failed",auth:"Invalid API credentials",api:"Health endpoint returned 503 Service Unavailable",data:"Invalid data format in response"})[e]||"Operation failed",f=n.filter(e=>"success"===e.status||"failed"===e.status).length,N=n.length;return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsxs)("span",{children:["Test Connection - ",i.name]})]}),(0,a.jsxs)(H,{children:["Running comprehensive connectivity tests for ",i.url]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Test Progress"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[f,"/",N," completed"]})]}),(0,a.jsx)(ed,{value:f/N*100,className:"h-2"})]}),c&&(0,a.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat("success"===o?"bg-green-50 border-green-500":"bg-red-50 border-red-500"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:["success"===o?(0,a.jsx)(eS.Z,{className:"h-5 w-5 text-green-500"}):(0,a.jsx)(ap.Z,{className:"h-5 w-5 text-red-500"}),(0,a.jsx)("span",{className:"font-medium ".concat("success"===o?"text-green-700":"text-red-700"),children:"success"===o?"Connection test completed successfully":"Connection test failed"})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Test Steps"}),n.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg transition-all duration-200 ".concat(u===s?"bg-blue-50 border border-blue-200":"bg-muted/30"),children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:function(e){switch(e){case"success":return(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"});case"failed":return(0,a.jsx)(ap.Z,{className:"h-4 w-4 text-red-500"});case"running":return(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"});default:return(0,a.jsx)(P.Z,{className:"h-4 w-4 text-gray-400"})}}(e.status)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.duration&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.duration,"ms"]}),(0,a.jsx)(h,{variant:"outline",className:function(e){switch(e){case"success":return"text-green-500";case"failed":return"text-red-500";case"running":return"text-blue-500";default:return"text-gray-400"}}(e.status),children:e.status})]})]}),e.details&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.details})]}),(0,a.jsx)("div",{className:"flex-shrink-0",children:e.icon})]},e.id))]}),(0,a.jsx)(s$,{}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"}),(0,a.jsx)(m,{onClick:p,disabled:-1!==u,className:"min-w-[120px]",children:-1!==u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Testing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sj.Z,{className:"h-4 w-4 mr-2"}),"Run Test"]})})]})]})]})})}var ay=t(25268);let ab=e=>{let s=["info","warning","error","debug"],t=["connection","authentication","data_sync","api","system"],a={info:["Connection established successfully","Data synchronization completed","API health check passed","Session refreshed","Backup created successfully"],warning:["High response time detected","Rate limit approaching","Temporary connection instability","Memory usage above threshold","SSL certificate expires soon"],error:["Connection timeout occurred","Authentication failed","Data validation error","API endpoint not found","Database connection lost"],debug:["Processing request batch","Cache invalidated","Query execution time: 45ms","Memory allocation successful","Thread pool status: healthy"]};return Array.from({length:150},(r,i)=>{let n=s[Math.floor(Math.random()*s.length)],l=t[Math.floor(Math.random()*t.length)],c=a[n],d=c[Math.floor(Math.random()*c.length)],o=new Date(new Date().getTime()-6e4*i*Math.random()*60).toISOString();return{id:"".concat(e,"-").concat(i),timestamp:o,level:n,category:l,message:d,details:Math.random()>.7?"Additional context information about this log entry...":void 0,source:"".concat(e,"-service")}}).sort((e,s)=>new Date(s.timestamp).getTime()-new Date(e.timestamp).getTime())};function aw(e){let{open:s,onOpenChange:t,system:i}=e,[n]=(0,r.useState)(()=>ab(i.id)),[l,c]=(0,r.useState)(""),[d,o]=(0,r.useState)("all"),[x,u]=(0,r.useState)("all"),[f,N]=(0,r.useState)(!1),y=(0,r.useMemo)(()=>n.filter(e=>{var s;let t=""===l||e.message.toLowerCase().includes(l.toLowerCase())||(null===(s=e.details)||void 0===s?void 0:s.toLowerCase().includes(l.toLowerCase())),a="all"===d||e.level===d,r="all"===x||e.category===x;return t&&a&&r}),[n,l,d,x]),b=(0,r.useMemo)(()=>{let e=n.reduce((e,s)=>(e[s.level]=(e[s.level]||0)+1,e),{});return{total:n.length,info:e.info||0,warning:e.warning||0,error:e.error||0,debug:e.debug||0}},[n]),w=async()=>{N(!0),await new Promise(e=>setTimeout(e,1500)),N(!1)};return(0,a.jsx)(O,{open:s,onOpenChange:t,children:(0,a.jsxs)(B,{className:"sm:max-w-[900px] max-h-[90vh]",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(eD.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsxs)("span",{children:["System Logs - ",i.name]})]}),(0,a.jsx)(H,{children:"View and analyze system logs for debugging and monitoring"})]}),(0,a.jsxs)(j,{defaultValue:"logs",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(g,{value:"logs",children:"Log Entries"}),(0,a.jsx)(g,{value:"stats",children:"Statistics"})]}),(0,a.jsxs)(v,{value:"logs",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(eB.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(eP,{placeholder:"Search logs...",value:l,onChange:e=>c(e.target.value),className:"pl-10"})]}),(0,a.jsxs)($,{value:d,onValueChange:o,children:[(0,a.jsx)(ee,{className:"w-full sm:w-32",children:(0,a.jsx)(X,{placeholder:"Level"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Levels"}),(0,a.jsx)(et,{value:"error",children:"Error"}),(0,a.jsx)(et,{value:"warning",children:"Warning"}),(0,a.jsx)(et,{value:"info",children:"Info"}),(0,a.jsx)(et,{value:"debug",children:"Debug"})]})]}),(0,a.jsxs)($,{value:x,onValueChange:u,children:[(0,a.jsx)(ee,{className:"w-full sm:w-40",children:(0,a.jsx)(X,{placeholder:"Category"})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"all",children:"All Categories"}),(0,a.jsx)(et,{value:"connection",children:"Connection"}),(0,a.jsx)(et,{value:"authentication",children:"Authentication"}),(0,a.jsx)(et,{value:"data_sync",children:"Data Sync"}),(0,a.jsx)(et,{value:"api",children:"API"}),(0,a.jsx)(et,{value:"system",children:"System"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Showing ",y.length," of ",n.length," entries"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:w,disabled:f,children:[f?(0,a.jsx)(ag.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(ag.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([JSON.stringify(y.map(e=>({timestamp:e.timestamp,level:e.level,category:e.category,message:e.message,details:e.details,source:e.source})),null,2)],{type:"application/json"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="".concat(i.name.replace(/[^a-zA-Z0-9]/g,"_"),"_logs_").concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s)},children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),(0,a.jsx)(en,{className:"h-[400px] border rounded-lg",children:(0,a.jsxs)("div",{className:"p-4 space-y-2",children:[y.map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 hover:bg-muted/30 rounded-lg transition-colors duration-200",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:function(e){switch(e){case"info":return(0,a.jsx)(ay.Z,{className:"h-4 w-4 text-blue-500"});case"warning":return(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-yellow-500"});case"error":return(0,a.jsx)(ap.Z,{className:"h-4 w-4 text-red-500"});case"debug":return(0,a.jsx)(A.Z,{className:"h-4 w-4 text-gray-500"});default:return(0,a.jsx)(P.Z,{className:"h-4 w-4 text-gray-400"})}}(e.level)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h,{className:"text-xs ".concat(function(e){switch(e){case"info":return"bg-blue-500/10 text-blue-500 border-blue-500";case"warning":return"bg-yellow-500/10 text-yellow-500 border-yellow-500";case"error":return"bg-red-500/10 text-red-500 border-red-500";default:return"bg-gray-500/10 text-gray-500 border-gray-500"}}(e.level)),children:e.level.toUpperCase()}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[function(e){switch(e){case"connection":return"\uD83D\uDD17";case"authentication":return"\uD83D\uDD10";case"data_sync":return"\uD83D\uDD04";case"api":return"\uD83D\uDCE1";case"system":return"⚙️";default:return"\uD83D\uDCDD"}}(e.category)," ",e.category.replace("_"," ")]})]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()})]}),(0,a.jsx)("p",{className:"text-sm font-medium text-foreground mb-1",children:e.message}),e.details&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.details}),e.source&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Source: ",e.source]})]})]},e.id)),0===y.length&&(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No logs match the current filters"})]})})]}),(0,a.jsxs)(v,{value:"stats",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:b.total}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Entries"})]}),(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500",children:b.error}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Errors"})]}),(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:b.warning}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Warnings"})]}),(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:b.info}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Info"})]}),(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-500",children:b.debug}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Debug"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Recent Activity Summary"}),(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)("h5",{className:"font-medium text-sm mb-2",children:"Last Hour"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[n.filter(e=>{let s=new Date(Date.now()-36e5);return new Date(e.timestamp)>s}).length," entries"]})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)("h5",{className:"font-medium text-sm mb-2",children:"Error Rate"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(b.error/b.total*100).toFixed(1),"% error rate"]})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)("h5",{className:"font-medium text-sm mb-2",children:"Most Active Category"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Connection events"})]})]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}var aS=t(13372);function ak(e){let{className:s,...t}=e;return(0,a.jsx)(aS.fC,{"data-slot":"checkbox",className:d("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(aS.z$,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(G.Z,{className:"size-3.5"})})})}let aR=(0,n.j)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function aC(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:d(aR({variant:t}),s),...r})}function aD(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:d("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}let aM=[{id:"cleanup",name:"Cleanup existing connections",status:"pending",description:"Closing any existing connections and clearing cache"},{id:"config",name:"Validate configuration",status:"pending",description:"Checking connection parameters and credentials"},{id:"establish",name:"Establish new connection",status:"pending",description:"Creating new connection with updated parameters"},{id:"verify",name:"Verify connectivity",status:"pending",description:"Testing connection stability and data flow"},{id:"sync",name:"Resume data synchronization",status:"pending",description:"Restarting data sync processes"}];function aT(e){let{open:s,onOpenChange:t,system:i}=e,[n,l]=(0,r.useState)(aM),[c,d]=(0,r.useState)(!1),[o,x]=(0,r.useState)(!1),[u,j]=(0,r.useState)(!1),[p,g]=(0,r.useState)(-1),[v,f]=(0,r.useState)("30"),[N,y]=(0,r.useState)("3"),[b,w]=(0,r.useState)(!1),[k,R]=(0,r.useState)(!0),[C,D]=(0,r.useState)(!0),[M,T]=(0,r.useState)(""),A=async()=>{d(!0),x(!1),l(aM.map(e=>({...e,status:"pending"})));for(let e=0;e<n.length;e++){g(e),l(s=>s.map((s,t)=>t===e?{...s,status:"running"}:s)),await new Promise(e=>e());let s=Math.random()>.05;if(l(t=>t.map((t,a)=>a===e?{...t,status:s?"success":"failed"}:t)),!s){j(!1),x(!0),d(!1),g(-1);return}}j(!0),x(!0),d(!1),g(-1)},I=()=>{c||(f("30"),y("3"),w(!1),R(!0),D(!0),T(""),l(aM.map(e=>({...e,status:"pending"}))),x(!1),g(-1),t(!1))},L=n.filter(e=>"success"===e.status||"failed"===e.status).length,F=n.length,z=c?L/F*100:0;return(0,a.jsx)(O,{open:s,onOpenChange:I,children:(0,a.jsxs)(B,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(U,{children:[(0,a.jsxs)(_,{className:"flex items-center space-x-2",children:[(0,a.jsx)(ag.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsxs)("span",{children:["Reconnect System - ",i.name]})]}),(0,a.jsx)(H,{children:"Re-establish connection with enhanced configuration options"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(aC,{children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4"}),(0,a.jsx)(aD,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{children:["Current Status: ",(0,a.jsx)(h,{variant:"destructive",children:"Error"})]}),(0,a.jsxs)("div",{children:["Error Count (24h): ",i.errorCount]}),(0,a.jsxs)("div",{children:["Last Successful Sync: ",new Date(i.lastSync).toLocaleString()]})]})})]}),!c&&!o&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h4",{className:"font-medium flex items-center space-x-2",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Reconnection Settings"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"timeout",children:"Connection Timeout (seconds)"}),(0,a.jsxs)($,{value:v,onValueChange:f,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"15",children:"15 seconds"}),(0,a.jsx)(et,{value:"30",children:"30 seconds"}),(0,a.jsx)(et,{value:"60",children:"60 seconds"}),(0,a.jsx)(et,{value:"120",children:"2 minutes"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"retries",children:"Retry Attempts"}),(0,a.jsxs)($,{value:N,onValueChange:y,children:[(0,a.jsx)(ee,{children:(0,a.jsx)(X,{})}),(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{value:"1",children:"1 attempt"}),(0,a.jsx)(et,{value:"3",children:"3 attempts"}),(0,a.jsx)(et,{value:"5",children:"5 attempts"}),(0,a.jsx)(et,{value:"10",children:"10 attempts"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ak,{id:"backup",checked:b,onCheckedChange:e=>w(!0===e)}),(0,a.jsx)(s1,{htmlFor:"backup",className:"text-sm",children:"Use backup endpoint if primary fails"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ak,{id:"cache",checked:k,onCheckedChange:e=>R(!0===e)}),(0,a.jsx)(s1,{htmlFor:"cache",className:"text-sm",children:"Clear connection cache before reconnecting"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ak,{id:"notify",checked:C,onCheckedChange:e=>D(!0===e)}),(0,a.jsx)(s1,{htmlFor:"notify",className:"text-sm",children:"Send notification when reconnection completes"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s1,{htmlFor:"reason",children:"Reason for Reconnection (Optional)"}),(0,a.jsx)(s2,{id:"reason",placeholder:"Describe the issue or reason for reconnecting...",value:M,onChange:e=>T(e.target.value),rows:3})]})]}),(c||o)&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Reconnection Progress"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[L,"/",F," steps completed"]})]}),(0,a.jsx)(ed,{value:z,className:"h-2"})]}),o&&(0,a.jsxs)(aC,{className:u?"border-green-500 bg-green-50":"border-red-500 bg-red-50",children:[u?(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(ap.Z,{className:"h-4 w-4 text-red-500"}),(0,a.jsx)(aD,{className:u?"text-green-700":"text-red-700",children:u?"Reconnection completed successfully! System is now online.":"Reconnection failed. Please check system logs and try again."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Reconnection Steps"}),n.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg transition-all duration-200 ".concat(p===s?"bg-blue-50 border border-blue-200":"bg-muted/30"),children:[(0,a.jsxs)("div",{className:"flex-shrink-0",children:["running"===e.status&&(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),"success"===e.status&&(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"}),"failed"===e.status&&(0,a.jsx)(ap.Z,{className:"h-4 w-4 text-red-500"}),"pending"===e.status&&(0,a.jsx)(P.Z,{className:"h-4 w-4 text-gray-400"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsx)(h,{variant:"outline",className:"success"===e.status?"text-green-500":"failed"===e.status?"text-red-500":"running"===e.status?"text-blue-500":"text-gray-400",children:e.status})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]})]},e.id))]})]}),(0,a.jsx)(s$,{}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(m,{variant:"outline",onClick:I,disabled:c,children:o?"Close":"Cancel"}),!o&&(0,a.jsx)(m,{onClick:A,disabled:c,className:"min-w-[140px]",children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Reconnecting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sj.Z,{className:"h-4 w-4 mr-2"}),"Start Reconnection"]})}),o&&u&&(0,a.jsxs)(m,{onClick:I,children:[(0,a.jsx)(eS.Z,{className:"h-4 w-4 mr-2"}),"Continue"]})]})]})]})})}let aA=[{id:"udm",name:"UDM (ireps.gov.in)",description:"Unified Data Management System for Railway Procurement",url:"https://ireps.gov.in",status:"connected",lastSync:"2024-12-14T10:30:00Z",responseTime:245,uptime:99.8,dataPoints:125e4,errorCount:2,version:"v2.4.1"},{id:"tms",name:"TMS (irecept.gov.in)",description:"Track Management System for Asset Monitoring",url:"https://irecept.gov.in",status:"warning",lastSync:"2024-12-14T09:45:00Z",responseTime:1200,uptime:97.2,dataPoints:89e4,errorCount:15,version:"v1.8.3"},{id:"ntes",name:"NTES",description:"National Train Enquiry System Integration",url:"https://enquiry.indianrail.gov.in",status:"connected",lastSync:"2024-12-14T10:25:00Z",responseTime:180,uptime:99.5,dataPoints:21e5,errorCount:1,version:"v3.1.0"},{id:"fois",name:"FOIS",description:"Freight Operations Information System",url:"https://fois.indianrail.gov.in",status:"error",lastSync:"2024-12-14T08:15:00Z",responseTime:0,uptime:85.3,dataPoints:45e4,errorCount:45,version:"v2.1.2"},{id:"cris",name:"CRIS Portal",description:"Centre for Railway Information Systems",url:"https://cris.indianrail.gov.in",status:"maintenance",lastSync:"2024-12-14T06:00:00Z",responseTime:0,uptime:92.1,dataPoints:32e5,errorCount:0,version:"v4.2.0"}];function aI(e){return 0===e?"text-gray-500":e<300?"text-green-500":e<1e3?"text-yellow-500":"text-red-500"}function aZ(){let[e,s]=(0,r.useState)(new Date),[t,i]=(0,r.useState)(!1),[n,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[o,x]=(0,r.useState)(!1),[u,j]=(0,r.useState)(null),p=async()=>{i(!0),await new Promise(e=>setTimeout(e,2e3)),s(new Date),i(!1)},g=e=>{j(e),l(!0)},v=e=>{j(e),d(!0)},f=e=>{j(e),x(!0)},y=aA.filter(e=>"connected"===e.status).length,b=aA.length,w=y/b*100;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(k,{className:"animate-fade-in-up",children:[(0,a.jsx)(R,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(av.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Integration Status Dashboard"})]}),(0,a.jsx)(D,{children:"Live operational status of integrated government railway systems"})]}),(0,a.jsxs)(m,{onClick:p,disabled:t,variant:"outline",size:"sm",className:"hover:bg-primary hover:text-primary-foreground hover:scale-105 hover:shadow-lg active:scale-95 transition-all duration-200 ease-in-out hover:border-primary",children:[t?(0,a.jsx)(ag.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(ag.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),(0,a.jsx)(M,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center hover:scale-105 transition-transform duration-200 cursor-pointer",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[y,"/",b]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Systems Online"})]}),(0,a.jsxs)("div",{className:"text-center hover:scale-105 transition-transform duration-200 cursor-pointer",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-500",children:[w.toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Overall Health"})]}),(0,a.jsxs)("div",{className:"text-center hover:scale-105 transition-transform duration-200 cursor-pointer",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:aA.reduce((e,s)=>e+s.dataPoints,0).toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Data Points"})]}),(0,a.jsxs)("div",{className:"text-center hover:scale-105 transition-transform duration-200 cursor-pointer",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-muted-foreground",children:e.toLocaleTimeString()}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last Updated"})]})]})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:aA.map((e,s)=>(0,a.jsxs)(k,{className:"animate-slide-in-right hover:shadow-xl hover:scale-[1.02] transition-all duration-300 ease-in-out hover:border-primary/20 group",style:{animationDelay:"".concat(100*s,"ms")},children:[(0,a.jsx)(R,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"group-hover:scale-110 transition-transform duration-200",children:function(e){switch(e){case"connected":return(0,a.jsx)(eS.Z,{className:"h-5 w-5 text-green-500"});case"warning":return(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-yellow-500"});case"error":return(0,a.jsx)(ap.Z,{className:"h-5 w-5 text-red-500"});case"maintenance":return(0,a.jsx)(ag.Z,{className:"h-5 w-5 text-blue-500"});default:return(0,a.jsx)(ap.Z,{className:"h-5 w-5 text-gray-500"})}}(e.status)}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{className:"text-lg group-hover:text-primary transition-colors duration-200",children:e.name}),(0,a.jsx)(D,{children:e.description})]})]}),(0,a.jsx)("div",{className:"hover:scale-110 transition-transform duration-200",children:function(e){switch(e){case"connected":return(0,a.jsx)(h,{className:"bg-green-500",children:"Connected"});case"warning":return(0,a.jsx)(h,{className:"bg-yellow-500",children:"Warning"});case"error":return(0,a.jsx)(h,{variant:"destructive",children:"Error"});case"maintenance":return(0,a.jsx)(h,{className:"bg-blue-500",children:"Maintenance"});default:return(0,a.jsx)(h,{variant:"outline",children:"Unknown"})}}(e.status)})]})}),(0,a.jsxs)(M,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"URL"}),(0,a.jsx)("p",{className:"font-mono text-xs truncate",children:e.url})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Version"}),(0,a.jsx)("p",{className:"font-mono",children:e.version})]})]}),(0,a.jsx)(s$,{}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:"Response Time"})]}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(aI(e.responseTime)),children:0===e.responseTime?"N/A":"".concat(e.responseTime,"ms")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(sj.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:"Uptime"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.uptime,"%"]})]}),(0,a.jsx)(ed,{value:e.uptime,className:"h-2 hover:scale-105 transition-transform duration-200"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eD.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:"Data Points"})]}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.dataPoints.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:"Error Count (24h)"})]}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(e.errorCount>10?"text-red-500":e.errorCount>0?"text-yellow-500":"text-green-500"),children:e.errorCount})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:"Last Sync"})]}),(0,a.jsx)("span",{className:"text-sm font-medium",children:new Date(e.lastSync).toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",className:"flex-1 bg-transparent hover:bg-blue-500 hover:text-white hover:scale-105 hover:shadow-lg active:scale-95 transition-all duration-200 ease-in-out hover:border-blue-500 group",onClick:()=>g(e),children:[(0,a.jsx)(A.Z,{className:"h-4 w-4 mr-2 group-hover:animate-pulse"}),"Test Connection"]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",className:"flex-1 bg-transparent hover:bg-green-500 hover:text-white hover:scale-105 hover:shadow-lg active:scale-95 transition-all duration-200 ease-in-out hover:border-green-500 group",onClick:()=>v(e),children:[(0,a.jsx)(eD.Z,{className:"h-4 w-4 mr-2 group-hover:animate-bounce"}),"View Logs"]}),"error"===e.status&&(0,a.jsxs)(m,{size:"sm",className:"flex-1 hover:scale-105 hover:shadow-lg active:scale-95 transition-all duration-200 ease-in-out bg-red-500 hover:bg-red-600 group",onClick:()=>f(e),children:[(0,a.jsx)(ag.Z,{className:"h-4 w-4 mr-2 group-hover:animate-spin"}),"Reconnect"]})]})]})]},e.id))}),(0,a.jsxs)(k,{className:"animate-fade-in-up",children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(C,{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"System Health Timeline"})]}),(0,a.jsx)(D,{children:"24-hour status history for all integrated systems"})]}),(0,a.jsxs)(M,{children:[(0,a.jsx)("div",{className:"space-y-6",children:aA.map((e,s)=>{let t=e.uptime,r=Array.from({length:24}).map((e,s)=>{let a=s===new Date().getHours(),r=100*Math.random(),i=r>100-t?"up":"down";return{hour:s,status:i,severity:"down"===i?r<5?"critical":r<15?"major":"minor":null,isCurrentHour:a}});return(0,a.jsxs)("div",{className:"bg-gradient-to-r from-muted/10 to-muted/5 p-4 rounded-lg border border-muted/20 hover:border-primary/20 transition-all duration-300 group",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("connected"===e.status?"bg-green-500 animate-pulse":"bg-red-500")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm group-hover:text-primary transition-colors duration-200",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.url})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-primary",children:[e.uptime,"%"]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Uptime"})]}),(0,a.jsx)(h,{variant:"connected"===e.status?"default":"destructive",className:"text-xs",children:"connected"===e.status?"Online":"Offline"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"24h ago"}),(0,a.jsx)("span",{children:"12h ago"}),(0,a.jsx)("span",{children:"Now"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"h-12 bg-muted/30 rounded-lg overflow-hidden relative",children:(0,a.jsx)("div",{className:"flex h-full",children:r.map((e,s)=>(0,a.jsxs)("div",{className:"flex-1 relative group/hour ".concat("up"===e.status?"bg-gradient-to-t from-green-400 to-green-500":"critical"===e.severity?"bg-gradient-to-t from-red-600 to-red-500":"major"===e.severity?"bg-gradient-to-t from-red-500 to-red-400":"bg-gradient-to-t from-orange-500 to-orange-400"," ").concat(e.isCurrentHour?"ring-2 ring-primary ring-inset":""," transition-all duration-200 hover:scale-110 hover:z-10"),style:{marginRight:s<23?"1px":"0",transform:e.isCurrentHour?"scaleY(1.1)":"scaleY(1)"},children:[(0,a.jsxs)("div",{className:"absolute bottom-14 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs px-2 py-1 rounded opacity-0 group-hover/hour:opacity-100 transition-opacity duration-200 pointer-events-none z-20 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"font-semibold",children:[(23-s).toString().padStart(2,"0"),":00"]}),(0,a.jsx)("div",{className:"up"===e.status?"text-green-300":"text-red-300",children:"up"===e.status?"✓ Online":"✗ ".concat(e.severity," outage")}),(0,a.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black"})]}),"down"===e.status&&"critical"===e.severity&&(0,a.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-1 h-full bg-red-800"})]},s))})}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-0.5 h-12 bg-primary shadow-lg"}),(0,a.jsx)("div",{className:"absolute -top-1 right-0 transform translate-x-1/2",children:(0,a.jsx)("div",{className:"w-3 h-3 bg-primary rounded-full shadow-lg"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-muted/20",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Online"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Minor Issue"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Major/Critical"})]})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Last incident: ",Math.floor(6*Math.random())+1,"h ago"]})]})]})]},e.id)})}),(0,a.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,a.jsx)(N.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Overall System Health"}),(0,a.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Past 24 hours average"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:[(aA.reduce((e,s)=>e+s.uptime,0)/aA.length).toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Availability"})]})]})})]})]}),(0,a.jsxs)(k,{className:"animate-fade-in-up",children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(C,{children:"API Endpoints Health Check"}),(0,a.jsx)(D,{children:"Real-time status of critical API endpoints"})]}),(0,a.jsx)(M,{children:(0,a.jsx)("div",{className:"space-y-3",children:[{endpoint:"/api/v1/fittings",status:"healthy",responseTime:120},{endpoint:"/api/v1/vendors",status:"healthy",responseTime:95},{endpoint:"/api/v1/analytics",status:"degraded",responseTime:850},{endpoint:"/api/v1/sync/udm",status:"healthy",responseTime:245},{endpoint:"/api/v1/sync/tms",status:"unhealthy",responseTime:0},{endpoint:"/api/v1/reports",status:"healthy",responseTime:180}].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg hover:bg-muted/50 hover:scale-[1.01] transition-all duration-200 ease-in-out group",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full group-hover:scale-125 transition-transform duration-200 ".concat("healthy"===e.status?"bg-green-500":"degraded"===e.status?"bg-yellow-500":"bg-red-500")}),(0,a.jsx)("span",{className:"font-mono text-sm group-hover:text-primary transition-colors duration-200",children:e.endpoint})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(h,{className:"hover:scale-105 transition-transform duration-200",variant:"healthy"===e.status?"default":"degraded"===e.status?"secondary":"destructive",children:e.status}),(0,a.jsx)("span",{className:"text-sm hover:scale-110 transition-transform duration-200 ".concat(aI(e.responseTime)),children:0===e.responseTime?"Timeout":"".concat(e.responseTime,"ms")})]})]},s))})})]}),u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(aN,{open:n,onOpenChange:l,system:u}),(0,a.jsx)(aw,{open:c,onOpenChange:d,system:u}),(0,a.jsx)(aT,{open:o,onOpenChange:x,system:u})]})]})}var aL=t(99014);function aF(e){let{notifications:s,unreadCount:t,onMarkAsRead:i,onMarkAllAsRead:n,onRemoveNotification:l}=e,[c,d]=(0,r.useState)(!1),o=e=>{switch(e){case"alert":return(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-red-500"});case"warning":return(0,a.jsx)(ek.Z,{className:"h-5 w-5 text-yellow-500"});case"success":return(0,a.jsx)(eS.Z,{className:"h-5 w-5 text-green-500"});default:return(0,a.jsx)(ay.Z,{className:"h-5 w-5 text-blue-500"})}},x=e=>{let s=new Date().getTime()-e.getTime(),t=Math.floor(s/6e4),a=Math.floor(s/36e5);return t<60?"".concat(t,"m ago"):a<24?"".concat(a,"h ago"):"".concat(Math.floor(s/864e5),"d ago")},u=e=>{switch(e){case"high":return"border-l-red-500 bg-red-50 dark:bg-red-950/20";case"medium":return"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950/20";default:return"border-l-blue-500 bg-blue-50 dark:bg-blue-950/20"}};return(0,a.jsxs)(O,{open:c,onOpenChange:d,children:[(0,a.jsx)(q,{asChild:!0,children:(0,a.jsxs)(m,{variant:"outline",size:"icon",className:"animate-pulse-glow bg-transparent relative hover-lift animate-bounce-in animate-delay-500 transition-all duration-200",children:[(0,a.jsx)(aL.Z,{className:"h-4 w-4"}),t>0&&(0,a.jsx)(h,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs animate-pulse",children:t})]})}),(0,a.jsxs)(B,{className:"max-w-2xl max-h-[80vh] p-0",children:[(0,a.jsx)(U,{className:"p-6 pb-4",children:(0,a.jsxs)(_,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(aL.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:"Notifications"}),t>0&&(0,a.jsxs)(h,{variant:"secondary",className:"ml-2",children:[t," unread"]})]}),t>0&&(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:n,className:"text-xs",children:"Mark all read"})]})}),(0,a.jsx)(s$,{}),(0,a.jsx)(en,{className:"flex-1 max-h-96",children:0===s.length?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)(aL.Z,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No notifications"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"You're all caught up! New notifications will appear here."})]}):(0,a.jsx)("div",{className:"p-4 space-y-3",children:s.map(e=>(0,a.jsx)("div",{className:"relative p-4 rounded-lg border-l-4 transition-all duration-200 hover:shadow-md cursor-pointer ".concat(e.isRead?"border-l-gray-300 bg-gray-50 dark:bg-gray-900/20":u(e.priority)),onClick:()=>i(e.id),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:o(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-foreground",children:e.title}),!e.isRead&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center",children:[(0,a.jsx)(P.Z,{className:"h-3 w-3 mr-1"}),x(e.timestamp)]}),(0,a.jsxs)(h,{variant:"outline",className:"text-xs ".concat("high"===e.priority?"border-red-200 text-red-700 dark:border-red-800 dark:text-red-300":"medium"===e.priority?"border-yellow-200 text-yellow-700 dark:border-yellow-800 dark:text-yellow-300":"border-blue-200 text-blue-700 dark:border-blue-800 dark:text-blue-300"),children:[e.priority," priority"]})]})]})]}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),l(e.id)},className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground hover:bg-destructive/10 ml-2",children:(0,a.jsx)(E.Z,{className:"h-4 w-4"})})]})},e.id))})}),s.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s$,{}),(0,a.jsx)("div",{className:"p-4 bg-muted/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Total: ",s.length," notifications"]}),(0,a.jsxs)("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]})})]})]})]})}function aP(){let[e,s]=(0,r.useState)("dashboard"),[t,i]=(0,r.useState)({vendorName:"",lotNumber:"",itemType:"",manufactureDate:"",supplyDate:"",warrantyPeriod:"24",specifications:"",batchId:""}),[n,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[o,x]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[g,k]=(0,r.useState)(!1),[R,C]=(0,r.useState)(!1),[D,M]=(0,r.useState)([{id:1,title:"High Risk Alert",message:"Batch 23-12-5678 requires immediate inspection",type:"alert",timestamp:new Date(Date.now()-18e5),isRead:!1,priority:"high"},{id:2,title:"Warranty Expiring",message:"15 fittings warranty expires in 7 days",type:"warning",timestamp:new Date(Date.now()-72e5),isRead:!1,priority:"medium"},{id:3,title:"Quality Score Update",message:"Vendor performance report generated",type:"info",timestamp:new Date(Date.now()-144e5),isRead:!0,priority:"low"},{id:4,title:"System Maintenance",message:"Scheduled maintenance completed successfully",type:"success",timestamp:new Date(Date.now()-216e5),isRead:!0,priority:"low"},{id:5,title:"New Integration",message:"UDM system sync established",type:"info",timestamp:new Date(Date.now()-864e5),isRead:!0,priority:"medium"}]),T=D.filter(e=>!e.isRead).length,A=async()=>{l(!0),await new Promise(e=>setTimeout(e,2e3)),l(!1),d(!0)},I=async()=>{if(!tc(t)){console.error("Invalid fitting data for QR generation");return}try{let e="QR_".concat(t.batchId,"_").concat(new Date().toISOString().split("T")[0],".png");await tn(t,e,{width:512,margin:4,errorCorrectionLevel:"H"}),console.log("QR code downloaded successfully as PNG")}catch(e){console.error("Failed to download QR code:",e)}},Z=async()=>{if(!tc(t)){console.error("Invalid fitting data for email");return}try{let e="QR_Certificate_".concat(t.batchId,".svg");await tl(t,e,{width:400,margin:3,errorCorrectionLevel:"H"}),console.log("QR certificate prepared for email (downloaded as SVG)")}catch(e){console.error("Failed to prepare email certificate:",e)}};(0,r.useEffect)(()=>{let e=setTimeout(()=>k(!0),100);return()=>clearTimeout(e)},[]);let L=e=>{C(!0),setTimeout(()=>{s(e),C(!1)},150)};return(0,a.jsxs)("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-primary/5 rounded-full animate-float"}),(0,a.jsx)("div",{className:"absolute top-40 right-20 w-24 h-24 bg-accent/5 rounded-full animate-float animate-delay-200"}),(0,a.jsx)("div",{className:"absolute bottom-20 left-1/4 w-40 h-40 bg-primary/3 rounded-full animate-float animate-delay-500"}),(0,a.jsx)("div",{className:"absolute bottom-40 right-1/3 w-28 h-28 bg-accent/4 rounded-full animate-float animate-delay-300"})]}),(0,a.jsx)("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50 hover-glow",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 ".concat(g?"animate-slide-in-left":"opacity-0"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f.Z,{className:"h-8 w-8 text-primary animate-pulse-glow animate-rotate-slow"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground animate-shimmer",children:"RailSuraksha"})]}),(0,a.jsx)(h,{variant:"secondary",className:"animate-bounce-in animate-delay-300 hover-lift",children:"AI-Powered Railway Analytics"})]}),(0,a.jsxs)("nav",{className:"flex items-center space-x-6 ".concat(g?"animate-slide-in-right":"opacity-0"),children:[(0,a.jsxs)(m,{variant:"dashboard"===e?"default":"ghost",onClick:()=>L("dashboard"),className:"transition-all duration-300 hover:scale-105 hover-lift animate-fade-in-up animate-delay-100",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),(0,a.jsxs)(m,{variant:"qr-generation"===e?"default":"ghost",onClick:()=>L("qr-generation"),className:"transition-all duration-300 hover:scale-105 hover-lift animate-fade-in-up animate-delay-200",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Generate QR"]}),(0,a.jsxs)(m,{variant:"inventory"===e?"default":"ghost",onClick:()=>L("inventory"),className:"transition-all duration-300 hover:scale-105 hover-lift animate-fade-in-up animate-delay-300",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"Inventory"]}),(0,a.jsxs)(m,{variant:"analytics"===e?"default":"ghost",onClick:()=>L("analytics"),className:"transition-all duration-300 hover:scale-105 hover-lift animate-fade-in-up animate-delay-500",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Analytics"]}),(0,a.jsxs)(m,{variant:"integration"===e?"default":"ghost",onClick:()=>L("integration"),className:"transition-all duration-300 hover:scale-105 hover-lift animate-fade-in-up animate-delay-500",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Integration"]}),(0,a.jsx)(aF,{notifications:D,unreadCount:T,onMarkAsRead:e=>{M(s=>s.map(s=>s.id===e?{...s,isRead:!0}:s))},onMarkAllAsRead:()=>{M(e=>e.map(e=>({...e,isRead:!0})))},onRemoveNotification:e=>{M(s=>s.filter(s=>s.id!==e))}})]})]})})}),(0,a.jsx)("main",{className:"container mx-auto px-4 py-8 relative z-10",children:(0,a.jsxs)(j,{value:e,onValueChange:s,className:"w-full",children:[(0,a.jsxs)(v,{value:"dashboard",className:"space-y-8 ".concat(R?"opacity-0":"animate-slide-up-fade"),children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary/20 via-accent/15 to-primary/20 rounded-lg p-6 animate-scale-in border border-primary/20 hover-glow animate-shimmer",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"animate-fade-in-up",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Railway Operations Dashboard"}),(0,a.jsxs)("p",{className:"text-muted-foreground text-lg",children:["Monitoring ",(0,a.jsx)("span",{className:"text-primary font-semibold animate-pulse",children:"4.2M fittings"})," across"," ",(0,a.jsx)("span",{className:"text-primary font-semibold animate-pulse animate-delay-200",children:"12 zones"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 animate-slide-in-right animate-delay-300",children:[(0,a.jsx)("div",{className:"h-6 w-6 text-green-500 animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-green-500 font-medium",children:"All Systems Operational"})]})]})}),(0,a.jsx)("div",{className:"animate-fade-in-up animate-delay-200",children:(0,a.jsx)(sV,{})}),(0,a.jsx)("div",{className:"animate-fade-in-up animate-delay-300",children:(0,a.jsx)(sB,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"animate-slide-in-left animate-delay-500",children:(0,a.jsx)(sH,{})}),(0,a.jsx)("div",{className:"animate-slide-in-right animate-delay-500",children:(0,a.jsx)(sQ,{})})]}),(0,a.jsx)("div",{className:"animate-scale-in animate-delay-500",children:(0,a.jsx)(sJ,{})}),(0,a.jsx)("div",{className:"animate-slide-up-fade animate-delay-500",children:(0,a.jsx)(s6,{})})]}),(0,a.jsx)(v,{value:"qr-generation",className:"space-y-8 ".concat(R?"opacity-0":"animate-slide-up-fade"),children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"animate-slide-in-left",children:(0,a.jsx)(te,{onDataChange:e=>{i(e),d(!1)},onGenerate:A,isGenerating:n})}),(0,a.jsx)("div",{className:"animate-slide-in-right animate-delay-200",children:(0,a.jsx)(td,{data:t,isGenerated:c,onDownload:I,onEmail:Z,onPrint:()=>{if(!tc(t)){console.error("Invalid fitting data for printing");return}window.print(),console.log("Opening print dialog for certificate template")}})})]})}),(0,a.jsx)(v,{value:"inventory",className:"space-y-8 ".concat(R?"opacity-0":"animate-slide-up-fade"),children:(0,a.jsx)("div",{className:"animate-scale-in",children:(0,a.jsx)(t_,{onViewTimeline:e=>{x(e),p(!0)}})})}),(0,a.jsxs)(v,{value:"analytics",className:"space-y-8 ".concat(R?"opacity-0":"animate-slide-up-fade"),children:[(0,a.jsx)("div",{className:"animate-fade-in-up",children:(0,a.jsx)(ac,{})}),(0,a.jsx)("div",{className:"animate-fade-in-up animate-delay-300",children:(0,a.jsx)(aj,{})})]}),(0,a.jsx)(v,{value:"integration",className:"space-y-8 ".concat(R?"opacity-0":"animate-slide-up-fade"),children:(0,a.jsx)("div",{className:"animate-scale-in",children:(0,a.jsx)(aZ,{})})})]})}),(0,a.jsx)(tG,{item:o,isOpen:u,onClose:()=>{p(!1),x(null)}})]})}}},function(e){e.O(0,[189,406,653,744],function(){return e(e.s=46207)}),_N_E=e.O()}]);